<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css' /><title>Read Operations &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/core/read-operations/" /><meta name="robots" content="index" />
  <meta name="release" content="2.2.7"/>
  <meta name="version" content="2.2"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/v2.2/source/core/read-operations.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css" />
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Core MongoDB Operations (CRUD)" href="../crud.html" />
<link rel="next" title="Write Operations" href="write-operations.html" />
<link rel="prev" title="Core MongoDB Operations (CRUD)" href="../crud.html" /><script type='text/javascript'>
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script></head>
<body data-project="manual" data-project-title="MongoDB Manual" data-branch="v2.2" data-enable-marian=1 data-eol="True">
  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" style="margin-top: 0;">

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown" disabled aria-disabled="disabled">
          
          
          Version 2.2
        </button>
        <a href="https://www.mongodb.com/docs/legacy">&larr; Return to Documentation</a>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing MongoDB</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-centos-or-fedora-linux.html">Install MongoDB on Red Hat Enterprise, CentOS, or Fedora</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install MongoDB on Ubuntu</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install MongoDB on Debian</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-linux.html">Install MongoDB on Linux Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install MongoDB on OS X</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install MongoDB on Windows</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started with MongoDB Development</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/operational-segregation.html">Operational Segregation in MongoDB Operations and Deployments</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/journaling.html">Journaling</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/ssl.html">Use MongoDB with SSL Connections</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/snmp.html">Use MongoDB with SNMP Monitoring</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/monitoring.html">Monitoring Database Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/import-export.html">Importing and Exporting MongoDB Data</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/backups.html">Backup Strategies for MongoDB Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/security.html">Security Practices and Management</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/vulnerability-notification.html">Vulnerability Notification</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-authentication.html">Control Access to MongoDB Instances with Authentication</a></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a><ul class="current"><li class="toctree-l2 current"><a class="reference internal current" href="">Read Operations</a></li><li class="toctree-l2"><a class="reference internal" href="write-operations.html">Write Operations</a></li><li class="toctree-l2"><a class="reference internal" href="data-modeling.html">Data Modeling Considerations for MongoDB Applications</a></li><li class="toctree-l2"><a class="reference internal" href="document.html">BSON Documents</a></li><li class="toctree-l2"><a class="reference internal" href="object-id.html">ObjectId</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/database-references.html">Database References</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/gridfs.html">GridFS</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/create.html">Create</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/read.html">Read</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/update.html">Update</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/delete.html">Delete</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model Embedded One-to-One Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model Embedded One-to-Many Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model Referenced One-to-Many Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a><ul><li class="toctree-l2"><a class="reference internal" href="../applications/aggregation.html">Aggregation Framework</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/aggregation-examples.html">Aggregation Framework Examples</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Framework Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/map-reduce.html">Map-Reduce</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/simple-aggregation.html">Simple Aggregation Methods and Commands</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="indexes.html">Indexing Overview</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/indexes.html">Indexing Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/geospatial-indexes.html">Geospatial Queries with <code class="docutils literal"><span class="pre">2d</span></code> Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Geospatial Indexes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="replication.html">Replica Set Fundamental Concepts</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-sets.html">Replica Set Operation and Management</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-architectures.html">Replica Set Architectures and Deployment Patterns</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Considerations and Behaviors for Applications and Development</a></li><li class="toctree-l2"><a class="reference internal" href="replication-internals.html">Replica Set Internals and Behaviors</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/master-slave.html">Master Slave Replication</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Distributed Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover MongoDB Data following Unexpected Shutdown</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-commands.html">Replica Set Commands</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/replica-set-features.html">Replica Set Features and Version Compatibility</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a><ul><li class="toctree-l2"><a class="reference internal" href="sharded-clusters.html">Sharded Cluster Overview</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-clusters.html">Sharded Cluster Administration</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-cluster-architectures.html">Sharded Cluster Architectures</a></li><li class="toctree-l2"><a class="reference internal" href="sharded-cluster-internals.html">Sharded Cluster Internals and Behaviors</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-sharded-cluster-config-server.html">Manage the Config Servers</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-chunks-in-sharded-cluster.html">Manage Chunks in a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-sharded-cluster-balancer.html">Configure Behavior of Balancer Process in Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-small-sharded-cluster-with-mongodump.html">Backup a Small Sharded Cluster with <code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Create Backup of a Sharded Cluster with Filesystem Snapshots</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Create Backup of a Sharded Cluster with Database Dumps</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/restore-single-shard.html">Restore a Single Shard</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/tag-aware-sharding.html">Tag Aware Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/enforce-unique-keys-for-sharded-collections.html">Enforce Unique Keys for Sharded Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding-commands.html">Sharding Commands</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a><ul><li class="toctree-l2"><a class="reference internal" href="../applications/drivers.html">MongoDB Drivers and Client Libraries</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/optimization.html">Optimization Strategies for MongoDB Applications</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/server-side-javascript.html">Server-side JavaScript</a></li><li class="toctree-l2"><a class="reference internal" href="capped-collections.html">Capped Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/perform-two-phase-commits.html">Perform Two Phase Commits</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-tailable-cursor.html">Create Tailable Cursor</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/isolate-sequence-of-operations.html">Isolate Sequence of Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-an-auto-incrementing-field.html">Create an Auto-Incrementing Sequence Field</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../mongo.html">Using the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started-with-the-mongo-shell.html">Getting Started with the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="shell-types.html">Data Types in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help Information</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../tutorial.html">MongoDB Tutorials</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/use-database-commands.html">Use Database Commands</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover MongoDB Data following Unexpected Shutdown</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/copy-databases-between-instances.html">Copy Databases Between Instances</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-databases-with-binary-database-dumps.html">Use <code class="docutils literal"><span class="pre">mongodump</span></code> and <code class="docutils literal"><span class="pre">mongorestore</span></code> to Backup and Restore MongoDB Databases</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-databases-with-filesystem-snapshots.html">Use Filesystem Snapshots to Backup and Restore MongoDB Databases</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Analyze Performance of Database Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/roll-back-to-v1.8-index.html">Build Old Style Indexes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul><li class="toctree-l2"><a class="reference internal" href="../faq/fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/developers.html">FAQ: MongoDB for Application Developers</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/mongo.html">FAQ: The <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/replica-sets.html">FAQ: Replica Sets and Replication in MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a><ul><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Query, Update, Projection, and Aggregation Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/uniqueDocs.html">$uniqueDocs</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/within.html">$within</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/isolated.html">$isolated</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/positional.html">$ (update)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pushAll.html">$pushAll</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/comment.html">$comment</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/explain.html">$explain</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/hint.html">$hint</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/max.html">$max</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/maxScan.html">$maxScan</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/min.html">$min</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/orderby.html">$orderby</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/query.html">$query</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/returnKey.html">$returnKey</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/showDiskLoc.html">$showDiskLoc</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/snapshot.html">$snapshot</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/applyOps.html">applyOps (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/availableQueryOptions.html">availableQueryOptions (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/clean.html">clean (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/clone.html">clone</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cloneCollection.html">cloneCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/closeAllDatabases.html">closeAllDatabases (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/connPoolSync.html">connPoolSync (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/copydb.html">copydb</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/copydbgetnonce.html">copydbgetnonce (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cursorInfo.html">cursorInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dbHash.html">dbHash (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/diagLogging.html">diagLogging (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/eval.html">eval</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/features.html">features (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoNear.html">geoNear</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoWalk.html">geoWalk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getPrevError.html">getPrevError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getnonce.html">getnonce (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getoptime.html">getoptime (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/group.html">group</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isMaster.html">isMaster</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isSelf.html">isSelf (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/logout.html">logout</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/medianKey.html">medianKey (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/netstat.html">netstat (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/repairDatabase.html">repairDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/resync.html">resync</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/splitChunk.html">splitChunk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/touch.html">touch</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri (internal)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html">JavaScript Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.showDiskLoc.html">cursor.showDiskLoc()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.snapshot.html">cursor.snapshot()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.addUser.html">db.addUser()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.cloneCollection.html">db.cloneCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.cloneDatabase.html">db.cloneDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.copyTo.html">db.collection.copyTo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.group.html">db.collection.group()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.save.html">db.collection.save()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.copyDatabase.html">db.copyDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.eval.html">db.eval()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getLastError.html">db.getLastError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getLastErrorObj.html">db.getLastErrorObj()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getPrevError.html">db.getPrevError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getProfilingLevel.html">db.getProfilingLevel()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.isMaster.html">db.isMaster()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.loadServerScripts.html">db.loadServerScripts()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.repairDatabase.html">db.repairDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/fuzzFile.html">fuzzFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rand.html">rand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.getBalancerHost.html">sh.getBalancerHost()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/srand.html">_srand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/version.html">version()</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/operators.html">Query, Update, and Projection Operators Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/meta-query-operators.html">Meta Query Operator Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/commands.html">Database Commands Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/javascript.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell JavaScript Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/components.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongo.html"><code class="docutils literal"><span class="pre">mongo</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodump.html"><code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongorestore.html"><code class="docutils literal"><span class="pre">mongorestore</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/bsondump.html"><code class="docutils literal"><span class="pre">bsondump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongooplog.html"><code class="docutils literal"><span class="pre">mongooplog</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoimport.html"><code class="docutils literal"><span class="pre">mongoimport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoexport.html"><code class="docutils literal"><span class="pre">mongoexport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongostat.html"><code class="docutils literal"><span class="pre">mongostat</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongotop.html"><code class="docutils literal"><span class="pre">mongotop</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongosniff.html"><code class="docutils literal"><span class="pre">mongosniff</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoperf.html"><code class="docutils literal"><span class="pre">mongoperf</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongofiles.html"><code class="docutils literal"><span class="pre">mongofiles</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-status-index.html">Server Status Output Index</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-status.html">Server Status Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/database-statistics.html">Database Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collection-statistics.html">Collection Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collection-validation.html">Collection Validation Data</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-pool-stats.html">Connection Pool Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-status.html">Replica Set Status Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication-info.html">Replication Info Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/current-op.html">Current Operation Reporting</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/explain.html">Explain Output</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/config-database.html">Config Database Contents</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.2.html">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/drivers-write-concern.html">Default Write Concern Change</a></li></ul></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
            <div class="alert alert-warning">
              <span class="alert-message">This version of the documentation is archived and no longer supported.</span>
            </div>
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="core/read-operations">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/v2.2/source/core/read-operations.txt" target="_blank" title="Edit core/read-operations.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../crud.html">Core MongoDB Operations (CRUD)</a><span class="bcpoint"> > </span></li>
            <li>Read Operations</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="read-operations">
<h1>Read Operations<a class="headerlink" href="#read-operations" title="Permalink to this headline">¶</a></h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#queries-in-mongodb" id="id9">Queries in MongoDB</a></li>
<li><a class="reference internal" href="#indexes" id="id10">Indexes</a></li>
<li><a class="reference internal" href="#cursors" id="id11">Cursors</a></li>
<li><a class="reference internal" href="#architecture" id="id12">Architecture</a></li>
</ul>
</div>
<p>Read operations include all operations that return a cursor in
response to application request data (i.e. <em>queries</em>,) and also
include a number of <a class="reference internal" href="../aggregation.html"><span class="doc">aggregation</span></a> operations that
do not return a cursor but have similar properties as queries. These
commands include <a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a>, <a class="reference internal" href="../reference/command/count.html#dbcmd.count" title="count"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">count</span></code></a>, and
<a class="reference internal" href="../reference/command/distinct.html#dbcmd.distinct" title="distinct"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">distinct</span></code></a>.</p>
<p>This document describes the syntax and structure of the queries
applications use to request data from MongoDB and how different
factors affect the efficiency of reads.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All of the examples in this document use the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell interface. All of these operations are available in an
idiomatic interface for each language by way of the <a class="reference internal" href="../applications/drivers.html"><span class="doc">MongoDB
Driver</span></a>. See your <a class="reference external" href="https://api.mongodb.com/">driver documentation</a> for
full API documentation.</p>
</div>
<div class="section" id="queries-in-mongodb">
<span id="read-operations-queries"></span><span id="read-operations-query-operations"></span><span id="index-0"></span><h2>Queries in MongoDB<a class="headerlink" href="#queries-in-mongodb" title="Permalink to this headline">¶</a></h2>
<p>In the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> and <a class="reference internal" href="../reference/method/db.collection.findOne.html#db.collection.findOne" title="db.collection.findOne()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">findOne()</span></code></a> methods perform read operations. The
<a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method has the following
syntax: <a class="footnote-reference" href="#formal-query-structure" id="id1">[1]</a></p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">projection</span><span class="o">&gt;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">db.collection</span></code> object specifies the database and collection
to query. All queries in MongoDB address a <em>single</em> collection.</p>
<p>You can enter <code class="docutils literal"><span class="pre">db</span></code> in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell to return the
name of the current database. Use the <code class="docutils literal"><span class="pre">show</span> <span class="pre">collections</span></code> operation
in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell to list the current collections in the
database.</p>
</li>
<li><p class="first">Queries in MongoDB are <a class="reference internal" href="../reference/glossary.html#term-bson"><span class="xref std std-term">BSON</span></a> objects that use a set of
<a class="reference internal" href="../reference/operators.html"><span class="doc">query operators</span></a> to describe query
parameters.</p>
<p>The <code class="docutils literal"><span class="pre">&lt;query&gt;</span></code> argument of the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method holds this query document. A read
operation without a query document will return all documents in the
collection.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">&lt;projection&gt;</span></code> argument describes the result set in the form of
a document. Projections specify or limit the fields to return.</p>
<p>Without a projection, the operation will return all
fields of the documents. Specify a projection if your documents are
larger, or when your application only needs a subset of available
fields.</p>
</li>
<li><p class="first">The order of documents returned by a query is not defined and is not
necessarily consistent unless you specify a sort (<a class="reference internal" href="../reference/method/cursor.sort.html#cursor.sort" title="cursor.sort()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">sort()</span></code></a>).</p>
</li>
</ul>
<p>For example, the following operation on the <code class="docutils literal"><span class="pre">inventory</span></code> collection
selects all documents where the <code class="docutils literal"><span class="pre">type</span></code> field equals <code class="docutils literal"><span class="pre">'food'</span></code> and
the <code class="docutils literal"><span class="pre">price</span></code> field has a value less than <code class="docutils literal"><span class="pre">9.95</span></code>. The projection
limits the response to the <code class="docutils literal"><span class="pre">item</span></code> and <code class="docutils literal"><span class="pre">qty</span></code>, and <code class="docutils literal"><span class="pre">_id</span></code> field:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$lt</span><span class="o">:</span> <span class="mf">9.95</span> <span class="p">}</span> <span class="p">},</span>
                   <span class="p">{</span> <span class="nx">item</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">qty</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="../reference/method/db.collection.findOne.html#db.collection.findOne" title="db.collection.findOne()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">findOne()</span></code></a> method is similar to
the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method except the
<a class="reference internal" href="../reference/method/db.collection.findOne.html#db.collection.findOne" title="db.collection.findOne()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">findOne()</span></code></a> method returns a single
document from a collection rather than a cursor. The method has the
syntax:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">findOne</span><span class="p">(</span> <span class="o">&lt;</span><span class="nx">query</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">projection</span><span class="o">&gt;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>For additional documentation and examples of the main MongoDB read
operators, refer to the <a class="reference internal" href="../applications/read.html"><span class="doc">Read</span></a> page of the
<a class="reference internal" href="../crud.html"><span class="doc">Core MongoDB Operations (CRUD)</span></a> section.</p>
<table class="docutils footnote" frame="void" id="formal-query-structure" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.find()</span></code></a> is a
wrapper for the more formal query structure with the
<a class="reference internal" href="../reference/operator/meta/query.html#metaOp._S_query" title="$query"><code class="xref mongodb mongodb-operator docutils literal"><span class="pre">$query</span></code></a> operator.</td></tr>
</tbody>
</table>
<div class="section" id="query-document">
<span id="read-operations-query-argument"></span><span id="read-operations-query-document"></span><h3>Query Document<a class="headerlink" href="#query-document" title="Permalink to this headline">¶</a></h3>
<p>This section provides an overview of the query document for MongoDB
queries. See the preceding section for more information on
<a class="reference internal" href="#read-operations-query-operations"><span class="std std-ref">queries in MongoDB</span></a>.</p>
<p>The following examples demonstrate the key properties of the query
document in MongoDB queries, using the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method from the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, and a
collection of documents named <code class="docutils literal"><span class="pre">inventory</span></code>:</p>
<ul>
<li><p class="first">An empty query document (<code class="docutils literal"><span class="pre">{}</span></code>) selects all documents in the
collection:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>Not specifying a query document to the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> is equivalent to specifying an empty query
document. Therefore the following operation is equivalent to the
previous operation:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">()</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">A single-clause query selects all documents in a collection where a
field has a certain value. These are simple “equality” queries.</p>
<p>In the following example, the query selects all documents in the
collection where the <code class="docutils literal"><span class="pre">type</span></code> field has the value <code class="docutils literal"><span class="pre">snacks</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;snacks&quot;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">A single-clause query document can also select all documents in a
collection given a condition or set of conditions for one field in
the collection’s documents. Use the <a class="reference internal" href="../reference/operators.html#query-selectors"><span class="std std-ref">query operators</span></a> to specify conditions in a MongoDB query.</p>
<p>In the following example, the query selects all documents in the
collection where the value of the <code class="docutils literal"><span class="pre">type</span></code> field is either
<code class="docutils literal"><span class="pre">'food'</span></code> or <code class="docutils literal"><span class="pre">'snacks'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$in</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;food&#39;</span><span class="p">,</span> <span class="s1">&#39;snacks&#39;</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although you can express this query using the <a class="reference internal" href="../reference/operator/query/or.html#op._S_or" title="$or"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$or</span></code></a>
operator, choose the <a class="reference internal" href="../reference/operator/query/in.html#op._S_in" title="$in"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$in</span></code></a> operator rather than the
<a class="reference internal" href="../reference/operator/query/or.html#op._S_or" title="$or"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$or</span></code></a> operator when performing equality checks on the
same field.</p>
</div>
</li>
<li><p class="first">A compound query can specify conditions for more than one field in
the collection’s documents. Implicitly, a logical <code class="docutils literal"><span class="pre">AND</span></code> conjunction
connects the clauses of a compound query so that the query selects
the documents in the collection that match all the conditions.</p>
<p>In the following example, the query document specifies an equality
match on a single field, followed by a range of values for a second
field using a <a class="reference internal" href="../reference/operators.html#query-selectors-comparison"><span class="std std-ref">comparison operator</span></a>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$lt</span><span class="o">:</span> <span class="mf">9.95</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>This query selects all documents where the <code class="docutils literal"><span class="pre">type</span></code> field has the
value <code class="docutils literal"><span class="pre">'food'</span></code> <strong>and</strong> the value of the <code class="docutils literal"><span class="pre">price</span></code> field is less
than (<a class="reference internal" href="../reference/operator/query/lt.html#op._S_lt" title="$lt"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$lt</span></code></a>) <code class="docutils literal"><span class="pre">9.95</span></code>.</p>
</li>
<li><p class="first">Using the <a class="reference internal" href="../reference/operator/query/or.html#op._S_or" title="$or"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$or</span></code></a> operator, you can specify a compound query
that joins each clause with a logical <code class="docutils literal"><span class="pre">OR</span></code> conjunction so that the
query selects the documents in the collection that match at least one
condition.</p>
<p>In the following example, the query document selects all documents
in the collection where the field <code class="docutils literal"><span class="pre">qty</span></code> has a value greater than
(<a class="reference internal" href="../reference/operator/query/gt.html#op._S_gt" title="$gt"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$gt</span></code></a>) <code class="docutils literal"><span class="pre">100</span></code> <strong>or</strong> the value of the <code class="docutils literal"><span class="pre">price</span></code>
field is less than (<a class="reference internal" href="../reference/operator/query/lt.html#op._S_lt" title="$lt"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$lt</span></code></a>) <code class="docutils literal"><span class="pre">9.95</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">$or</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">qty</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gt</span><span class="o">:</span> <span class="mi">100</span> <span class="p">}</span> <span class="p">},</span>
                            <span class="p">{</span> <span class="nx">price</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$lt</span><span class="o">:</span> <span class="mf">9.95</span> <span class="p">}</span> <span class="p">}</span> <span class="p">]</span>
                   <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">With additional clauses, you can specify precise conditions for
matching documents. In the following example, the compound query
document selects all documents in the collection where the value of
the <code class="docutils literal"><span class="pre">type</span></code> field is <code class="docutils literal"><span class="pre">'food'</span></code> <strong>and</strong> <em>either</em> the <code class="docutils literal"><span class="pre">qty</span></code> has a
value greater than (<a class="reference internal" href="../reference/operator/query/gt.html#op._S_gt" title="$gt"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$gt</span></code></a>) <code class="docutils literal"><span class="pre">100</span></code> <em>or</em> the value of
the <code class="docutils literal"><span class="pre">price</span></code> field is less than (<a class="reference internal" href="../reference/operator/query/lt.html#op._S_lt" title="$lt"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$lt</span></code></a>) <code class="docutils literal"><span class="pre">9.95</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span><span class="p">,</span> <span class="nx">$or</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">qty</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$gt</span><span class="o">:</span> <span class="mi">100</span> <span class="p">}</span> <span class="p">},</span>
                                          <span class="p">{</span> <span class="nx">price</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$lt</span><span class="o">:</span> <span class="mf">9.95</span> <span class="p">}</span> <span class="p">}</span> <span class="p">]</span>
                    <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
</ul>
<div class="section" id="subdocuments">
<span id="read-operations-subdocuments"></span><h4>Subdocuments<a class="headerlink" href="#subdocuments" title="Permalink to this headline">¶</a></h4>
<p>When the field holds an embedded document (i.e. subdocument), you can
either specify the entire subdocument as the value of a field, or
“reach into” the subdocument using <a class="reference internal" href="../reference/glossary.html#term-dot-notation"><span class="xref std std-term">dot notation</span></a>, to specify
values for individual fields in the subdocument:</p>
<ul>
<li><p class="first">Equality matches within subdocuments select documents if the
subdocument matches <em>exactly</em> the specified subdocument, including the
field order.</p>
<p>In the following example, the query matches all documents where
the value of the field <code class="docutils literal"><span class="pre">producer</span></code> is a subdocument that contains
<em>only</em> the field <code class="docutils literal"><span class="pre">company</span></code> with the value <code class="docutils literal"><span class="pre">'ABC123'</span></code> and the field
<code class="docutils literal"><span class="pre">address</span></code> with the value <code class="docutils literal"><span class="pre">'123</span> <span class="pre">Street'</span></code>, in the exact order:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span>
                     <span class="nx">producer</span><span class="o">:</span> <span class="p">{</span>
                                 <span class="nx">company</span><span class="o">:</span> <span class="s1">&#39;ABC123&#39;</span><span class="p">,</span>
                                 <span class="nx">address</span><span class="o">:</span> <span class="s1">&#39;123 Street&#39;</span>
                               <span class="p">}</span>
                   <span class="p">}</span>
                 <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">Equality matches for specific fields within subdocuments select
documents when the field in the subdocument contains a field that
matches the specified value.</p>
<p>In the following example, the query uses the <a class="reference internal" href="../reference/glossary.html#term-dot-notation"><span class="xref std std-term">dot notation</span></a> to
match all documents where the value of the field <code class="docutils literal"><span class="pre">producer</span></code> is a
subdocument that contains a field <code class="docutils literal"><span class="pre">company</span></code> with the value
<code class="docutils literal"><span class="pre">'ABC123'</span></code> and may contain other fields:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;producer.company&#39;</span><span class="o">:</span> <span class="s1">&#39;ABC123&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
</ul>
</div>
<div class="section" id="arrays">
<span id="read-operations-arrays"></span><h4>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h4>
<p>When the field holds an array, you can query for values in the array,
and if the array holds sub-documents, you query for specific fields
within the sub-documents using <a class="reference internal" href="../reference/glossary.html#term-dot-notation"><span class="xref std std-term">dot notation</span></a>:</p>
<ul>
<li><p class="first">Equality matches can specify an entire array, to select an array
that matches exactly. In the following example, the query matches all
documents where the value of the field <code class="docutils literal"><span class="pre">tags</span></code> is an array and
holds three elements, <code class="docutils literal"><span class="pre">'fruit'</span></code>, <code class="docutils literal"><span class="pre">'food'</span></code>, and <code class="docutils literal"><span class="pre">'citrus'</span></code>, in
this order:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">,</span> <span class="s1">&#39;citrus&#39;</span> <span class="p">]</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">Equality matches can specify a single element in the array. If the
array contains at least <em>one</em> element with the specified value, as
in the following example: the query matches all documents where
the value of the field <code class="docutils literal"><span class="pre">tags</span></code> is an array that contains, as one of
its elements, the element <code class="docutils literal"><span class="pre">'fruit'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">tags</span><span class="o">:</span> <span class="s1">&#39;fruit&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equality matches can also select documents by values in an array
using the array index (i.e. position) of the element in the array,
as in the following example: the query uses the <a class="reference internal" href="../reference/glossary.html#term-dot-notation"><span class="xref std std-term">dot notation</span></a>
to match all documents where the value of the <code class="docutils literal"><span class="pre">tags</span></code> field is an
array whose first element equals <code class="docutils literal"><span class="pre">'fruit'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;tags.0&#39;</span> <span class="o">:</span> <span class="s1">&#39;fruit&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
</ul>
<p>In the following examples, consider an array that contains
subdocuments:</p>
<ul>
<li><p class="first">If you know the array index of the subdocument, you can specify the
document using the subdocument’s position.</p>
<p>The following example selects all documents where the <code class="docutils literal"><span class="pre">memos</span></code>
contains an array whose first element (i.e. index is <code class="docutils literal"><span class="pre">0</span></code>) is a
subdocument with the field <code class="docutils literal"><span class="pre">by</span></code> with the value <code class="docutils literal"><span class="pre">'shipping'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;memos.0.by&#39;</span><span class="o">:</span> <span class="s1">&#39;shipping&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">If you do not know the index position of the subdocument,
concatenate the name of the field that contains the array, with a
dot (<code class="docutils literal"><span class="pre">.</span></code>) and the name of the field in the subdocument.</p>
<p>The following example selects all documents where the <code class="docutils literal"><span class="pre">memos</span></code> field
contains an array that contains at least one subdocument with the
field <code class="docutils literal"><span class="pre">by</span></code> with the value <code class="docutils literal"><span class="pre">'shipping'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;memos.by&#39;</span><span class="o">:</span> <span class="s1">&#39;shipping&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">To match by multiple fields in the subdocument, you can use either
dot notation or the <a class="reference internal" href="../reference/operator/query/elemMatch.html#op._S_elemMatch" title="$elemMatch"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$elemMatch</span></code></a> operator:</p>
<p>The following example uses dot notation to query for documents
where the value of the <code class="docutils literal"><span class="pre">memos</span></code> field is an array that has at least
one subdocument that contains the field <code class="docutils literal"><span class="pre">memo</span></code> equal to <code class="docutils literal"><span class="pre">'on</span> <span class="pre">time'</span></code>
and the field <code class="docutils literal"><span class="pre">by</span></code> equal to <code class="docutils literal"><span class="pre">'shipping'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
                   <span class="p">{</span>
                     <span class="s1">&#39;memos.memo&#39;</span><span class="o">:</span> <span class="s1">&#39;on time&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;memos.by&#39;</span><span class="o">:</span> <span class="s1">&#39;shipping&#39;</span>
                   <span class="p">}</span>
                 <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The following example uses <a class="reference internal" href="../reference/operator/query/elemMatch.html#op._S_elemMatch" title="$elemMatch"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$elemMatch</span></code></a> to query for
documents where the value of the <code class="docutils literal"><span class="pre">memos</span></code> field is an array that
has at least one subdocument that contains the field <code class="docutils literal"><span class="pre">memo</span></code> equal
to <code class="docutils literal"><span class="pre">'on</span> <span class="pre">time'</span></code> and the field <code class="docutils literal"><span class="pre">by</span></code> equal to <code class="docutils literal"><span class="pre">'shipping'</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">memos</span><span class="o">:</span> <span class="p">{</span>
                              <span class="nx">$elemMatch</span><span class="o">:</span> <span class="p">{</span>
                                            <span class="nx">memo</span> <span class="o">:</span> <span class="s1">&#39;on time&#39;</span><span class="p">,</span>
                                            <span class="nx">by</span><span class="o">:</span> <span class="s1">&#39;shipping&#39;</span>
                                          <span class="p">}</span>
                            <span class="p">}</span>
                   <span class="p">}</span>
                 <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
</ul>
<p>Refer to the <a class="reference internal" href="../reference/operator.html"><span class="doc">Query, Update, Projection, and Aggregation Operators</span></a> document for the complete list
of query operators.</p>
</div>
</div>
<div class="section" id="result-projections">
<span id="projection"></span><span id="read-operations-projection"></span><h3>Result Projections<a class="headerlink" href="#result-projections" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../reference/glossary.html#term-projection"><span class="xref std std-term">projection</span></a> specification limits the fields to return for
all matching documents. Restricting the fields to return can minimize
network transit costs and the costs of deserializing documents in the
application layer.</p>
<p>The second argument to the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a>
method is a projection, and it takes the form of a <a class="reference internal" href="../reference/glossary.html#term-document"><span class="xref std std-term">document</span></a> with
a list of fields for inclusion or exclusion from the result set. You
can either specify the fields to include (e.g. <code class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">1</span> <span class="pre">}</span></code>) or specify the
fields to exclude (e.g. <code class="docutils literal"><span class="pre">{</span> <span class="pre">field:</span> <span class="pre">0</span> <span class="pre">}</span></code>). The <code class="docutils literal"><span class="pre">_id</span></code> field is implicitly
included, unless explicitly excluded.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You cannot combine inclusion and exclusion semantics in a single
projection with the <em>exception</em> of the <code class="docutils literal"><span class="pre">_id</span></code> field.</p>
</div>
<p>Consider the following projection specifications in <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> operations:</p>
<ul>
<li><p class="first">If you specify no projection, the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method returns all fields of all documents
that match the query.</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>This operation will return all documents in the <code class="docutils literal"><span class="pre">inventory</span></code>
collection where the value of the <code class="docutils literal"><span class="pre">type</span></code> field is <code class="docutils literal"><span class="pre">'food'</span></code>.</p>
</li>
<li><p class="first">A projection can explicitly include several fields. In the following
operation, <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method returns
all documents that match the query as well as <code class="docutils literal"><span class="pre">item</span></code> and <code class="docutils literal"><span class="pre">qty</span></code>
fields. The results also include the <code class="docutils literal"><span class="pre">_id</span></code> field:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">item</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">qty</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">You can remove the <code class="docutils literal"><span class="pre">_id</span></code> field by excluding it from the
projection, as in the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">item</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">qty</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">_id</span><span class="o">:</span><span class="mi">0</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>This operation returns all documents that match the query, and
<em>only</em> includes the <code class="docutils literal"><span class="pre">item</span></code> and <code class="docutils literal"><span class="pre">qty</span></code> fields in the result set.</p>
</li>
<li><p class="first">To exclude a single field or group of fields you can use a
projection in the following form:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span><span class="mi">0</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>This operation returns all documents where the value of the <code class="docutils literal"><span class="pre">type</span></code>
field is <code class="docutils literal"><span class="pre">food</span></code>, but does not include the <code class="docutils literal"><span class="pre">type</span></code> field in the
output.</p>
<p>With the exception of the <code class="docutils literal"><span class="pre">_id</span></code> field you cannot combine inclusion
and exclusion statements in projection documents.</p>
</li>
</ul>
<p>The <a class="reference internal" href="../reference/operator/projection/elemMatch.html#proj._S_elemMatch" title="$elemMatch"><code class="xref mongodb mongodb-projection docutils literal"><span class="pre">$elemMatch</span></code></a> and <a class="reference internal" href="../reference/operator/projection/slice.html#proj._S_slice" title="$slice"><code class="xref mongodb mongodb-projection docutils literal"><span class="pre">$slice</span></code></a> projection
operators provide more control when projecting only a portion of an
array.</p>
</div>
</div>
<div class="section" id="indexes">
<span id="read-operations-indexing"></span><h2>Indexes<a class="headerlink" href="#indexes" title="Permalink to this headline">¶</a></h2>
<p>Indexes improve the efficiency of read operations by reducing the
amount of data that query operations need to process and thereby
simplifying the work associated with fulfilling queries within
MongoDB. The indexes themselves are a special data structure that
MongoDB maintains when inserting or modifying documents, and any given
index can: support and optimize specific queries, sort operations, and
allow for more efficient storage utilization. For more information
about indexes in MongoDB see: <a class="reference internal" href="../indexes.html"><span class="doc">Indexes</span></a> and <a class="reference internal" href="indexes.html"><span class="doc">Indexing Overview</span></a>.</p>
<p>You can create indexes using the <a class="reference internal" href="../reference/method/db.collection.ensureIndex.html#db.collection.ensureIndex" title="db.collection.ensureIndex()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.ensureIndex()</span></code></a> method
in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, as in the following prototype
operation:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">ensureIndex</span><span class="p">(</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nx">field1</span><span class="o">&gt;:</span> <span class="o">&lt;</span><span class="nx">order</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">field2</span><span class="o">&gt;:</span> <span class="o">&lt;</span><span class="nx">order</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">field</span></code> specifies the field to index. The field may be a field
from a subdocument, using <a class="reference internal" href="../reference/glossary.html#term-dot-notation"><span class="xref std std-term">dot notation</span></a> to specify subdocument
fields.</p>
<p>You can create an index on a single field or a <a class="reference internal" href="indexes.html#index-type-compound"><span class="std std-ref">compound index</span></a> that includes multiple fields in the index.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">order</span></code> option is specifies either ascending ( <code class="docutils literal"><span class="pre">1</span></code> ) or
descending ( <code class="docutils literal"><span class="pre">-1</span></code> ).</p>
<p>MongoDB can read the index in either direction. In most cases, you
only need to specify <a class="reference internal" href="indexes.html#index-ascending-and-descending"><span class="std std-ref">indexing order</span></a> to support sort operations in
compound queries.</p>
</li>
</ul>
<div class="section" id="covering-a-query">
<span id="read-operations-covered-query"></span><h3>Covering a Query<a class="headerlink" href="#covering-a-query" title="Permalink to this headline">¶</a></h3>
<p>An index <a class="reference internal" href="../applications/indexes.html#indexes-covered-queries"><span class="std std-ref">covers</span></a> a query, a <em>covered
query</em>, when:</p>
<ul class="simple">
<li>all the fields in the <a class="reference internal" href="#read-operations-query-document"><span class="std std-ref">query</span></a>
are part of that index, <strong>and</strong></li>
<li>all the fields returned in the documents that match the query are in
the same index.</li>
</ul>
<p>For these queries, MongoDB does not need to inspect at documents
outside of the index, which is often more efficient than inspecting
entire documents.</p>
<div class="admonition-example admonition">
<p class="first admonition-title">Example</p>
<p>Given a collection <code class="docutils literal"><span class="pre">inventory</span></code> with the following index on the
<code class="docutils literal"><span class="pre">type</span></code> and <code class="docutils literal"><span class="pre">item</span></code> fields:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span><span class="o">{</span> type: <span class="m">1</span>, item: <span class="m">1</span> <span class="o">}</span>
</pre></div>
</div>
</div>
<p>This index will cover the following query on the <code class="docutils literal"><span class="pre">type</span></code> and <code class="docutils literal"><span class="pre">item</span></code>
fields, which returns only the <code class="docutils literal"><span class="pre">item</span></code> field:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;food&quot;</span><span class="p">,</span> <span class="nx">item</span><span class="o">:</span><span class="sr">/^c/</span> <span class="p">},</span>
                   <span class="p">{</span> <span class="nx">item</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>However, this index will <strong>not</strong> cover the following query, which
returns the <code class="docutils literal"><span class="pre">item</span></code> field <strong>and</strong> the <code class="docutils literal"><span class="pre">_id</span></code> field:</p>
<div class="last button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;food&quot;</span><span class="p">,</span> <span class="nx">item</span><span class="o">:</span><span class="sr">/^c/</span> <span class="p">},</span>
                   <span class="p">{</span> <span class="nx">item</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>See <a class="reference internal" href="../applications/indexes.html#indexes-covered-queries"><span class="std std-ref">Create Indexes that Support Covered Queries</span></a> for more information on the
behavior and use of covered queries.</p>
</div>
<div class="section" id="measuring-index-use">
<h3>Measuring Index Use<a class="headerlink" href="#measuring-index-use" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> cursor method allows you to
inspect the operation of the query system, and is useful for analyzing
the efficiency of queries, and for determining how the query uses the
index. Call the <a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> method on a
cursor returned by <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a>, as in the
following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">explain</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only use <a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> to test the query
operation, and <em>not</em> the timing of query performance. Because
<a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> attempts multiple query
plans, it does not reflect accurate query performance.</p>
</div>
<p>If the above operation could not use an index, the output of
<a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> would resemble the following:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;cursor&quot;</span> <span class="o">:</span> <span class="s2">&quot;BasicCursor&quot;</span><span class="p">,</span>
  <span class="s2">&quot;isMultiKey&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;n&quot;</span> <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;nscannedObjects&quot;</span> <span class="o">:</span> <span class="mi">4000006</span><span class="p">,</span>
  <span class="s2">&quot;nscanned&quot;</span> <span class="o">:</span> <span class="mi">4000006</span><span class="p">,</span>
  <span class="s2">&quot;nscannedObjectsAllPlans&quot;</span> <span class="o">:</span> <span class="mi">4000006</span><span class="p">,</span>
  <span class="s2">&quot;nscannedAllPlans&quot;</span> <span class="o">:</span> <span class="mi">4000006</span><span class="p">,</span>
  <span class="s2">&quot;scanAndOrder&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;indexOnly&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;nYields&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s2">&quot;nChunkSkips&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;millis&quot;</span> <span class="o">:</span> <span class="mi">1591</span><span class="p">,</span>
  <span class="s2">&quot;indexBounds&quot;</span> <span class="o">:</span> <span class="p">{</span> <span class="p">},</span>
  <span class="s2">&quot;server&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb0.example.net:27017&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal"><span class="pre">BasicCursor</span></code> value in the <a class="reference internal" href="../reference/explain.html#explain.cursor" title="explain.cursor"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">cursor</span></code></a> field confirms that
this query does not use an index. The <a class="reference internal" href="../reference/explain.html#explain.nscannedObjects" title="explain.nscannedObjects"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">explain.nscannedObjects</span></code></a> value shows that
MongoDB must scan 4,000,006 documents to return only 5 documents. To
increase the efficiency of the query, create an index on the <code class="docutils literal"><span class="pre">type</span></code>
field, as in the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">ensureIndex</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>Run the <a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> operation, as follows,
to test the use of the index:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">explain</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Consider the results:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;cursor&quot;</span> <span class="o">:</span> <span class="s2">&quot;BtreeCursor type_1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;isMultiKey&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;n&quot;</span> <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;nscannedObjects&quot;</span> <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;nscanned&quot;</span> <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;nscannedObjectsAllPlans&quot;</span> <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;nscannedAllPlans&quot;</span> <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;scanAndOrder&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;indexOnly&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;nYields&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;nChunkSkips&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;millis&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;indexBounds&quot;</span> <span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="p">[</span>
                                <span class="p">[</span> <span class="s2">&quot;food&quot;</span><span class="p">,</span>
                                  <span class="s2">&quot;food&quot;</span> <span class="p">]</span>
                             <span class="p">]</span> <span class="p">},</span>
  <span class="s2">&quot;server&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodbo0.example.net:27017&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal"><span class="pre">BtreeCursor</span></code> value of the <a class="reference internal" href="../reference/explain.html#explain.cursor" title="explain.cursor"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">cursor</span></code></a> field indicates that
the query used an index. This query:</p>
<ul>
<li><p class="first">returned 5 documents, as indicated by the <a class="reference internal" href="../reference/explain.html#explain.n" title="explain.n"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">n</span></code></a> field;</p>
</li>
<li><p class="first">scanned 5 documents from the index, as indicated by the
<a class="reference internal" href="../reference/explain.html#explain.nscanned" title="explain.nscanned"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">nscanned</span></code></a> field;</p>
</li>
<li><p class="first">then read 5 full documents from the collection, as indicated by
the <a class="reference internal" href="../reference/explain.html#explain.nscannedObjects" title="explain.nscannedObjects"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">nscannedObjects</span></code></a> field.</p>
<p>Although the query uses an index to find the matching documents, if
<a class="reference internal" href="../reference/explain.html#explain.indexOnly" title="explain.indexOnly"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">indexOnly</span></code></a> is false then an index could
not <a class="reference internal" href="#read-operations-covered-query"><span class="std std-ref">cover</span></a> the query:
MongoDB could not both match the <a class="reference internal" href="#read-operations-query-document"><span class="std std-ref">query conditions</span></a> <strong>and</strong> return the results using
only this index. See <a class="reference internal" href="../applications/indexes.html#indexes-covered-queries"><span class="std std-ref">Create Indexes that Support Covered Queries</span></a> for more
information.</p>
</li>
</ul>
</div>
<div class="section" id="query-optimization">
<span id="read-operations-query-optimization"></span><span id="index-1"></span><h3>Query Optimization<a class="headerlink" href="#query-optimization" title="Permalink to this headline">¶</a></h3>
<p>The MongoDB query optimizer processes queries and chooses the most
efficient query plan for a query given the available indexes. The
query system then uses this query plan each time the query runs. The
query optimizer occasionally reevaluates query plans as the content of
the collection changes to ensure optimal query plans.</p>
<p>To create a new query plan, the query optimizer:</p>
<ol class="arabic">
<li><p class="first">runs the query against several candidate indexes in parallel.</p>
</li>
<li><p class="first">records the matches in a common results buffer
or buffers.</p>
<ul class="simple">
<li>If the candidate plans include only <a class="reference internal" href="../reference/glossary.html#term-ordered-query-plan"><span class="xref std std-term">ordered query plans</span></a>, there is a single common results buffer.</li>
<li>If the candidate plans include only <a class="reference internal" href="../reference/glossary.html#term-unordered-query-plan"><span class="xref std std-term">unordered query plans</span></a>, there is a single common results buffer.</li>
<li>If the candidate plans include <em>both</em> <a class="reference internal" href="../reference/glossary.html#term-ordered-query-plan"><span class="xref std std-term">ordered query plans</span></a> and <a class="reference internal" href="../reference/glossary.html#term-unordered-query-plan"><span class="xref std std-term">unordered query plans</span></a>, there are two common results buffers, one
for the ordered plans and the other for the unordered plans.</li>
</ul>
<p>If an index returns a result already returned by another index, the
optimizer skips the duplicate match. In the case of the two buffers,
both buffers are de-duped.</p>
</li>
<li><p class="first">stops the testing of candidate plans and selects an index when one of
the following events occur:</p>
<ul class="simple">
<li>An <a class="reference internal" href="../reference/glossary.html#term-unordered-query-plan"><span class="xref std std-term">unordered query plan</span></a> has returned all the matching results; <em>or</em></li>
<li>An <a class="reference internal" href="../reference/glossary.html#term-ordered-query-plan"><span class="xref std std-term">ordered query plan</span></a> has returned all the matching results; <em>or</em></li>
<li>An <a class="reference internal" href="../reference/glossary.html#term-ordered-query-plan"><span class="xref std std-term">ordered query plan</span></a> has returned a threshold number of matching results:<ul>
<li>Version 2.0: Threshold is the query batch size. The default
batch size is 101.</li>
<li>Version 2.2: Threshold is 101.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>The selected index becomes the index specified in the query plan;
future iterations of this query or queries with the same query
pattern will use this index. Query pattern refers to query select
conditions that differ only in the values, as in the following two
queries with the same query pattern:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">)</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;utensil&#39;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>To manually compare the performance of a query using more than one
index, you can use the <a class="reference internal" href="../reference/method/cursor.hint.html#cursor.hint" title="cursor.hint()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">hint()</span></code></a> and
<a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> methods in conjunction, as in
the following prototype:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">hint</span><span class="p">().</span><span class="nx">explain</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The following operations each run the same query but will reflect the
use of the different indexes:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">hint</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">).</span><span class="nx">explain</span><span class="p">()</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">hint</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}).</span><span class="nx">explain</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>This returns the statistics regarding the execution of the query. For
more information on the output of <a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a>, see the <a class="reference internal" href="../reference/explain.html"><span class="doc">Explain Output</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you run <a class="reference internal" href="../reference/method/cursor.explain.html#cursor.explain" title="cursor.explain()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">explain()</span></code></a> without including
<a class="reference internal" href="../reference/method/cursor.hint.html#cursor.hint" title="cursor.hint()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">hint()</span></code></a>, the query optimizer reevaluates
the query and runs against multiple indexes before returning the
query statistics.</p>
</div>
<p>As collections change over time, the query optimizer deletes a query
plan and reevaluates the after any of the following events:</p>
<ul class="simple">
<li>the collection receives 1,000 write operations.</li>
<li>the <a class="reference internal" href="../reference/command/reIndex.html#dbcmd.reIndex" title="reIndex"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">reIndex</span></code></a> rebuilds the index.</li>
<li>you add or drop an index.</li>
<li>the <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process restarts.</li>
</ul>
<p>For more information, see <a class="reference internal" href="../applications/indexes.html"><span class="doc">Indexing Strategies</span></a>.</p>
</div>
<div class="section" id="query-operations-that-cannot-use-indexes-effectively">
<h3>Query Operations that Cannot Use Indexes Effectively<a class="headerlink" href="#query-operations-that-cannot-use-indexes-effectively" title="Permalink to this headline">¶</a></h3>
<p>Some query operations cannot use indexes effectively or cannot use
indexes at all. Consider the following situations:</p>
<ul>
<li><p class="first">The inequality operators <a class="reference internal" href="../reference/operator/query/nin.html#op._S_nin" title="$nin"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$nin</span></code></a> and <a class="reference internal" href="../reference/operator/query/ne.html#op._S_ne" title="$ne"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$ne</span></code></a> are
not very selective, as they often match a large portion of the
index.</p>
<p>As a result, in most cases, a <a class="reference internal" href="../reference/operator/query/nin.html#op._S_nin" title="$nin"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$nin</span></code></a> or <a class="reference internal" href="../reference/operator/query/ne.html#op._S_ne" title="$ne"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$ne</span></code></a>
query with an index may perform no better than a <a class="reference internal" href="../reference/operator/query/nin.html#op._S_nin" title="$nin"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$nin</span></code></a> or
<a class="reference internal" href="../reference/operator/query/ne.html#op._S_ne" title="$ne"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$ne</span></code></a> query that must scan all documents in a collection.</p>
</li>
<li><p class="first">Queries that specify regular expressions, with inline JavaScript
regular expressions or <a class="reference internal" href="../reference/operator/query/regex.html#op._S_regex" title="$regex"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$regex</span></code></a> operator expressions,
cannot use an index. <em>However</em>, the regular expression with anchors
to the beginning of a string <em>can</em> use an index.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="cursors">
<span id="read-operations-cursors"></span><h2>Cursors<a class="headerlink" href="#cursors" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> method returns a
<a class="reference internal" href="../reference/glossary.html#term-cursor"><span class="xref std std-term">cursor</span></a> to the results; however, in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell,
if the returned cursor is not assigned to a variable, then the cursor
is automatically iterated up to 20 times <a class="footnote-reference" href="#set-shell-batch-size" id="id2">[2]</a> to print
up to the first 20 documents that match the query, as in the following
example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<p>When you assign the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a> to a
variable:</p>
<ul>
<li><p class="first">you can call the cursor variable in the shell to iterate up to 20
times <a class="footnote-reference" href="#set-shell-batch-size" id="id3">[2]</a> and print the matching documents, as in
the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">);</span>

<span class="nx">myCursor</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">you can use the cursor method <a class="reference internal" href="../reference/method/cursor.next.html#cursor.next" title="cursor.next()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">next()</span></code></a> to
access the documents, as in the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">myDocument</span> <span class="o">=</span> <span class="nx">myCursor</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">()</span> <span class="o">?</span> <span class="nx">myCursor</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">myDocument</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">myItem</span> <span class="o">=</span> <span class="nx">myDocument</span><span class="p">.</span><span class="nx">item</span><span class="p">;</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">tojson</span><span class="p">(</span><span class="nx">myItem</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>As an alternative print operation, consider the <code class="docutils literal"><span class="pre">printjson()</span></code>
helper method to replace <code class="docutils literal"><span class="pre">print(tojson())</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">myDocument</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">myItem</span> <span class="o">=</span> <span class="nx">myDocument</span><span class="p">.</span><span class="nx">item</span><span class="p">;</span>
    <span class="nx">printjson</span><span class="p">(</span><span class="nx">myItem</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">you can use the cursor method <a class="reference internal" href="../reference/method/cursor.forEach.html#cursor.forEach" title="cursor.forEach()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">forEach()</span></code></a>
to iterate the cursor and access the documents, as in the following
example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span>  <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">);</span>

<span class="nx">myCursor</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">printjson</span><span class="p">);</span>
</pre></div>
</div>
</div>
</li>
</ul>
<p>See <a class="reference internal" href="../reference/javascript.html#js-query-cursor-methods"><span class="std std-ref">JavaScript cursor methods</span></a> and your
<a class="reference internal" href="../applications/drivers.html"><span class="doc">driver</span></a> documentation for more
information on cursor methods.</p>
<table class="docutils footnote" frame="void" id="set-shell-batch-size" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> You can use the <code class="docutils literal"><span class="pre">DBQuery.shellBatchSize</span></code> to
change the number of iteration from the default value <code class="docutils literal"><span class="pre">20</span></code>. See
<a class="reference internal" href="../tutorial/getting-started-with-the-mongo-shell.html#mongo-shell-executing-queries"><span class="std std-ref">Executing Queries</span></a> for more information.</td></tr>
</tbody>
</table>
<div class="section" id="iterator-index">
<h3>Iterator Index<a class="headerlink" href="#iterator-index" title="Permalink to this headline">¶</a></h3>
<p>In the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, you can use the
<a class="reference internal" href="../reference/method/cursor.toArray.html#cursor.toArray" title="cursor.toArray()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">toArray()</span></code></a> method to iterate the cursor and return
the documents in an array, as in the following:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">documentArray</span> <span class="o">=</span> <span class="nx">myCursor</span><span class="p">.</span><span class="nx">toArray</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">myDocument</span> <span class="o">=</span> <span class="nx">documentArray</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="../reference/method/cursor.toArray.html#cursor.toArray" title="cursor.toArray()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">toArray()</span></code></a> method loads into RAM all
documents returned by the cursor; the <a class="reference internal" href="../reference/method/cursor.toArray.html#cursor.toArray" title="cursor.toArray()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">toArray()</span></code></a> method exhausts the cursor.</p>
<p>Additionally, some <a class="reference internal" href="../applications/drivers.html"><span class="doc">drivers</span></a> provide
access to the documents by using an index on the cursor (i.e.
<code class="docutils literal"><span class="pre">cursor[index]</span></code>). This is a shortcut for first calling the
<a class="reference internal" href="../reference/method/cursor.toArray.html#cursor.toArray" title="cursor.toArray()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">toArray()</span></code></a> method and then using an index
on the resulting array.</p>
<p>Consider the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;food&#39;</span> <span class="p">}</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">myDocument</span> <span class="o">=</span> <span class="nx">myCursor</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal"><span class="pre">myCursor[3]</span></code> is equivalent to the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">myCursor</span><span class="p">.</span><span class="nx">toArray</span><span class="p">()</span> <span class="p">[</span><span class="mi">3</span><span class="p">];</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="cursor-behaviors">
<span id="id4"></span><h3>Cursor Behaviors<a class="headerlink" href="#cursor-behaviors" title="Permalink to this headline">¶</a></h3>
<p>Consider the following behaviors related to cursors:</p>
<ul>
<li><p class="first">By default, the server will automatically close the cursor after 10
minutes of inactivity or if client has exhausted the cursor. To
override this behavior, you can specify the <code class="docutils literal"><span class="pre">noTimeout</span></code>
<a href="#id5"><span class="problematic" id="id6">:meta-driver:`wire protocol flag &lt;/legacy/mongodb-wire-protocol&gt;`</span></a> in your query;
however, you should either close the cursor manually or exhaust the
cursor. In the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, you can set the <code class="docutils literal"><span class="pre">noTimeout</span></code>
flag:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">addOption</span><span class="p">(</span><span class="nx">DBQuery</span><span class="p">.</span><span class="nx">Option</span><span class="p">.</span><span class="nx">noTimeout</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>See your <a class="reference internal" href="../applications/drivers.html"><span class="doc">driver</span></a> documentation for
information on setting the <code class="docutils literal"><span class="pre">noTimeout</span></code> flag. See
<a class="reference internal" href="#cursor-flags"><span class="std std-ref">Cursor Flags</span></a> for a complete list of available cursor flags.</p>
</li>
<li><p class="first">Because the cursor is not isolated during its lifetime, intervening
write operations may result in a cursor that returns a single
document <a class="footnote-reference" href="#single-document-def" id="id7">[3]</a> more than once. To handle this
situation, see the information on <a class="reference internal" href="../faq/developers.html#faq-developers-isolate-cursors"><span class="std std-ref">snapshot mode</span></a>.</p>
</li>
<li><p class="first">The MongoDB server returns the query results in batches:</p>
<ul>
<li><p class="first">For most queries, the <em>first</em> batch returns 101 documents or just
enough documents to exceed 1 megabyte. Subsequent batch size is 4
megabytes. To override the default size of the batch, see
<a class="reference internal" href="../reference/method/cursor.batchSize.html#cursor.batchSize" title="cursor.batchSize()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">batchSize()</span></code></a> and <a class="reference internal" href="../reference/method/cursor.limit.html#cursor.limit" title="cursor.limit()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">limit()</span></code></a>.</p>
</li>
<li><p class="first">For queries that include a sort operation <em>without</em> an index, the
server must load all the documents in memory to perform the sort
and will return all documents in the first batch.</p>
</li>
<li><p class="first">Batch size will not exceed the <a class="reference internal" href="../reference/limits.html#limit-bson-document-size"><span class="std std-ref">maximum BSON document size</span></a>.</p>
</li>
<li><p class="first">As you iterate through the cursor and reach the end of the returned
batch, if there are more results, <a class="reference internal" href="../reference/method/cursor.next.html#cursor.next" title="cursor.next()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">cursor.next()</span></code></a> will
perform a <a class="reference internal" href="../reference/current-op.html#currentOp.op" title="currentOp.op"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">getmore</span> <span class="pre">operation</span></code></a> to retrieve the next batch.</p>
<p>To see how many documents remain in the batch as you iterate the
cursor, you can use the <a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html#cursor.objsLeftInBatch" title="cursor.objsLeftInBatch()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">objsLeftInBatch()</span></code></a> method,
as in the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myCursor</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">inventory</span><span class="p">.</span><span class="nx">find</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">myFirstDocument</span> <span class="o">=</span> <span class="nx">myCursor</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">()</span> <span class="o">?</span> <span class="nx">myCursor</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">myCursor</span><span class="p">.</span><span class="nx">objsLeftInBatch</span><span class="p">();</span>
</pre></div>
</div>
</div>
</li>
</ul>
</li>
<li><p class="first">You can use the command <a class="reference internal" href="../reference/command/cursorInfo.html#dbcmd.cursorInfo" title="cursorInfo"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">cursorInfo</span></code></a> to retrieve the
following information on cursors:</p>
<ul class="simple">
<li>total number of open cursors</li>
<li>size of the client cursors in current use</li>
<li>number of timed out cursors since the last server restart</li>
</ul>
<p>Consider the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">runCommand</span><span class="p">(</span> <span class="p">{</span> <span class="nx">cursorInfo</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The result from the command returns the following documentation:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;totalOpen&quot;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;clientCursors_size&quot;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;timedOut&quot;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;ok&quot;</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</li>
</ul>
<table class="docutils footnote" frame="void" id="single-document-def" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[3]</a></td><td>A single document relative to value of the
<code class="docutils literal"><span class="pre">_id</span></code> field. A cursor cannot return the same document more than
once <em>if</em> the document has not changed.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="cursor-flags">
<span id="id8"></span><h3>Cursor Flags<a class="headerlink" href="#cursor-flags" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell provides the following cursor flags:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">DBQuery.Option.tailable</span></code></li>
<li><code class="docutils literal"><span class="pre">DBQuery.Option.slaveOk</span></code></li>
<li><code class="docutils literal"><span class="pre">DBQuery.Option.oplogReplay</span></code></li>
<li><code class="docutils literal"><span class="pre">DBQuery.Option.noTimeout</span></code></li>
<li><code class="docutils literal"><span class="pre">DBQuery.Option.awaitData</span></code></li>
<li><code class="docutils literal"><span class="pre">DBQuery.Option.exhaust</span></code></li>
<li><code class="docutils literal"><span class="pre">DBQuery.Option.partial</span></code></li>
</ul>
</div>
<div class="section" id="aggregation">
<span id="read-operations-aggregation"></span><h3>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2.</span></p>
</div>
<p>MongoDB can perform some basic data aggregation operations on results
before returning data to the application. These operations are not
queries; they use <a class="reference internal" href="../reference/glossary.html#term-database-command"><span class="xref std std-term">database commands</span></a> rather than queries, and
they do not return a cursor. However, they still require MongoDB to read data.</p>
<p>Running aggregation operations on the database side can be more
efficient than running them in the application layer and can reduce
the amount of data MongoDB needs to send to the application. These
aggregation operations include basic grouping, counting, and even
processing data using a map reduce framework. Additionally, in 2.2
MongoDB provides a complete aggregation framework for more rich
aggregation operations.</p>
<p>The aggregation framework provides users with a “pipeline” like
framework: documents enter from a collection and then pass through a
series of steps by a sequence of <a class="reference internal" href="../reference/aggregation.html#aggregation-pipeline-operator-reference"><span class="std std-ref">pipeline operators</span></a> that manipulate and
transform the documents until they’re output at the end. The
aggregation framework is accessible via the <a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a>
command or the <a class="reference internal" href="../reference/method/db.collection.aggregate.html#db.collection.aggregate" title="db.collection.aggregate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.aggregate()</span></code></a> helper in the
<a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell.</p>
<p>For more information on the aggregation framework see
<a class="reference internal" href="../aggregation.html"><span class="doc">Aggregation</span></a>.</p>
<p>Additionally, MongoDB provides a number of simple data aggregation
operations for more basic data aggregation operations:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/command/count.html#dbcmd.count" title="count"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">count</span></code></a> (<a class="reference internal" href="../reference/method/cursor.count.html#cursor.count" title="cursor.count()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">count()</span></code></a>)</li>
<li><a class="reference internal" href="../reference/command/distinct.html#dbcmd.distinct" title="distinct"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">distinct</span></code></a> (<a class="reference internal" href="../reference/method/db.collection.distinct.html#db.collection.distinct" title="db.collection.distinct()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.distinct()</span></code></a>)</li>
<li><a class="reference internal" href="../reference/command/group.html#dbcmd.group" title="group"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">group</span></code></a> (<a class="reference internal" href="../reference/method/db.collection.group.html#db.collection.group" title="db.collection.group()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.group()</span></code></a>)</li>
<li><a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></code></a>. (Also consider
<a class="reference internal" href="../reference/method/db.collection.mapReduce.html#db.collection.mapReduce" title="db.collection.mapReduce()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">mapReduce()</span></code></a> and
<a class="reference internal" href="../applications/map-reduce.html"><span class="doc">Map-Reduce</span></a>.)</li>
</ul>
</div>
</div>
<div class="section" id="architecture">
<span id="read-operations-architecture"></span><span id="index-2"></span><h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-3"></span><div class="section" id="read-operations-from-sharded-clusters">
<span id="read-operations-connection-pooling"></span><span id="index-4"></span><h3>Read Operations from Sharded Clusters<a class="headerlink" href="#read-operations-from-sharded-clusters" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../reference/glossary.html#term-sharded-cluster"><span class="xref std std-term">Sharded clusters</span></a> allow you to partition a
data set among a cluster of <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> in a way that is nearly
transparent to the application. See the <a class="reference internal" href="../sharding.html"><span class="doc">Sharding</span></a> section of
this manual for additional information about these deployments.</p>
<p>For a sharded cluster, you issue all operations to one of the
<a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances associated with the
cluster. <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances route operations to the
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> in the cluster and behave like <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>
instances to the application. Read operations to a sharded collection
in a sharded cluster are largely the same as operations to a <a class="reference internal" href="../reference/glossary.html#term-replica-set"><span class="xref std std-term">replica
set</span></a> or <a class="reference internal" href="../reference/glossary.html#term-standalone"><span class="xref std std-term">standalone</span></a> instances. See the section on <a class="reference internal" href="../administration/sharded-clusters.html#sharding-read-operations"><span class="std std-ref">Read
Operations in Sharded Clusters</span></a> for more
information.</p>
<p>In sharded deployments, the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instance routes
the queries from the clients to the <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instances that
hold the data, using the cluster metadata stored in the <a class="reference internal" href="../administration/sharded-clusters.html#sharding-config-server"><span class="std std-ref">config
database</span></a>.</p>
<p>For sharded collections, if queries do not include the <a class="reference internal" href="sharded-clusters.html#sharding-shard-key"><span class="std std-ref">shard key</span></a>, the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> must direct the query to
all shards in a collection. These <em>scatter gather</em> queries can be
inefficient, particularly on larger clusters, and are unfeasible for
routine operations.</p>
<p>For more information on read operations in sharded clusters, consider
the following resources:</p>
<ul class="simple">
<li><a class="reference internal" href="sharded-clusters.html#sharding-shard-key"><span class="std std-ref">An Introduction to Shard Keys</span></a></li>
<li><a class="reference internal" href="sharded-cluster-internals.html#sharding-internals-shard-keys"><span class="std std-ref">Shard Key Internals and Operations</span></a></li>
<li><a class="reference internal" href="sharded-cluster-internals.html#sharding-internals-querying"><span class="std std-ref">Querying Sharded Clusters</span></a></li>
<li><a class="reference internal" href="../administration/sharded-clusters.html#sharding-mongos"><span class="std std-ref">Sharded Cluster Operations and mongos Instances</span></a></li>
</ul>
</div>
<div class="section" id="read-operations-from-replica-sets">
<h3>Read Operations from Replica Sets<a class="headerlink" href="#read-operations-from-replica-sets" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../reference/glossary.html#term-replica-set"><span class="xref std std-term">Replica sets</span></a> use <a class="reference internal" href="../reference/glossary.html#term-read-preference"><span class="xref std std-term">read preferences</span></a> to determine where and how to route read operations to
members of the replica set. By default, MongoDB always reads data from
a replica set’s <a class="reference internal" href="../reference/glossary.html#term-primary"><span class="xref std std-term">primary</span></a>. You can modify that behavior by
changing the <a class="reference internal" href="../applications/replication.html#replica-set-read-preference-modes"><span class="std std-ref">read preference mode</span></a>.</p>
<p>You can configure the <a class="reference internal" href="../applications/replication.html#replica-set-read-preference-modes"><span class="std std-ref">read preference mode</span></a> on a per-connection or
per-operation basis to allow reads from <a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondaries</span></a> to:</p>
<ul class="simple">
<li>reduce latency in multi-data-center deployments,</li>
<li>improve read throughput by distributing high read-volumes (relative
to write volume),</li>
<li>for backup operations, and/or</li>
<li>to allow reads during <a class="reference internal" href="../administration/replica-sets.html#replica-set-failover"><span class="std std-ref">failover</span></a>
situations.</li>
</ul>
<p>Read operations from secondary members of replica sets are not
guaranteed to reflect the current state of the primary, and the state
of secondaries will trail the primary by some amount of time. Often,
applications don’t rely on this kind of strict consistency, but
application developers should always consider the needs of their
application before setting read preference.</p>
<p>For more information on <a class="reference internal" href="../applications/replication.html#read-preference"><span class="std std-ref">read preferences</span></a> or
on the read preference modes, see <a class="reference internal" href="../applications/replication.html#read-preference"><span class="std std-ref">Read Preference</span></a> and
<a class="reference internal" href="../applications/replication.html#replica-set-read-preference-modes"><span class="std std-ref">Read Preference Modes</span></a>.</p>
</div>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="../crud.html" title="Previous Section: Core MongoDB Operations (CRUD)"><span>Core MongoDB Operations (CRUD)</span></a>
      <a class="btn-next-text" href="write-operations.html" title="Next Section: Write Operations"><span>Write Operations</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id='mongodb-docs-1'>
   <script type='text/javascript'>
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops='{"links": [{"url": "https://www.mongodb.com/docs/manual/","text": "Server","active": true},{"url": "https://www.mongodb.com/docs/drivers/","text": "Drivers"},{"url": "https://www.mongodb.com/docs/cloud/","text": "Cloud"},{"url": "https://www.mongodb.com/docs/tools/","text": "Tools"},{"url": "https://www.mongodb.com/docs/guides/","text": "Guides"}], "baseUrl": "https://www.mongodb.com/docs"}'></div>

  

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = [];
  </script></body>
</html>