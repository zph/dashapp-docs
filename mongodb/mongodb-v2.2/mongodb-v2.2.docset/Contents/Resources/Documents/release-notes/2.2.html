<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"/><a class="dashingAutolink" name="autolink-3644"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Release%20Notes%20for%20MongoDB%202.2%20%E2%80%94%20MongoDB%20Manual"></a><title>Release Notes for MongoDB 2.2 &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/release-notes/2.2/"/><meta name="robots" content="index"/>
  <meta name="release" content="2.2.7"/>
  <meta name="version" content="2.2"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/v2.2/source/release-notes/2.2.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png"/>
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png"/>
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css"/>
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css"/>
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css"/>
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html"/>
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html"/>
<link rel="top" title="MongoDB Manual" href="../index.html"/>
<link rel="up" title="Reference" href="../reference.html"/>
<link rel="next" title="Release Notes for MongoDB 2.0" href="2.0.html"/>
<link rel="prev" title="Glossary" href="../reference/glossary.html"/><script type="text/javascript">
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script></head>
<body data-project="manual" data-project-title="MongoDB Manual" data-branch="v2.2" data-enable-marian="1" data-eol="True">
  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" style="margin-top: 0;">

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown" disabled="" aria-disabled="disabled">
          
          
          Version 2.2
        </button>
        <a href="https://www.mongodb.com/docs/legacy">&larr; Return to Documentation</a>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing MongoDB</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-centos-or-fedora-linux.html">Install MongoDB on Red Hat Enterprise, CentOS, or Fedora</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install MongoDB on Ubuntu</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install MongoDB on Debian</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-linux.html">Install MongoDB on Linux Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install MongoDB on OS X</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install MongoDB on Windows</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started with MongoDB Development</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/operational-segregation.html">Operational Segregation in MongoDB Operations and Deployments</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/journaling.html">Journaling</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/ssl.html">Use MongoDB with SSL Connections</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/snmp.html">Use MongoDB with SNMP Monitoring</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/monitoring.html">Monitoring Database Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/import-export.html">Importing and Exporting MongoDB Data</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/backups.html">Backup Strategies for MongoDB Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/security.html">Security Practices and Management</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/vulnerability-notification.html">Vulnerability Notification</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-authentication.html">Control Access to MongoDB Instances with Authentication</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/read-operations.html">Read Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/write-operations.html">Write Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/data-modeling.html">Data Modeling Considerations for MongoDB Applications</a></li><li class="toctree-l2"><a class="reference internal" href="../core/document.html">BSON Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../core/object-id.html">ObjectId</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/database-references.html">Database References</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/gridfs.html">GridFS</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/create.html">Create</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/read.html">Read</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/update.html">Update</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/delete.html">Delete</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model Embedded One-to-One Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model Embedded One-to-Many Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model Referenced One-to-Many Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a><ul><li class="toctree-l2"><a class="reference internal" href="../applications/aggregation.html">Aggregation Framework</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/aggregation-examples.html">Aggregation Framework Examples</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Framework Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/map-reduce.html">Map-Reduce</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/simple-aggregation.html">Simple Aggregation Methods and Commands</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/indexes.html">Indexing Overview</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/indexes.html">Indexing Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/geospatial-indexes.html">Geospatial Queries with <code class="docutils literal"><span class="pre">2d</span></code> Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Geospatial Indexes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/replication.html">Replica Set Fundamental Concepts</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-sets.html">Replica Set Operation and Management</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-architectures.html">Replica Set Architectures and Deployment Patterns</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Considerations and Behaviors for Applications and Development</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replication-internals.html">Replica Set Internals and Behaviors</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/master-slave.html">Master Slave Replication</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Distributed Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover MongoDB Data following Unexpected Shutdown</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-commands.html">Replica Set Commands</a></li><li class="toctree-l2"><a class="reference internal" href="replica-set-features.html">Replica Set Features and Version Compatibility</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/sharded-clusters.html">Sharded Cluster Overview</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-clusters.html">Sharded Cluster Administration</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-cluster-architectures.html">Sharded Cluster Architectures</a></li><li class="toctree-l2"><a class="reference internal" href="../core/sharded-cluster-internals.html">Sharded Cluster Internals and Behaviors</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-sharded-cluster-config-server.html">Manage the Config Servers</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-chunks-in-sharded-cluster.html">Manage Chunks in a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-sharded-cluster-balancer.html">Configure Behavior of Balancer Process in Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-small-sharded-cluster-with-mongodump.html">Backup a Small Sharded Cluster with <code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Create Backup of a Sharded Cluster with Filesystem Snapshots</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Create Backup of a Sharded Cluster with Database Dumps</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/restore-single-shard.html">Restore a Single Shard</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/tag-aware-sharding.html">Tag Aware Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/enforce-unique-keys-for-sharded-collections.html">Enforce Unique Keys for Sharded Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding-commands.html">Sharding Commands</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a><ul><li class="toctree-l2"><a class="reference internal" href="../applications/drivers.html">MongoDB Drivers and Client Libraries</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/optimization.html">Optimization Strategies for MongoDB Applications</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/server-side-javascript.html">Server-side JavaScript</a></li><li class="toctree-l2"><a class="reference internal" href="../core/capped-collections.html">Capped Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/perform-two-phase-commits.html">Perform Two Phase Commits</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-tailable-cursor.html">Create Tailable Cursor</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/isolate-sequence-of-operations.html">Isolate Sequence of Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-an-auto-incrementing-field.html">Create an Auto-Incrementing Sequence Field</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../mongo.html">Using the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started-with-the-mongo-shell.html">Getting Started with the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../core/shell-types.html">Data Types in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help Information</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../tutorial.html">MongoDB Tutorials</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/use-database-commands.html">Use Database Commands</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover MongoDB Data following Unexpected Shutdown</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/copy-databases-between-instances.html">Copy Databases Between Instances</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-databases-with-binary-database-dumps.html">Use <code class="docutils literal"><span class="pre">mongodump</span></code> and <code class="docutils literal"><span class="pre">mongorestore</span></code> to Backup and Restore MongoDB Databases</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-databases-with-filesystem-snapshots.html">Use Filesystem Snapshots to Backup and Restore MongoDB Databases</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Analyze Performance of Database Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/roll-back-to-v1.8-index.html">Build Old Style Indexes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul><li class="toctree-l2"><a class="reference internal" href="../faq/fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/developers.html">FAQ: MongoDB for Application Developers</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/mongo.html">FAQ: The <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/replica-sets.html">FAQ: Replica Sets and Replication in MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Reference</a><ul class="current"><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Query, Update, Projection, and Aggregation Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/uniqueDocs.html">$uniqueDocs</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/within.html">$within</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/isolated.html">$isolated</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/positional.html">$ (update)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pushAll.html">$pushAll</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/comment.html">$comment</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/explain.html">$explain</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/hint.html">$hint</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/max.html">$max</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/maxScan.html">$maxScan</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/min.html">$min</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/orderby.html">$orderby</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/query.html">$query</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/returnKey.html">$returnKey</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/showDiskLoc.html">$showDiskLoc</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/snapshot.html">$snapshot</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/applyOps.html">applyOps (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/availableQueryOptions.html">availableQueryOptions (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/clean.html">clean (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/clone.html">clone</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cloneCollection.html">cloneCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/closeAllDatabases.html">closeAllDatabases (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/connPoolSync.html">connPoolSync (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/copydb.html">copydb</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/copydbgetnonce.html">copydbgetnonce (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cursorInfo.html">cursorInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dbHash.html">dbHash (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/diagLogging.html">diagLogging (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/eval.html">eval</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/features.html">features (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoNear.html">geoNear</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoWalk.html">geoWalk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getPrevError.html">getPrevError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getnonce.html">getnonce (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getoptime.html">getoptime (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/group.html">group</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isMaster.html">isMaster</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isSelf.html">isSelf (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/logout.html">logout</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/medianKey.html">medianKey (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/netstat.html">netstat (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/repairDatabase.html">repairDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/resync.html">resync</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/splitChunk.html">splitChunk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/touch.html">touch</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri (internal)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html">JavaScript Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.showDiskLoc.html">cursor.showDiskLoc()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.snapshot.html">cursor.snapshot()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.addUser.html">db.addUser()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.cloneCollection.html">db.cloneCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.cloneDatabase.html">db.cloneDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.copyTo.html">db.collection.copyTo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.group.html">db.collection.group()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.save.html">db.collection.save()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.copyDatabase.html">db.copyDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.eval.html">db.eval()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getLastError.html">db.getLastError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getLastErrorObj.html">db.getLastErrorObj()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getPrevError.html">db.getPrevError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getProfilingLevel.html">db.getProfilingLevel()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.isMaster.html">db.isMaster()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.loadServerScripts.html">db.loadServerScripts()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.repairDatabase.html">db.repairDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/fuzzFile.html">fuzzFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rand.html">rand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.getBalancerHost.html">sh.getBalancerHost()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/srand.html">_srand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/version.html">version()</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/operators.html">Query, Update, and Projection Operators Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/meta-query-operators.html">Meta Query Operator Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/commands.html">Database Commands Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/javascript.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell JavaScript Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/components.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongo.html"><code class="docutils literal"><span class="pre">mongo</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodump.html"><code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongorestore.html"><code class="docutils literal"><span class="pre">mongorestore</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/bsondump.html"><code class="docutils literal"><span class="pre">bsondump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongooplog.html"><code class="docutils literal"><span class="pre">mongooplog</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoimport.html"><code class="docutils literal"><span class="pre">mongoimport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoexport.html"><code class="docutils literal"><span class="pre">mongoexport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongostat.html"><code class="docutils literal"><span class="pre">mongostat</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongotop.html"><code class="docutils literal"><span class="pre">mongotop</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongosniff.html"><code class="docutils literal"><span class="pre">mongosniff</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoperf.html"><code class="docutils literal"><span class="pre">mongoperf</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongofiles.html"><code class="docutils literal"><span class="pre">mongofiles</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-status-index.html">Server Status Output Index</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-status.html">Server Status Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/database-statistics.html">Database Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collection-statistics.html">Collection Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collection-validation.html">Collection Validation Data</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-pool-stats.html">Connection Pool Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-status.html">Replica Set Status Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication-info.html">Replication Info Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/current-op.html">Current Operation Reporting</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/explain.html">Explain Output</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/config-database.html">Config Database Contents</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li><li class="toctree-l2 current"><a class="reference internal current" href="">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="drivers-write-concern.html">Default Write Concern Change</a></li></ul></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
            <div class="alert alert-warning">
              <span class="alert-message">This version of the documentation is archived and no longer supported.</span>
            </div>
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="release-notes/2.2">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/v2.2/source/release-notes/2.2.txt" target="_blank" title="Edit release-notes/2.2.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../reference.html">Reference</a><span class="bcpoint"> &gt; </span></li>
            <li>Release Notes for MongoDB 2.2</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="release-notes-for-mongodb-2-2">
<h1>Release Notes for MongoDB 2.2<a class="headerlink" href="#release-notes-for-mongodb-2-2" title="Permalink to this headline">&para;</a></h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#upgrading" id="id1">Upgrading</a></li>
<li><a class="reference internal" href="#changes" id="id2">Changes</a></li>
<li><a class="reference internal" href="#licensing-changes" id="id3">Licensing Changes</a></li>
<li><a class="reference internal" href="#resources" id="id4">Resources</a></li>
</ul>
</div>
<div class="section" id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB 2.2 is a production release series and succeeds the 2.0
production release series.</p>
<p>MongoDB 2.0 data files are compatible with 2.2-series binaries without any
special migration process. However, always perform the upgrade process for replica
sets and sharded clusters using the procedures that follow.</p>
<p>Always upgrade to the latest point release in the 2.2 point
release. Currently the latest release of MongoDB is 2.2.7.</p>
<div class="section" id="synopsis">
<h3>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">&para;</a></h3>
<ul>
<li><p class="first"><a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>, 2.2 is a drop-in replacement for 2.0 and 1.8.</p>
</li>
<li><p class="first">Check your <a class="reference internal" href="../applications/drivers.html"><span class="doc">driver</span></a> documentation for
information regarding required compatibility upgrades, and always
run the recent release of your driver.</p>
<p>Typically, only users running with authentication, will need to
upgrade drivers before continuing with the upgrade to 2.2.</p>
</li>
<li><p class="first">For all deployments using authentication, upgrade the
drivers (i.e. client libraries), before upgrading the
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance or instances.</p>
</li>
<li><p class="first">For all upgrades of sharded clusters:</p>
<ul class="simple">
<li>turn off the balancer during the upgrade process. See the
<a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html#sharding-balancing-disable-temporarily"><span class="std std-ref">Disable the Balancer</span></a> section for more
information.</li>
<li>upgrade all <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances before upgrading any
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instances.</li>
</ul>
</li>
</ul>
<p>Other than the above restrictions, 2.2 processes can interoperate with
2.0 and 1.8 tools and processes. You can safely upgrade the
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> and <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> components of a deployment
one by one while the deployment is otherwise operational.  Be sure to
read the detailed upgrade procedures below before upgrading production
systems.</p>
<table class="docutils footnote" frame="void" id="secondaries-first" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>To minimize the interruption caused by
<a class="reference internal" href="../core/replication.html#replica-set-elections"><span class="std std-ref">election process</span></a>, always upgrade the
secondaries of the set first, then <a class="reference internal" href="../reference/command/replSetStepDown.html#dbcmd.replSetStepDown" title="replSetStepDown"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">step</span> <span class="pre">down</span></code></a> the primary, and then upgrade the primary.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="upgrading-a-standalone-mongod">
<span id="upgrade-standalone"></span><h3>Upgrading a Standalone <code class="docutils literal"><span class="pre">mongod</span></code><a class="headerlink" href="#upgrading-a-standalone-mongod" title="Permalink to this headline">&para;</a></h3>
<ol class="arabic simple">
<li>Download binaries of the latest release in the 2.2 series from the
<a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
<li>Shutdown your <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance. Replace the existing
binary with the 2.2 <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> binary and restart MongoDB.</li>
</ol>
</div>
<div class="section" id="upgrading-a-replica-set">
<span id="upgrade-replica-set"></span><h3>Upgrading a Replica Set<a class="headerlink" href="#upgrading-a-replica-set" title="Permalink to this headline">&para;</a></h3>
<p>You can upgrade to 2.2 by performing a &ldquo;rolling&rdquo;
upgrade of the set by upgrading the members individually while the
other members are available to minimize downtime. Use the following
procedure:</p>
<ol class="arabic">
<li><p class="first">Upgrade the <a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondary</span></a> members of the set one at a time by
shutting down the <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> and replacing the 2.0 binary
with the 2.2 binary.  After upgrading a <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance,
wait for the member to recover to <code class="docutils literal"><span class="pre">SECONDARY</span></code> state
before upgrading the next instance.
To check the member&rsquo;s state, issue <a class="reference internal" href="../reference/replica-commands.html#rs.status" title="rs.status()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></code></a> in the
<a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell.</p>
</li>
<li><p class="first">Use the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell method <a class="reference internal" href="../reference/replica-commands.html#rs.stepDown" title="rs.stepDown()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.stepDown()</span></code></a> to
step down the <a class="reference internal" href="../reference/glossary.html#term-primary"><span class="xref std std-term">primary</span></a> to allow the normal <a class="reference internal" href="../administration/replica-sets.html#replica-set-failover"><span class="std std-ref">failover</span></a> procedure.  <a class="reference internal" href="../reference/replica-commands.html#rs.stepDown" title="rs.stepDown()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.stepDown()</span></code></a>
expedites the failover procedure and is preferable to shutting down
the primary directly.</p>
<p>Once the primary has stepped down and another member has assumed
<code class="docutils literal"><span class="pre">PRIMARY</span></code> state, as observed in the output of
<a class="reference internal" href="../reference/replica-commands.html#rs.status" title="rs.status()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></code></a>, shut down the previous primary and replace
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> binary with the 2.2 binary and start the new
process.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Replica set failover is not instant but will
render the set unavailable to read or accept writes
until the failover process completes. Typically this takes
10 seconds or more. You may wish to plan the upgrade during
a predefined maintenance window.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="upgrading-a-sharded-cluster">
<span id="upgrade-sharded-cluster"></span><span id="upgrade-shard-cluster"></span><h3>Upgrading a Sharded Cluster<a class="headerlink" href="#upgrading-a-sharded-cluster" title="Permalink to this headline">&para;</a></h3>
<p>Use the following procedure to upgrade a sharded cluster:</p>
<ul class="simple">
<li><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html#sharding-balancing-disable-temporarily"><span class="std std-ref">Disable the balancer</span></a>.</li>
<li>Upgrade all <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances <em>first</em>, in any order.</li>
<li>Upgrade all of the <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> config server instances
using the <a class="reference internal" href="#upgrade-standalone"><span class="std std-ref">stand alone</span></a> procedure.
To keep the cluster online, be sure that at all times at least one config
server is up.</li>
<li>Upgrade each shard&rsquo;s replica set, using the <a class="reference internal" href="#upgrade-replica-set"><span class="std std-ref">upgrade
procedure for replica sets</span></a> detailed above.</li>
<li>re-enable the balancer.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Balancing is not currently supported in <em>mixed</em> 2.0.x and 2.2.0
deployments. Thus you will want to reach a consistent version for all
shards within a reasonable period of time, e.g. same-day.
See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-6902">SERVER-6902</a> for more information.</p>
</div>
</div>
</div>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">&para;</a></h2>
<div class="section" id="major-features">
<h3>Major Features<a class="headerlink" href="#major-features" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="aggregation-framework">
<h4>Aggregation Framework<a class="headerlink" href="#aggregation-framework" title="Permalink to this headline">&para;</a></h4>
<p>The aggregation framework makes it possible to do aggregation
operations without needing to use <a class="reference internal" href="../reference/glossary.html#term-map-reduce"><span class="xref std std-term">map-reduce</span></a>. The
<a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a> command exposes the aggregation framework, and the
<a class="reference internal" href="../reference/method/db.collection.aggregate.html#db.collection.aggregate" title="db.collection.aggregate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.aggregate()</span></code></a> helper in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell
provides an interface to these operations. Consider the following
resources for background on the aggregation framework and its use:</p>
<ul class="simple">
<li>Documentation: <a class="reference internal" href="../applications/aggregation.html"><span class="doc">Aggregation Framework</span></a></li>
<li>Reference: <a class="reference internal" href="../reference/aggregation.html"><span class="doc">Aggregation Framework Reference</span></a></li>
<li>Examples: <a class="reference internal" href="../tutorial/aggregation-examples.html"><span class="doc">Aggregation Framework Examples</span></a></li>
</ul>
</div>
<div class="section" id="ttl-collections">
<h4>TTL Collections<a class="headerlink" href="#ttl-collections" title="Permalink to this headline">&para;</a></h4>
<p>TTL collections remove expired data from a collection, using a special
index and a background thread that deletes expired documents every
minute. These collections are useful as an alternative to
<a class="reference internal" href="../reference/glossary.html#term-capped-collection"><span class="xref std std-term">capped collections</span></a> in some cases, such as for data
warehousing and caching cases, including: machine generated event data,
logs, and session information that needs to persist in a database
for only a limited period of time.</p>
<p>For more information, see the <a class="reference internal" href="../tutorial/expire-data.html"><span class="doc">Expire Data from Collections by Setting TTL</span></a> tutorial.</p>
</div>
<div class="section" id="concurrency-improvements">
<h4>Concurrency Improvements<a class="headerlink" href="#concurrency-improvements" title="Permalink to this headline">&para;</a></h4>
<p>MongoDB 2.2 increases the server&rsquo;s capacity for concurrent
operations with the following improvements:</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4328">DB Level Locking</a></li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3357">Improved Yielding on Page Faults</a></li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4538">Improved Page Fault Detection on Windows</a></li>
</ol>
<p>To reflect these changes, MongoDB now provides changed and improved
reporting for concurrency and use, see <a class="reference internal" href="../reference/server-status.html#locks"><span class="std std-ref">locks</span></a> and
<a class="reference internal" href="../reference/server-status.html#server-status-record-stats"><span class="std std-ref">recordStats</span></a> in <a class="reference internal" href="../reference/server-status.html"><span class="doc">server status</span></a> and see <a class="reference internal" href="../reference/current-op.html"><span class="doc">current operation output</span></a>, <a class="reference internal" href="../reference/method/db.currentOp.html#db.currentOp" title="db.currentOp()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></code></a>,
<a class="reference internal" href="../reference/mongotop.html"><span class="doc">mongotop</span></a>, and <a class="reference internal" href="../reference/mongostat.html"><span class="doc">mongostat</span></a>.</p>
</div>
<div class="section" id="improved-data-center-awareness-with-tag-aware-sharding">
<h4>Improved Data Center Awareness with Tag Aware Sharding<a class="headerlink" href="#improved-data-center-awareness-with-tag-aware-sharding" title="Permalink to this headline">&para;</a></h4>
<p>MongoDB 2.2 adds additional support for geographic distribution or
other custom partitioning for sharded collections in <a class="reference internal" href="../reference/glossary.html#term-sharded-cluster"><span class="xref std std-term">clusters</span></a>. By using this &ldquo;tag aware&rdquo; sharding, you can
automatically ensure that data in a sharded database system is always
on specific shards. For example, with tag aware sharding, you can
ensure that data is closest to the application servers that use that
data most frequently.</p>
<p>Shard tagging controls data location, and is complementary but
separate from replica set tagging, which controls <a class="reference internal" href="../applications/replication.html#replica-set-read-preference"><span class="std std-ref">read
preference</span></a> and <a class="reference internal" href="../core/write-operations.html#write-concern"><span class="std std-ref">write concern</span></a>. For example, shard tagging can pin all
&ldquo;USA&rdquo; data to one or more logical shards, while replica set tagging
can control which <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instances (e.g. &ldquo;<code class="docutils literal"><span class="pre">production</span></code>&rdquo;
or &ldquo;<code class="docutils literal"><span class="pre">reporting</span></code>&rdquo;) the application uses to service requests.</p>
<p>See the documentation for the following helpers in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell that support tagged sharding configuration:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/sharding-commands.html#sh.addShardTag" title="sh.addShardTag()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">sh.addShardTag()</span></code></a></li>
<li><a class="reference internal" href="../reference/sharding-commands.html#sh.addTagRange" title="sh.addTagRange()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">sh.addTagRange()</span></code></a></li>
<li><a class="reference internal" href="../reference/sharding-commands.html#sh.removeShardTag" title="sh.removeShardTag()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">sh.removeShardTag()</span></code></a></li>
</ul>
<p>Also, see <a class="reference internal" href="../administration/tag-aware-sharding.html"><span class="doc">Tag Aware Sharding</span></a>.</p>
</div>
<div class="section" id="fully-supported-read-preference-semantics">
<h4>Fully Supported Read Preference Semantics<a class="headerlink" href="#fully-supported-read-preference-semantics" title="Permalink to this headline">&para;</a></h4>
<p>All MongoDB clients and drivers now support full <a class="reference internal" href="../applications/replication.html#replica-set-read-preference"><span class="std std-ref">read
preferences</span></a>, including consistent
support for a full range of <a class="reference internal" href="../applications/replication.html#replica-set-read-preference-modes"><span class="std std-ref">read preference modes</span></a> and <a class="reference internal" href="../applications/replication.html#replica-set-read-preference-tag-sets"><span class="std std-ref">tag sets</span></a>. This support extends to the
<a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> and applies identically to single replica sets and
to the replica sets for each shard in a <a class="reference internal" href="../reference/glossary.html#term-sharded-cluster"><span class="xref std std-term">sharded cluster</span></a>.</p>
<p>Additional read preference support now exists in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell using the <a class="reference internal" href="../reference/method/cursor.readPref.html#cursor.readPref" title="cursor.readPref()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">readPref()</span></code></a> cursor method.</p>
</div>
</div>
<div class="section" id="compatibility-changes">
<h3>Compatibility Changes<a class="headerlink" href="#compatibility-changes" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="authentication-changes">
<h4>Authentication Changes<a class="headerlink" href="#authentication-changes" title="Permalink to this headline">&para;</a></h4>
<p>MongoDB 2.2 provides more reliable and robust support for
authentication clients, including drivers and <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>
instances.</p>
<p>If your cluster runs with authentication:</p>
<ul class="simple">
<li>For all drivers, use the latest release of your driver and check
its release notes.</li>
<li>In sharded environments,
to ensure that your cluster remains available during the upgrade
process you <strong>must</strong> use the <a class="reference internal" href="#upgrade-shard-cluster"><span class="std std-ref">upgrade procedure for sharded clusters</span></a>.</li>
</ul>
</div>
<div class="section" id="findandmodify-returns-null-value-for-upserts-that-perform-inserts">
<span id="findandmodify-returns-null"></span><h4><code class="docutils literal"><span class="pre">findAndModify</span></code> Returns Null Value for Upserts that Perform Inserts<a class="headerlink" href="#findandmodify-returns-null-value-for-upserts-that-perform-inserts" title="Permalink to this headline">&para;</a></h4>
<p>In version 2.2, for <a class="reference internal" href="../reference/glossary.html#term-upsert"><span class="xref std std-term">upsert</span></a> that perform inserts with the
<code class="docutils literal"><span class="pre">new</span></code> option set to <code class="docutils literal"><span class="pre">false</span></code>, <a class="reference internal" href="../reference/command/findAndModify.html#dbcmd.findAndModify" title="findAndModify"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">findAndModify</span></code></a> commands will
now return the following output:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s1">&#39;ok&#39;</span><span class="o">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="o">:</span> <span class="kc">null</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>In the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, upsert <a class="reference internal" href="../reference/command/findAndModify.html#dbcmd.findAndModify" title="findAndModify"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">findAndModify</span></code></a>
operations that perform inserts (with <code class="docutils literal"><span class="pre">new</span></code> set to <code class="docutils literal"><span class="pre">false</span></code>.)only output a <code class="docutils literal"><span class="pre">null</span></code> value.</p>
<p>In version 2.0 these operations would return an empty document,
e.g. <code class="docutils literal"><span class="pre">{</span> <span class="pre">}</span></code>.</p>
<p>See: <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-6226">SERVER-6226</a> for more information.</p>
</div>
<div class="section" id="mongodump-2-2-output-incompatible-with-pre-2-2-mongorestore">
<h4><code class="docutils literal"><span class="pre">mongodump</span></code> 2.2 Output Incompatible with Pre-2.2 <code class="docutils literal"><span class="pre">mongorestore</span></code><a class="headerlink" href="#mongodump-2-2-output-incompatible-with-pre-2-2-mongorestore" title="Permalink to this headline">&para;</a></h4>
<p>If you use the <a class="reference internal" href="../reference/mongodump.html#bin.mongodump" title="bin.mongodump"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a> tool from the 2.2 distribution to
create a dump of a database, you must use a 2.2 (or later) version of
<a class="reference internal" href="../reference/mongorestore.html#bin.mongorestore" title="bin.mongorestore"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongorestore</span></code></a> to restore that dump.</p>
<p>See: <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-6961">SERVER-6961</a> for more information.</p>
</div>
<div class="section" id="objectid-tostring-returns-string-literal-objectid">
<span id="objectid-tostring-valueof-methods"></span><h4><code class="docutils literal"><span class="pre">ObjectId().toString()</span></code> Returns String Literal <code class="docutils literal"><span class="pre">ObjectId(&#34;...&#34;)</span></code><a class="headerlink" href="#objectid-tostring-returns-string-literal-objectid" title="Permalink to this headline">&para;</a></h4>
<p>In version 2.2, the <a class="reference internal" href="../reference/method/ObjectId.toString.html#ObjectId.toString" title="ObjectId.toString()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">ObjectId.toString()</span></code></a> method returns the
string representation of the <a class="reference internal" href="../core/object-id.html#core-object-id-class"><span class="std std-ref">ObjectId()</span></a>
object and has the format <code class="docutils literal"><span class="pre">ObjectId(&#34;...&#34;)</span></code>.</p>
<p>Consider the following example that calls the
<a class="reference internal" href="../reference/method/ObjectId.toString.html#ObjectId.toString" title="ObjectId.toString()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">toString()</span></code></a> method on the
<code class="docutils literal"><span class="pre">ObjectId(&#34;507c7f79bcf86cd7994f6c0e&#34;)</span></code> object:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&#34;507c7f79bcf86cd7994f6c0e&#34;</span><span class="p">).</span><span class="nx">toString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The method now returns the <em>string</em>
<code class="docutils literal"><span class="pre">ObjectId(&#34;507c7f79bcf86cd7994f6c0e&#34;)</span></code>.</p>
<p>Previously, in version 2.0, the method would return the <em>hexadecimal
string</em> <code class="docutils literal"><span class="pre">507c7f79bcf86cd7994f6c0e</span></code>.</p>
<p>If compatibility between versions 2.0 and 2.2 is required, use
<a class="reference internal" href="../core/object-id.html#core-object-id-class"><span class="std std-ref">ObjectId().str</span></a>, which holds the
hexadecimal string value in both versions.</p>
</div>
<div class="section" id="objectid-valueof-returns-hexadecimal-string">
<h4><code class="docutils literal"><span class="pre">ObjectId().valueOf()</span></code> Returns hexadecimal string<a class="headerlink" href="#objectid-valueof-returns-hexadecimal-string" title="Permalink to this headline">&para;</a></h4>
<p>In version 2.2, the <a class="reference internal" href="../reference/method/ObjectId.valueOf.html#ObjectId.valueOf" title="ObjectId.valueOf()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">ObjectId.valueOf()</span></code></a> method returns the
value of the <a class="reference internal" href="../core/object-id.html#core-object-id-class"><span class="std std-ref">ObjectId()</span></a> object as a
lowercase hexadecimal string.</p>
<p>Consider the following example that calls the <a class="reference internal" href="../reference/method/ObjectId.valueOf.html#ObjectId.valueOf" title="ObjectId.valueOf()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">valueOf()</span></code></a> method on the
<code class="docutils literal"><span class="pre">ObjectId(&#34;507c7f79bcf86cd7994f6c0e&#34;)</span></code> object:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&#34;507c7f79bcf86cd7994f6c0e&#34;</span><span class="p">).</span><span class="nx">valueOf</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The method now returns the <em>hexadecimal string</em>
<code class="docutils literal"><span class="pre">507c7f79bcf86cd7994f6c0e</span></code>.</p>
<p>Previously, in version 2.0, the method would return the <em>object</em>
<code class="docutils literal"><span class="pre">ObjectId(&#34;507c7f79bcf86cd7994f6c0e&#34;)</span></code>.</p>
<p>If compatibility between versions 2.0 and 2.2 is required, use
<a class="reference internal" href="../core/object-id.html#core-object-id-class"><span class="std std-ref">ObjectId().str</span></a> attribute, which holds the
hexadecimal string value in both versions.</p>
</div>
</div>
<div class="section" id="behavioral-changes">
<h3>Behavioral Changes<a class="headerlink" href="#behavioral-changes" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="restrictions-on-collection-names">
<span id="rn-2-2-collection-name-restriction"></span><h4>Restrictions on Collection Names<a class="headerlink" href="#restrictions-on-collection-names" title="Permalink to this headline">&para;</a></h4>
<p>In version 2.2, collection names cannot:</p>
<ul class="simple">
<li>contain the <code class="docutils literal"><span class="pre">$</span></code>.</li>
<li>be an empty string (i.e. <code class="docutils literal"><span class="pre">&#34;&#34;</span></code>).</li>
</ul>
<p>This change does not affect collections created with now illegal names
in earlier versions of MongoDB.</p>
<p>These new restrictions are in addition to the existing restrictions on
collection names which are:</p>
<ul class="simple">
<li>A collection name should begin with a letter or an underscore.</li>
<li>A collection name cannot contain the null character.</li>
<li>Begin with the <code class="docutils literal"><span class="pre">system.</span></code> prefix. MongoDB
reserves <code class="docutils literal"><span class="pre">system.</span></code>
for system collections, such as the
<code class="docutils literal"><span class="pre">system.indexes</span></code> collection.</li>
<li>The maximum size of a collection name is 128 characters, including
the name of the database. However, for maximum flexibility,
collections should have names less than 80 characters.</li>
</ul>
<p>Collections names may have any other valid UTF-8 string.</p>
<p>See the <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4442">SERVER-4442</a> and the
<a class="reference internal" href="../faq/developers.html#faq-restrictions-on-collection-names"><span class="std std-ref">Are there any restrictions on the names of Collections?</span></a> FAQ item.</p>
</div>
<div class="section" id="restrictions-on-database-names-for-windows">
<span id="rn-2-2-database-name-restriction-windows"></span><h4>Restrictions on Database Names for Windows<a class="headerlink" href="#restrictions-on-database-names-for-windows" title="Permalink to this headline">&para;</a></h4>
<p>Database names running on Windows can no longer contain the following
characters:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-none"><div class="highlight"><pre><span></span>/\. &#34;*&lt;&gt;:|?
</pre></div>
</div>
</div>
<p>The names of the data files include the database name. If you attempt
to upgrade a database instance with one or more of these characters,
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> will refuse to start.</p>
<p>Change the name of these databases before upgrading. See
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4584">SERVER-4584</a> and <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-6729">SERVER-6729</a> for more information.</p>
</div>
<div class="section" id="id-indexes-capped-collections">
<span id="id-fields-and-indexes-on-capped-collections"></span><h4><code class="docutils literal"><span class="pre">_id</span></code> Fields and Indexes on Capped Collections<a class="headerlink" href="#id-indexes-capped-collections" title="Permalink to this headline">&para;</a></h4>
<p>All <a class="reference internal" href="../reference/glossary.html#term-capped-collection"><span class="xref std std-term">capped collections</span></a> now have an <code class="docutils literal"><span class="pre">_id</span></code>
field by default, <em>if</em> they exist outside of the <code class="docutils literal"><span class="pre">local</span></code> database,
and now have indexes on the <code class="docutils literal"><span class="pre">_id</span></code> field. This change only affects capped
collections created with 2.2 instances and does not affect existing
capped collections.</p>
<p>See: <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-5516">SERVER-5516</a> for more information.</p>
</div>
<div class="section" id="new-elemmatch-projection-operator">
<h4>New <code class="docutils literal"><span class="pre">$elemMatch</span></code> Projection Operator<a class="headerlink" href="#new-elemmatch-projection-operator" title="Permalink to this headline">&para;</a></h4>
<p>The <a class="reference internal" href="../reference/operator/projection/elemMatch.html#proj._S_elemMatch" title="$elemMatch"><code class="xref mongodb mongodb-projection docutils literal"><span class="pre">$elemMatch</span></code></a> operator allows applications to narrow
the data returned from queries so that the query operation will only
return the first matching element in an array. See the
<a class="reference internal" href="../reference/operator/projection/elemMatch.html"><span class="doc">$elemMatch (projection)</span></a> documentation and the
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-2238">SERVER-2238</a> and <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-828">SERVER-828</a> issues for more
information.</p>
</div>
</div>
<div class="section" id="windows-specific-changes">
<h3>Windows Specific Changes<a class="headerlink" href="#windows-specific-changes" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="windows-xp-is-not-supported">
<h4>Windows XP is Not Supported<a class="headerlink" href="#windows-xp-is-not-supported" title="Permalink to this headline">&para;</a></h4>
<p>As of 2.2, MongoDB does not support Windows XP. Please upgrade to a
more recent version of Windows to use the latest releases of
MongoDB. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-5648">SERVER-5648</a> for more information.</p>
</div>
<div class="section" id="service-support-for-mongos-exe">
<h4>Service Support for <code class="docutils literal"><span class="pre">mongos.exe</span></code><a class="headerlink" href="#service-support-for-mongos-exe" title="Permalink to this headline">&para;</a></h4>
<p>You may now run <a class="reference internal" href="../reference/mongos.exe.html#bin.mongos.exe" title="bin.mongos.exe"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos.exe</span></code></a> instances as a Windows
Service. See the <a class="reference internal" href="../reference/mongos.exe.html"><span class="doc">mongos.exe</span></a> reference and
<a class="reference internal" href="../tutorial/install-mongodb-on-windows.html#tutorial-mongod-as-windows-service"><span class="std std-ref">MongoDB as a Windows Service</span></a> and <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-1589">SERVER-1589</a> for
more information.</p>
</div>
<div class="section" id="log-rotate-command-support">
<h4>Log Rotate Command Support<a class="headerlink" href="#log-rotate-command-support" title="Permalink to this headline">&para;</a></h4>
<p>MongoDB for Windows now supports log rotation by way of the
<a class="reference internal" href="../reference/command/logRotate.html#dbcmd.logRotate" title="logRotate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">logRotate</span></code></a> database command. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-2612">SERVER-2612</a> for
more information.</p>
</div>
<div class="section" id="new-build-using-slimreadwrite-locks-for-windows-concurrency">
<h4>New Build Using SlimReadWrite Locks for Windows Concurrency<a class="headerlink" href="#new-build-using-slimreadwrite-locks-for-windows-concurrency" title="Permalink to this headline">&para;</a></h4>
<p>Labeled &ldquo;2008+&rdquo; on the <a class="reference external" href="http://www.mongodb.org/downloads">Downloads Page</a>, this build for 64-bit
versions of Windows Server 2008 R2 and for Windows 7 or newer, offers
increased performance over the standard 64-bit Windows build of
MongoDB. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3844">SERVER-3844</a> for more information.</p>
</div>
</div>
<div class="section" id="tool-improvements">
<h3>Tool Improvements<a class="headerlink" href="#tool-improvements" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="index-definitions-handled-by-mongodump-and-mongorestore">
<h4>Index Definitions Handled by <code class="docutils literal"><span class="pre">mongodump</span></code> and <code class="docutils literal"><span class="pre">mongorestore</span></code><a class="headerlink" href="#index-definitions-handled-by-mongodump-and-mongorestore" title="Permalink to this headline">&para;</a></h4>
<p>When you specify the <a class="reference internal" href="../reference/mongodump.html#cmdoption-mongodump-collection"><code class="xref std std-option docutils literal"><span class="pre">--collection</span></code></a>
option to <a class="reference internal" href="../reference/mongodump.html#bin.mongodump" title="bin.mongodump"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a>, <a class="reference internal" href="../reference/mongodump.html#bin.mongodump" title="bin.mongodump"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a> will now backup
the definitions for all indexes that exist on the source
database. When you attempt to restore this backup with
<a class="reference internal" href="../reference/mongorestore.html#bin.mongorestore" title="bin.mongorestore"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongorestore</span></code></a>, the target <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> will rebuild all
indexes. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-808">SERVER-808</a> for more information.</p>
<p><a class="reference internal" href="../reference/mongorestore.html#bin.mongorestore" title="bin.mongorestore"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongorestore</span></code></a> now includes the <a class="reference internal" href="../reference/mongorestore.html#cmdoption-mongorestore-noindexrestore"><code class="xref std std-option docutils literal"><span class="pre">--noIndexRestore</span></code></a> option to provide the preceding
behavior. Use <a class="reference internal" href="../reference/mongorestore.html#cmdoption-mongorestore-noindexrestore"><code class="xref std std-option docutils literal"><span class="pre">--noIndexRestore</span></code></a>
to prevent <a class="reference internal" href="../reference/mongorestore.html#bin.mongorestore" title="bin.mongorestore"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongorestore</span></code></a> from building
previous indexes.</p>
</div>
<div class="section" id="mongooplog-for-replaying-oplogs">
<h4><code class="docutils literal"><span class="pre">mongooplog</span></code> for Replaying Oplogs<a class="headerlink" href="#mongooplog-for-replaying-oplogs" title="Permalink to this headline">&para;</a></h4>
<p>The <a class="reference internal" href="../reference/mongooplog.html#bin.mongooplog" title="bin.mongooplog"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongooplog</span></code></a> tool makes it possible to pull <a class="reference internal" href="../reference/glossary.html#term-oplog"><span class="xref std std-term">oplog</span></a>
entries from <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance and apply them to another
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance. You can use <a class="reference internal" href="../reference/mongooplog.html#bin.mongooplog" title="bin.mongooplog"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongooplog</span></code></a> to
achieve point-in-time backup of a MongoDB data set. See the
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3873">SERVER-3873</a> case and the <a class="reference internal" href="../reference/mongooplog.html"><span class="doc">mongooplog</span></a>
documentation.</p>
</div>
<div class="section" id="authentication-support-for-mongotop-and-mongostat">
<h4>Authentication Support for <code class="docutils literal"><span class="pre">mongotop</span></code> and <code class="docutils literal"><span class="pre">mongostat</span></code><a class="headerlink" href="#authentication-support-for-mongotop-and-mongostat" title="Permalink to this headline">&para;</a></h4>
<p><a class="reference internal" href="../reference/mongotop.html#bin.mongotop" title="bin.mongotop"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongotop</span></code></a> and <a class="reference internal" href="../reference/mongostat.html#bin.mongostat" title="bin.mongostat"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongostat</span></code></a> now contain support for
username/password authentication. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3875">SERVER-3875</a> and
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3871">SERVER-3871</a> for more information regarding this change. Also
consider the documentation of the following options for additional
information:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/mongotop.html#cmdoption-mongotop-username"><code class="xref std std-option docutils literal"><span class="pre">mongotop</span> <span class="pre">--username</span></code></a></li>
<li><a class="reference internal" href="../reference/mongotop.html#cmdoption-mongotop-password"><code class="xref std std-option docutils literal"><span class="pre">mongotop</span> <span class="pre">--password</span></code></a></li>
<li><a class="reference internal" href="../reference/mongostat.html#cmdoption-mongostat-username"><code class="xref std std-option docutils literal"><span class="pre">mongostat</span> <span class="pre">--username</span></code></a></li>
<li><a class="reference internal" href="../reference/mongostat.html#cmdoption-mongostat-password"><code class="xref std std-option docutils literal"><span class="pre">mongostat</span> <span class="pre">--password</span></code></a></li>
</ul>
</div>
<div class="section" id="write-concern-support-for-mongoimport-and-mongorestore">
<h4>Write Concern Support for <code class="docutils literal"><span class="pre">mongoimport</span></code> and <code class="docutils literal"><span class="pre">mongorestore</span></code><a class="headerlink" href="#write-concern-support-for-mongoimport-and-mongorestore" title="Permalink to this headline">&para;</a></h4>
<p><a class="reference internal" href="../reference/mongoimport.html#bin.mongoimport" title="bin.mongoimport"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongoimport</span></code></a> now provides an option to halt the import if
the operation encounters an error, such as a network interruption, a
duplicate key exception, or a write error.
The <a class="reference internal" href="../reference/mongoimport.html#cmdoption-mongoimport-stoponerror"><code class="xref std std-option docutils literal"><span class="pre">--stopOnError</span></code></a> option
will
produce an error rather than silently continue importing data. See
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3937">SERVER-3937</a> for more information.</p>
<p>In <a class="reference internal" href="../reference/mongorestore.html#bin.mongorestore" title="bin.mongorestore"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongorestore</span></code></a>, the <a class="reference internal" href="../reference/mongorestore.html#cmdoption-mongorestore-w"><code class="xref std std-option docutils literal"><span class="pre">--w</span></code></a>
option provides support for configurable write concern.</p>
</div>
<div class="section" id="mongodump-support-for-reading-from-secondaries">
<h4><code class="docutils literal"><span class="pre">mongodump</span></code> Support for Reading from Secondaries<a class="headerlink" href="#mongodump-support-for-reading-from-secondaries" title="Permalink to this headline">&para;</a></h4>
<p>You can now run <a class="reference internal" href="../reference/mongodump.html#bin.mongodump" title="bin.mongodump"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a> when connected to a
<a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondary</span></a> member of a <a class="reference internal" href="../reference/glossary.html#term-replica-set"><span class="xref std std-term">replica set</span></a>. See
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3854">SERVER-3854</a> for more information.</p>
</div>
<div class="section" id="mongoimport-support-for-full-16mb-documents">
<h4><code class="docutils literal"><span class="pre">mongoimport</span></code> Support for full 16MB Documents<a class="headerlink" href="#mongoimport-support-for-full-16mb-documents" title="Permalink to this headline">&para;</a></h4>
<p>Previously, <a class="reference internal" href="../reference/mongoimport.html#bin.mongoimport" title="bin.mongoimport"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongoimport</span></code></a> would only import documents that
were less than 4 megabytes in size. This issue is now corrected, and
you may use <a class="reference internal" href="../reference/mongoimport.html#bin.mongoimport" title="bin.mongoimport"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongoimport</span></code></a> to import documents that are at
least 16 megabytes ins size. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4593">SERVER-4593</a> for more
information.</p>
</div>
<div class="section" id="timestamp-extended-json-format">
<h4><code class="docutils literal"><span class="pre">Timestamp()</span></code> Extended JSON format<a class="headerlink" href="#timestamp-extended-json-format" title="Permalink to this headline">&para;</a></h4>
<p>MongoDB extended JSON now includes a new <code class="docutils literal"><span class="pre">Timestamp()</span></code> type to
represent the Timestamp type that MongoDB uses for timestamps in the
<a class="reference internal" href="../reference/glossary.html#term-oplog"><span class="xref std std-term">oplog</span></a> among other contexts.</p>
<p>This permits tools like <a class="reference internal" href="../reference/mongooplog.html#bin.mongooplog" title="bin.mongooplog"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongooplog</span></code></a> and <a class="reference internal" href="../reference/mongodump.html#bin.mongodump" title="bin.mongodump"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a>
to query for specific timestamps. Consider the following
<a class="reference internal" href="../reference/mongodump.html#bin.mongodump" title="bin.mongodump"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a> operation:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>mongodump --db <span class="nb">local</span> --collection oplog.rs --query <span class="s1">&#39;{&#34;ts&#34;:{&#34;$gt&#34;:{&#34;$timestamp&#34; : {&#34;t&#34;: 1344969612000, &#34;i&#34;: 1 }}}}&#39;</span>  --out oplog-dump
</pre></div>
</div>
</div>
<p>See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3483">SERVER-3483</a> for more information.</p>
</div>
</div>
<div class="section" id="shell-improvements">
<h3>Shell Improvements<a class="headerlink" href="#shell-improvements" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="improved-shell-user-interface">
<h4>Improved Shell User Interface<a class="headerlink" href="#improved-shell-user-interface" title="Permalink to this headline">&para;</a></h4>
<p>2.2 includes a number of changes that improve the overall quality and
consistency of the user interface for the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell:</p>
<ul class="simple">
<li>Full Unicode support.</li>
<li>Bash-like line editing features. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4312">SERVER-4312</a> for more
information.</li>
<li>Multi-line command support in shell history.
See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3470">SERVER-3470</a> for more information.</li>
<li>Windows support for the <code class="docutils literal"><span class="pre">edit</span></code> command. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3998">SERVER-3998</a> for
more information.</li>
</ul>
</div>
<div class="section" id="helper-to-load-server-side-functions">
<h4>Helper to load Server-Side Functions<a class="headerlink" href="#helper-to-load-server-side-functions" title="Permalink to this headline">&para;</a></h4>
<p>The <a class="reference internal" href="../reference/method/db.loadServerScripts.html#db.loadServerScripts" title="db.loadServerScripts()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.loadServerScripts()</span></code></a> loads the contents of the current
database&rsquo;s <code class="docutils literal"><span class="pre">system.js</span></code> collection into the current <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell session. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-1651">SERVER-1651</a> for more information.</p>
</div>
<div class="section" id="support-for-bulk-inserts">
<h4>Support for Bulk Inserts<a class="headerlink" href="#support-for-bulk-inserts" title="Permalink to this headline">&para;</a></h4>
<p>If you pass an array of <a class="reference internal" href="../reference/glossary.html#term-document"><span class="xref std std-term">documents</span></a> to the
<a class="reference internal" href="../reference/method/db.collection.insert.html#db.collection.insert" title="db.collection.insert()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">insert()</span></code></a> method, the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell will now perform a bulk insert operation. See
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3819">SERVER-3819</a> and <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-2395">SERVER-2395</a> for more information.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For bulk inserts on sharded clusters, the <a class="reference internal" href="../reference/command/getLastError.html#dbcmd.getLastError" title="getLastError"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">getLastError</span></code></a>
command alone is insufficient to verify success. Applications
should must verify the success of bulk inserts in application
logic.</p>
</div>
</div>
</div>
<div class="section" id="operations">
<h3>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="support-for-logging-to-syslog">
<h4>Support for Logging to Syslog<a class="headerlink" href="#support-for-logging-to-syslog" title="Permalink to this headline">&para;</a></h4>
<p>See the <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-2957">SERVER-2957</a> case and the documentation of
the <a class="reference internal" href="../reference/configuration-options.html#syslog" title="syslog"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">syslog</span></code></a> run-time option or the <a class="reference internal" href="../reference/mongod.html#cmdoption-mongod-syslog"><code class="xref std std-option docutils literal"><span class="pre">mongod</span> <span class="pre">--syslog</span></code></a>
and <a class="reference internal" href="../reference/mongos.html#cmdoption-mongos-syslog"><code class="xref std std-option docutils literal"><span class="pre">mongos</span> <span class="pre">--syslog</span></code></a> command line-options.</p>
</div>
<div class="section" id="touch-command">
<h4><code class="docutils literal"><span class="pre">touch</span></code> Command<a class="headerlink" href="#touch-command" title="Permalink to this headline">&para;</a></h4>
<p>Added the <a class="reference internal" href="../reference/command/touch.html#dbcmd.touch" title="touch"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">touch</span></code></a> command to read the data and/or indexes
from a collection into memory. See: <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-2023">SERVER-2023</a> and
<a class="reference internal" href="../reference/command/touch.html#dbcmd.touch" title="touch"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">touch</span></code></a> for more information.</p>
</div>
<div class="section" id="indexcounters-no-longer-report-sampled-data">
<h4><code class="docutils literal"><span class="pre">indexCounters</span></code> No Longer Report Sampled Data<a class="headerlink" href="#indexcounters-no-longer-report-sampled-data" title="Permalink to this headline">&para;</a></h4>
<p><code class="xref mongodb mongodb-data docutils literal"><span class="pre">indexCounters</span></code> now report actual counters that reflect index
use and state. In previous versions, these data were sampled. See
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-5784">SERVER-5784</a> and <code class="xref mongodb mongodb-data docutils literal"><span class="pre">indexCounters</span></code> for more information.</p>
</div>
<div class="section" id="padding-specifiable-on-compact-command">
<h4>Padding Specifiable on <code class="docutils literal"><span class="pre">compact</span></code> Command<a class="headerlink" href="#padding-specifiable-on-compact-command" title="Permalink to this headline">&para;</a></h4>
<p>See the documentation of the <a class="reference internal" href="../reference/command/compact.html#dbcmd.compact" title="compact"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">compact</span></code></a> and the
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4018">SERVER-4018</a> issue for more information.</p>
</div>
<div class="section" id="added-build-flag-to-use-system-libraries">
<h4>Added Build Flag to Use System Libraries<a class="headerlink" href="#added-build-flag-to-use-system-libraries" title="Permalink to this headline">&para;</a></h4>
<p>The Boost library, version 1.49, is now embedded in the MongoDB
code base.</p>
<p>If you want to build MongoDB binaries using system Boost libraries,
you can pass <code class="docutils literal"><span class="pre">scons</span></code> using the <code class="docutils literal"><span class="pre">--use-system-boost</span></code> flag, as follows:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>scons --use-system-boost
</pre></div>
</div>
</div>
<p>When building MongoDB, you can also pass <code class="docutils literal"><span class="pre">scons</span></code> a flag to compile
MongoDB using only system libraries rather than the included versions
of the libraries. For example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>scons --use-system-all
</pre></div>
</div>
</div>
<p>See the <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3829">SERVER-3829</a> and <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-5172">SERVER-5172</a> issues for more
information.</p>
</div>
<div class="section" id="memory-allocator-changed-to-tcmalloc">
<h4>Memory Allocator Changed to TCMalloc<a class="headerlink" href="#memory-allocator-changed-to-tcmalloc" title="Permalink to this headline">&para;</a></h4>
<p>To improve performance, MongoDB 2.2 uses the TCMalloc memory
allocator from Google Perftools. For more information about this
change see the <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-188">SERVER-188</a> and <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4683">SERVER-4683</a>. For more
information about TCMalloc, see the documentation of <a class="reference external" href="http://goog-perftools.sourceforge.net/doc/tcmalloc.html">TCMalloc</a> itself.</p>
</div>
</div>
<div class="section" id="replication">
<h3>Replication<a class="headerlink" href="#replication" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="improved-logging-for-replica-set-lag">
<h4>Improved Logging for Replica Set Lag<a class="headerlink" href="#improved-logging-for-replica-set-lag" title="Permalink to this headline">&para;</a></h4>
<p>When <a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondary</span></a> members of a replica set fall behind in
replication, <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> now provides better reporting in the
log. This makes it possible to track replication in general and
identify what process may produce errors or halt replication. See
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3575">SERVER-3575</a> for more information.</p>
</div>
<div class="section" id="replica-set-members-can-sync-from-specific-members">
<h4>Replica Set Members can Sync from Specific Members<a class="headerlink" href="#replica-set-members-can-sync-from-specific-members" title="Permalink to this headline">&para;</a></h4>
<p>The new <a class="reference internal" href="../reference/replica-commands.html#dbcmd.replSetSyncFrom" title="replSetSyncFrom"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></code></a> command and new
<a class="reference internal" href="../reference/replica-commands.html#rs.syncFrom" title="rs.syncFrom()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.syncFrom()</span></code></a> helper in the <a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell make it
possible for you to manually configure from which member of the set a
replica will poll <a class="reference internal" href="../reference/glossary.html#term-oplog"><span class="xref std std-term">oplog</span></a> entries. Use these commands to
override the default selection logic if needed. Always exercise
caution with <a class="reference internal" href="../reference/replica-commands.html#dbcmd.replSetSyncFrom" title="replSetSyncFrom"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></code></a> when overriding the default
behavior.</p>
</div>
<div class="section" id="replica-set-members-will-not-sync-from-members-without-indexes-unless-buildindexes-false">
<h4>Replica Set Members will not Sync from Members Without Indexes Unless <code class="docutils literal"><span class="pre">buildIndexes:</span> <span class="pre">false</span></code><a class="headerlink" href="#replica-set-members-will-not-sync-from-members-without-indexes-unless-buildindexes-false" title="Permalink to this headline">&para;</a></h4>
<p>To prevent inconsistency between members of replica sets, if the
member of a replica set has
<a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].buildIndexes" title="local.system.replset.members[n].buildIndexes"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">buildIndexes</span></code></a> set to <code class="docutils literal"><span class="pre">true</span></code>,
other members of the replica set will <em>not</em> sync from this member,
unless they also have
<a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].buildIndexes" title="local.system.replset.members[n].buildIndexes"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">buildIndexes</span></code></a> set to
<code class="docutils literal"><span class="pre">true</span></code>. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4160">SERVER-4160</a> for more information.</p>
</div>
<div class="section" id="new-option-to-configure-index-pre-fetching-during-replication">
<h4>New Option To Configure Index Pre-Fetching during Replication<a class="headerlink" href="#new-option-to-configure-index-pre-fetching-during-replication" title="Permalink to this headline">&para;</a></h4>
<p>By default, when replicating options, <a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondaries</span></a>
will pre-fetch <a class="reference internal" href="../indexes.html#indexes"><span class="std std-ref">Indexes</span></a> associated with a query to improve replication
throughput in most cases. The <a class="reference internal" href="../reference/configuration-options.html#replIndexPrefetch" title="replIndexPrefetch"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">replIndexPrefetch</span></code></a> setting and
<a class="reference internal" href="../reference/mongod.html#cmdoption-mongod-replindexprefetch"><code class="xref std std-option docutils literal"><span class="pre">--replIndexPrefetch</span></code></a> option allow administrators to disable
this feature or allow the <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> to pre-fetch only the
index on the <code class="docutils literal"><span class="pre">_id</span></code> field. See <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-6718">SERVER-6718</a> for more information.</p>
</div>
</div>
<div class="section" id="map-reduce-improvements">
<h3>Map Reduce Improvements<a class="headerlink" href="#map-reduce-improvements" title="Permalink to this headline">&para;</a></h3>
<p>In 2.2 Map Reduce received the following improvements:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4521">Improved support for sharded MapReduce</a>, and</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4158">MapReduce will retry jobs following a config error</a>.</li>
</ul>
</div>
<div class="section" id="sharding-improvements">
<h3>Sharding Improvements<a class="headerlink" href="#sharding-improvements" title="Permalink to this headline">&para;</a></h3>
<div class="section" id="index-on-shard-keys-can-now-be-a-compound-index">
<h4>Index on Shard Keys Can Now Be a Compound Index<a class="headerlink" href="#index-on-shard-keys-can-now-be-a-compound-index" title="Permalink to this headline">&para;</a></h4>
<p>If your shard key uses the prefix of an existing index, then you do not
need to maintain a separate index for your shard key in addition to
your existing index. This index, however, cannot be a multi-key
index. See the &ldquo;<a class="reference internal" href="../core/sharded-cluster-internals.html#sharding-shard-key-indexes"><span class="std std-ref">Shard Key Indexes</span></a>&rdquo; documentation and
<a class="reference external" href="https://jira.mongodb.org/browse/SERVER-1506">SERVER-1506</a> for more information.</p>
</div>
<div class="section" id="migration-thresholds-modified">
<h4>Migration Thresholds Modified<a class="headerlink" href="#migration-thresholds-modified" title="Permalink to this headline">&para;</a></h4>
<p>The <a class="reference internal" href="../core/sharded-cluster-internals.html#sharding-migration-thresholds"><span class="std std-ref">migration thresholds</span></a> have
changed in 2.2 to permit more even distribution of <a class="reference internal" href="../reference/glossary.html#term-chunk"><span class="xref std std-term">chunks</span></a> in collections that have smaller quantities of data. See the
<a class="reference internal" href="../core/sharded-cluster-internals.html#sharding-migration-thresholds"><span class="std std-ref">Migration Thresholds</span></a> documentation for more
information.</p>
</div>
</div>
</div>
<div class="section" id="licensing-changes">
<h2>Licensing Changes<a class="headerlink" href="#licensing-changes" title="Permalink to this headline">&para;</a></h2>
<p>Added License notice for Google Perftools (TCMalloc Utility). See the
<a class="reference external" href="https://github.com/mongodb/mongo/blob/v2.2/distsrc/THIRD-PARTY-NOTICES#L231">License Notice</a>
and the <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-4683">SERVER-4683</a> for more information.</p>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">&para;</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://mongodb.org/downloads">MongoDB Downloads</a>.</li>
<li><a class="reference external" href="https://jira.mongodb.org/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+SERVER+AND+fixVersion+in+%28%222.1.0%22%2C+%222.1.1%22%2C+%222.1.2%22%2C+%222.2.0-rc0%22%2C+%222.2.0-rc1%22%2C+%222.2.0-rc2%22%29+ORDER+BY+component+ASC%2C+key+DESC">All JIRA issues resolved in 2.2</a>.</li>
<li><a class="reference external" href="https://jira.mongodb.org/secure/IssueNavigator.jspa?requestId=11225">All backwards incompatible changes</a>.</li>
<li><a class="reference external" href="https://github.com/mongodb/mongo/blob/v2.2/distsrc/THIRD-PARTY-NOTICES">All third party license notices</a>.</li>
<li><a class="reference external" href="http://www.mongodb.com/events/webinar/mongodb-online-conference-sept">What&rsquo;s New in MongoDB 2.2 Online Conference</a>.</li>
</ul>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="../reference/glossary.html" title="Previous Section: Glossary"><span>Glossary</span></a>
      <a class="btn-next-text" href="2.0.html" title="Next Section: Release Notes for MongoDB 2.0"><span>Release Notes for MongoDB 2.0</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id="mongodb-docs-1">
   <script type="text/javascript">
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops="{&#34;links&#34;: [{&#34;url&#34;: &#34;https://www.mongodb.com/docs/manual/&#34;,&#34;text&#34;: &#34;Server&#34;,&#34;active&#34;: true},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/drivers/&#34;,&#34;text&#34;: &#34;Drivers&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/cloud/&#34;,&#34;text&#34;: &#34;Cloud&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/tools/&#34;,&#34;text&#34;: &#34;Tools&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/guides/&#34;,&#34;text&#34;: &#34;Guides&#34;}], &#34;baseUrl&#34;: &#34;https://www.mongodb.com/docs&#34;}"></div>

  

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = [];
  </script>
</body></html>