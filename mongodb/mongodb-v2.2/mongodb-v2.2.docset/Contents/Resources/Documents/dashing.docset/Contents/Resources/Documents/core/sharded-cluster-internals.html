<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"/></head><body data-project="manual" data-project-title="MongoDB Manual" data-branch="v2.2" data-enable-marian="1" data-eol="True"><a class="dashingAutolink" name="autolink-66"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Sharded%20Cluster%20Internals%20and%20Behaviors%20%E2%80%94%20MongoDB%20Manual"></a><a class="dashingAutolink" name="autolink-137"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Sharded%20Cluster%20Internals%20and%20Behaviors%20%E2%80%94%20MongoDB%20Manual"></a><title>Sharded Cluster Internals and Behaviors &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/core/sharded-cluster-internals/"/><meta name="robots" content="index"/>
  <meta name="release" content="2.2.7"/>
  <meta name="version" content="2.2"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/v2.2/source/core/sharded-cluster-internals.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png"/>
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png"/>
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css"/>
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css"/>
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css"/>
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html"/>
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html"/>
<link rel="top" title="MongoDB Manual" href="../index.html"/>
<link rel="up" title="Sharding" href="../sharding.html"/>
<link rel="next" title="Deploy a Sharded Cluster" href="../tutorial/deploy-shard-cluster.html"/>
<link rel="prev" title="Sharded Cluster Architectures" href="../administration/sharded-cluster-architectures.html"/><script type="text/javascript">
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script>

  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" style="margin-top: 0;">

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown" disabled="" aria-disabled="disabled">
          
          
          Version 2.2
        </button>
        <a href="https://www.mongodb.com/docs/legacy">&larr; Return to Documentation</a>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing MongoDB</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-centos-or-fedora-linux.html">Install MongoDB on Red Hat Enterprise, CentOS, or Fedora</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install MongoDB on Ubuntu</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install MongoDB on Debian</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-linux.html">Install MongoDB on Linux Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install MongoDB on OS X</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install MongoDB on Windows</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started with MongoDB Development</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/operational-segregation.html">Operational Segregation in MongoDB Operations and Deployments</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/journaling.html">Journaling</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/ssl.html">Use MongoDB with SSL Connections</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/snmp.html">Use MongoDB with SNMP Monitoring</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/monitoring.html">Monitoring Database Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/import-export.html">Importing and Exporting MongoDB Data</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/backups.html">Backup Strategies for MongoDB Systems</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/security.html">Security Practices and Management</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/vulnerability-notification.html">Vulnerability Notification</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-authentication.html">Control Access to MongoDB Instances with Authentication</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a><ul><li class="toctree-l2"><a class="reference internal" href="read-operations.html">Read Operations</a></li><li class="toctree-l2"><a class="reference internal" href="write-operations.html">Write Operations</a></li><li class="toctree-l2"><a class="reference internal" href="data-modeling.html">Data Modeling Considerations for MongoDB Applications</a></li><li class="toctree-l2"><a class="reference internal" href="document.html">BSON Documents</a></li><li class="toctree-l2"><a class="reference internal" href="object-id.html">ObjectId</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/database-references.html">Database References</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/gridfs.html">GridFS</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/create.html">Create</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/read.html">Read</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/update.html">Update</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/delete.html">Delete</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model Embedded One-to-One Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model Embedded One-to-Many Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model Referenced One-to-Many Relationships Between Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a><ul><li class="toctree-l2"><a class="reference internal" href="../applications/aggregation.html">Aggregation Framework</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/aggregation-examples.html">Aggregation Framework Examples</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Framework Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/map-reduce.html">Map-Reduce</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/simple-aggregation.html">Simple Aggregation Methods and Commands</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="indexes.html">Indexing Overview</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/indexes.html">Indexing Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/geospatial-indexes.html">Geospatial Queries with <code class="docutils literal"><span class="pre">2d</span></code> Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Geospatial Indexes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="replication.html">Replica Set Fundamental Concepts</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-sets.html">Replica Set Operation and Management</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-architectures.html">Replica Set Architectures and Deployment Patterns</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Considerations and Behaviors for Applications and Development</a></li><li class="toctree-l2"><a class="reference internal" href="replication-internals.html">Replica Set Internals and Behaviors</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/master-slave.html">Master Slave Replication</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Distributed Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover MongoDB Data following Unexpected Shutdown</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-commands.html">Replica Set Commands</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/replica-set-features.html">Replica Set Features and Version Compatibility</a></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../sharding.html">Sharding</a><ul class="current"><li class="toctree-l2"><a class="reference internal" href="sharded-clusters.html">Sharded Cluster Overview</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-clusters.html">Sharded Cluster Administration</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-cluster-architectures.html">Sharded Cluster Architectures</a></li><li class="toctree-l2 current"><a class="reference internal current" href="">Sharded Cluster Internals and Behaviors</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-sharded-cluster-config-server.html">Manage the Config Servers</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-chunks-in-sharded-cluster.html">Manage Chunks in a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-sharded-cluster-balancer.html">Configure Behavior of Balancer Process in Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-small-sharded-cluster-with-mongodump.html">Backup a Small Sharded Cluster with <code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Create Backup of a Sharded Cluster with Filesystem Snapshots</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Create Backup of a Sharded Cluster with Database Dumps</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/restore-single-shard.html">Restore a Single Shard</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/tag-aware-sharding.html">Tag Aware Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/enforce-unique-keys-for-sharded-collections.html">Enforce Unique Keys for Sharded Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding-commands.html">Sharding Commands</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a><ul><li class="toctree-l2"><a class="reference internal" href="../applications/drivers.html">MongoDB Drivers and Client Libraries</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/optimization.html">Optimization Strategies for MongoDB Applications</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/server-side-javascript.html">Server-side JavaScript</a></li><li class="toctree-l2"><a class="reference internal" href="capped-collections.html">Capped Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/perform-two-phase-commits.html">Perform Two Phase Commits</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-tailable-cursor.html">Create Tailable Cursor</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/isolate-sequence-of-operations.html">Isolate Sequence of Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-an-auto-incrementing-field.html">Create an Auto-Incrementing Sequence Field</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../mongo.html">Using the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started-with-the-mongo-shell.html">Getting Started with the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="shell-types.html">Data Types in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help Information</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../tutorial.html">MongoDB Tutorials</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/use-database-commands.html">Use Database Commands</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover MongoDB Data following Unexpected Shutdown</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/copy-databases-between-instances.html">Copy Databases Between Instances</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-databases-with-binary-database-dumps.html">Use <code class="docutils literal"><span class="pre">mongodump</span></code> and <code class="docutils literal"><span class="pre">mongorestore</span></code> to Backup and Restore MongoDB Databases</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/backup-databases-with-filesystem-snapshots.html">Use Filesystem Snapshots to Backup and Restore MongoDB Databases</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Analyze Performance of Database Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/roll-back-to-v1.8-index.html">Build Old Style Indexes</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul><li class="toctree-l2"><a class="reference internal" href="../faq/fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/developers.html">FAQ: MongoDB for Application Developers</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/mongo.html">FAQ: The <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/replica-sets.html">FAQ: Replica Sets and Replication in MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a><ul><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Query, Update, Projection, and Aggregation Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/uniqueDocs.html">$uniqueDocs</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query/within.html">$within</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/isolated.html">$isolated</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/positional.html">$ (update)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/pushAll.html">$pushAll</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/comment.html">$comment</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/explain.html">$explain</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/hint.html">$hint</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/max.html">$max</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/maxScan.html">$maxScan</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/min.html">$min</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/orderby.html">$orderby</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/query.html">$query</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/returnKey.html">$returnKey</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/showDiskLoc.html">$showDiskLoc</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/meta/snapshot.html">$snapshot</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/applyOps.html">applyOps (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/availableQueryOptions.html">availableQueryOptions (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/clean.html">clean (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/clone.html">clone</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cloneCollection.html">cloneCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/closeAllDatabases.html">closeAllDatabases (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/connPoolSync.html">connPoolSync (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/copydb.html">copydb</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/copydbgetnonce.html">copydbgetnonce (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/cursorInfo.html">cursorInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dbHash.html">dbHash (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/diagLogging.html">diagLogging (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/eval.html">eval</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/features.html">features (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoNear.html">geoNear</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/geoWalk.html">geoWalk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getPrevError.html">getPrevError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getnonce.html">getnonce (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/getoptime.html">getoptime (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/group.html">group</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isMaster.html">isMaster</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isSelf.html">isSelf (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/logout.html">logout</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/medianKey.html">medianKey (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/netstat.html">netstat (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/repairDatabase.html">repairDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/resync.html">resync</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/splitChunk.html">splitChunk</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/touch.html">touch</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding (internal)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri (internal)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html">JavaScript Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.showDiskLoc.html">cursor.showDiskLoc()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.snapshot.html">cursor.snapshot()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.addUser.html">db.addUser()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.cloneCollection.html">db.cloneCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.cloneDatabase.html">db.cloneDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.copyTo.html">db.collection.copyTo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.group.html">db.collection.group()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.save.html">db.collection.save()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.copyDatabase.html">db.copyDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.eval.html">db.eval()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getLastError.html">db.getLastError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getLastErrorObj.html">db.getLastErrorObj()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getPrevError.html">db.getPrevError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getProfilingLevel.html">db.getProfilingLevel()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.isMaster.html">db.isMaster()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.loadServerScripts.html">db.loadServerScripts()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.repairDatabase.html">db.repairDatabase()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/fuzzFile.html">fuzzFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rand.html">rand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.getBalancerHost.html">sh.getBalancerHost()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/srand.html">_srand()</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/version.html">version()</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/operators.html">Query, Update, and Projection Operators Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/meta-query-operators.html">Meta Query Operator Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/commands.html">Database Commands Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/javascript.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell JavaScript Quick Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/components.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongo.html"><code class="docutils literal"><span class="pre">mongo</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodump.html"><code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongorestore.html"><code class="docutils literal"><span class="pre">mongorestore</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/bsondump.html"><code class="docutils literal"><span class="pre">bsondump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongooplog.html"><code class="docutils literal"><span class="pre">mongooplog</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoimport.html"><code class="docutils literal"><span class="pre">mongoimport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoexport.html"><code class="docutils literal"><span class="pre">mongoexport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongostat.html"><code class="docutils literal"><span class="pre">mongostat</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongotop.html"><code class="docutils literal"><span class="pre">mongotop</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongosniff.html"><code class="docutils literal"><span class="pre">mongosniff</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongoperf.html"><code class="docutils literal"><span class="pre">mongoperf</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongofiles.html"><code class="docutils literal"><span class="pre">mongofiles</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-status-index.html">Server Status Output Index</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-status.html">Server Status Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/database-statistics.html">Database Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collection-statistics.html">Collection Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collection-validation.html">Collection Validation Data</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-pool-stats.html">Connection Pool Statistics Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-status.html">Replica Set Status Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication-info.html">Replication Info Reference</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/current-op.html">Current Operation Reporting</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/explain.html">Explain Output</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/config-database.html">Config Database Contents</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.2.html">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/drivers-write-concern.html">Default Write Concern Change</a></li></ul></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
            <div class="alert alert-warning">
              <span class="alert-message">This version of the documentation is archived and no longer supported.</span>
            </div>
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="core/sharded-cluster-internals">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/v2.2/source/core/sharded-cluster-internals.txt" target="_blank" title="Edit core/sharded-cluster-internals.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../sharding.html">Sharding</a><span class="bcpoint"> &gt; </span></li>
            <li>Sharded Cluster Internals and Behaviors</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="sharded-cluster-internals-and-behaviors">
<span id="sharding-internals"></span><span id="index-0"></span><h1>Sharded Cluster Internals and Behaviors<a class="headerlink" href="#sharded-cluster-internals-and-behaviors" title="Permalink to this headline">&para;</a></h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#shard-keys" id="id2">Shard Keys</a></li>
<li><a class="reference internal" href="#cluster-balancer" id="id3">Cluster Balancer</a></li>
<li><a class="reference internal" href="#config-database" id="id4">Config Database</a></li>
<li><a class="reference internal" href="#sharding-gridfs-stores" id="id5">Sharding GridFS Stores</a></li>
</ul>
</div>
<p>This document introduces lower level sharding concepts for users who are
familiar with <a class="reference internal" href="../reference/glossary.html#term-sharding"><span class="xref std std-term">sharding</span></a> generally and want to learn more about
the internals. This document provides a more detailed understanding of
your cluster&rsquo;s behavior. For higher level sharding concepts, see
<a class="reference internal" href="sharded-clusters.html"><span class="doc">Sharded Cluster Overview</span></a>. For complete documentation of sharded clusters see the
<a class="reference internal" href="../sharding.html"><span class="doc">Sharding</span></a> section of this manual.</p>
<div class="section" id="shard-keys">
<span id="sharding-internals-shard-keys"></span><span id="index-1"></span><h2>Shard Keys<a class="headerlink" href="#shard-keys" title="Permalink to this headline">&para;</a></h2>
<p>Shard keys are the field in a collection that MongoDB uses to
distribute <a class="reference internal" href="../reference/glossary.html#term-document"><span class="xref std std-term">documents</span></a> within a sharded cluster. See the
<a class="reference internal" href="sharded-clusters.html#sharding-shard-key"><span class="std std-ref">overview of shard keys</span></a> for an
introduction to these topics.</p>
<div class="section" id="cardinality">
<span id="sharding-shard-key-cardinality"></span><span id="index-2"></span><h3>Cardinality<a class="headerlink" href="#cardinality" title="Permalink to this headline">&para;</a></h3>
<p>Cardinality in the context of MongoDB, refers to the ability of the
system to <a class="reference internal" href="../reference/glossary.html#term-partition"><span class="xref std std-term">partition</span></a> data into <a class="reference internal" href="../reference/glossary.html#term-chunk"><span class="xref std std-term">chunks</span></a>. For
example, consider a collection of data such as an &ldquo;address book&rdquo; that
stores address records:</p>
<ul>
<li><p class="first">Consider the use of a <code class="docutils literal"><span class="pre">state</span></code> field as a shard key:</p>
<p>The state key&rsquo;s value holds the US state for a given address document.
This field has a <em>low cardinality</em> as all documents that have the
same value in the <code class="docutils literal"><span class="pre">state</span></code> field <em>must</em> reside on the same shard,
even if a particular state&rsquo;s chunk exceeds the maximum chunk size.</p>
<p>Since there are a limited number of possible values for the <code class="docutils literal"><span class="pre">state</span></code>
field, MongoDB may distribute data unevenly among a small
number of fixed chunks. This may have a number of effects:</p>
<ul class="simple">
<li>If MongoDB cannot split a chunk because all of its documents
have the same shard key, migrations involving these un-splittable
chunks will take longer than other migrations, and it will be more
difficult for your data to stay balanced.</li>
<li>If you have a fixed maximum number of chunks, you will never be
able to use more than that number of shards for this collection.</li>
</ul>
</li>
<li><p class="first">Consider the use of a <code class="docutils literal"><span class="pre">zipcode</span></code> field as a shard key:</p>
<p>While this field has a large number of possible values, and thus has
potentially higher cardinality, it&rsquo;s possible that a large number of users
could have the same value for the shard key, which would make this
chunk of users un-splittable.</p>
<p>In these cases, cardinality depends on the data. If your address book
stores records for a geographically distributed contact list
(e.g. &ldquo;Dry cleaning businesses in America,&rdquo;) then a value like
zipcode would be sufficient. However, if your address book is
more geographically concentrated (e.g &ldquo;ice cream stores in Boston
Massachusetts,&rdquo;) then you may have a much lower cardinality.</p>
</li>
<li><p class="first">Consider the use of a <code class="docutils literal"><span class="pre">phone-number</span></code> field as a shard key:</p>
<p>Phone number has a <em>high cardinality,</em> because users will generally
have a unique value for this field, MongoDB will be able to split as
many chunks as needed.</p>
</li>
</ul>
<p>While &ldquo;high cardinality,&rdquo; is necessary for ensuring an even
distribution of data, having a high cardinality does not guarantee
sufficient <a class="reference internal" href="#sharding-shard-key-query-isolation"><span class="std std-ref">query isolation</span></a>
or appropriate <a class="reference internal" href="#sharding-shard-key-write-scaling"><span class="std std-ref">write scaling</span></a>.
Please continue reading for more information on these topics.</p>
</div>
<div class="section" id="write-scaling">
<span id="sharding-shard-key-write-scaling"></span><span id="index-3"></span><h3>Write Scaling<a class="headerlink" href="#write-scaling" title="Permalink to this headline">&para;</a></h3>
<p>Some possible shard keys will allow your application to take advantage of
the increased write capacity that the cluster can provide, while
others do not. Consider the following example where you shard by the
values of the default <a class="reference internal" href="../reference/glossary.html#term-id"><span class="xref std std-term">_id</span></a> field, which is <a class="reference internal" href="../reference/glossary.html#term-objectid"><span class="xref std std-term">ObjectId</span></a>.</p>
<p><code class="docutils literal"><span class="pre">ObjectId</span></code> is computed upon document creation, that is a
unique identifier for the object. However, the most significant bits of data
in this value represent a time stamp, which means that they increment
in a regular and predictable pattern. Even though this value has
<a class="reference internal" href="#sharding-shard-key-cardinality"><span class="std std-ref">high cardinality</span></a>, when using
this, <em>any date, or other monotonically increasing number</em> as the shard
key, all insert operations will be storing data into a single chunk, and
therefore, a single shard. As a result, the write capacity of this shard
will define the effective write capacity of the cluster.</p>
<p>A shard key that increases monotonically will not hinder performance
if you have a very low insert rate, or if most of your write
operations are <a class="reference internal" href="../reference/method/db.collection.update.html#db.collection.update" title="db.collection.update()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">update()</span></code></a> operations
distributed through your entire data set. Generally, choose shard keys
that have <em>both</em> high cardinality and will distribute write operations
across the <em>entire cluster</em>.</p>
<p>Typically, a computed shard key that has some amount of &ldquo;randomness,&rdquo;
such as ones that include a cryptographic hash (i.e. MD5 or SHA1) of
other content in the document, will allow the cluster to scale write
operations. However, random shard keys do not typically provide
<a class="reference internal" href="#sharding-shard-key-query-isolation"><span class="std std-ref">query isolation</span></a>, which is
another important characteristic of shard keys.</p>
</div>
<div class="section" id="querying">
<span id="sharding-internals-querying"></span><h3>Querying<a class="headerlink" href="#querying" title="Permalink to this headline">&para;</a></h3>
<p>The <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> provides an interface for applications to
interact with sharded clusters that hides the complexity of <a class="reference internal" href="../reference/glossary.html#term-partition"><span class="xref std std-term">data
partitioning</span></a>. A <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> receives queries from
applications, and uses metadata from the <a class="reference internal" href="../administration/sharded-clusters.html#sharding-config-server"><span class="std std-ref">config server</span></a>, to route queries to the <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>
instances with the appropriate data. While the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>
succeeds in making all querying operational in sharded environments,
the <a class="reference internal" href="../reference/glossary.html#term-shard-key"><span class="xref std std-term">shard key</span></a> you select can have a profound affect on query
performance.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="../administration/sharded-clusters.html#sharding-mongos"><span class="std std-ref">mongos and Sharding</span></a> and
<a class="reference internal" href="../administration/sharded-clusters.html#sharding-config-server"><span class="std std-ref">config server</span></a> sections for a more
general overview of querying in sharded environments.</p>
</div>
<div class="section" id="query-isolation">
<span id="sharding-shard-key-query-isolation"></span><span id="index-4"></span><h4>Query Isolation<a class="headerlink" href="#query-isolation" title="Permalink to this headline">&para;</a></h4>
<p>The fastest queries in a sharded environment are those that
<a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> will route to a single shard, using the
<a class="reference internal" href="../reference/glossary.html#term-shard-key"><span class="xref std std-term">shard key</span></a> and the cluster meta data from the <a class="reference internal" href="../administration/sharded-clusters.html#sharding-config-server"><span class="std std-ref">config server</span></a>. For queries that don&rsquo;t include the shard
key, <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> must query all shards, wait for their response
and then return the result to the application. These &ldquo;scatter/gather&rdquo;
queries can be long running operations.</p>
<p>If your query includes the first component of a compound shard
key <a class="footnote-reference" href="#shard-key-index" id="id1">[1]</a>, the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> can route the
query directly to a single shard, or a small number of shards, which
provides better performance. Even if you query values of the shard
key reside in different chunks, the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> will route
queries directly to specific shards.</p>
<p>To select a shard key for a collection:</p>
<ul class="simple">
<li>determine the most commonly included fields in queries for a
given application</li>
<li>find which of these operations are most performance dependent.</li>
</ul>
<p>If this field has low cardinality (i.e not sufficiently
selective) you should add a second field to the shard key making a
compound shard key. The data may become more splittable with a
compound shard key.</p>
<div class="admonition-see admonition">
<p class="first admonition-title">See</p>
<p class="last"><a class="reference internal" href="../administration/sharded-clusters.html#sharding-mongos"><span class="std std-ref">Sharded Cluster Operations and mongos Instances</span></a> for more information on query
operations in the context of sharded clusters. Specifically the
<a class="reference internal" href="../administration/sharded-clusters.html#sharding-query-routing"><span class="std std-ref">Automatic Operation and Query Routing with mongos</span></a> sub-section outlines the procedure
that <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> uses to route read operations to the shards.</p>
</div>
<table class="docutils footnote" frame="void" id="shard-key-index" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>In many ways, you can think of the shard key a
cluster-wide unique index. However, be aware that sharded systems
cannot enforce cluster-wide unique indexes <em>unless</em> the unique
field is in the shard key. Consider the <a class="reference internal" href="indexes.html"><span class="doc">Indexing Overview</span></a> page
for more information on indexes and compound indexes.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="sorting">
<h4>Sorting<a class="headerlink" href="#sorting" title="Permalink to this headline">&para;</a></h4>
<p>In sharded systems, the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> performs a merge-sort of all
sorted query results from the shards. See the <a class="reference internal" href="../administration/sharded-clusters.html#sharding-query-routing"><span class="std std-ref">sharded query
routing</span></a> and <a class="reference internal" href="../applications/indexes.html#index-sort"><span class="std std-ref">Use Indexes to Sort Query Results</span></a> sections for
more information.</p>
</div>
</div>
<div class="section" id="operations-and-reliability">
<span id="sharding-internals-operations-and-reliability"></span><h3>Operations and Reliability<a class="headerlink" href="#operations-and-reliability" title="Permalink to this headline">&para;</a></h3>
<p>The most important consideration when choosing a <a class="reference internal" href="../reference/glossary.html#term-shard-key"><span class="xref std std-term">shard key</span></a>
are:</p>
<ul class="simple">
<li>to ensure that MongoDB will be able to distribute data evenly among
shards, and</li>
<li>to scale writes across the cluster, and</li>
<li>to ensure that <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> can isolate most queries to a specific
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>.</li>
</ul>
<p>Furthermore:</p>
<ul class="simple">
<li>Each shard should be a <a class="reference internal" href="../reference/glossary.html#term-replica-set"><span class="xref std std-term">replica set</span></a>, if a specific
<a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance fails, the replica set members will elect
another to be <a class="reference internal" href="../reference/glossary.html#term-primary"><span class="xref std std-term">primary</span></a> and continue operation. However, if an
entire shard is unreachable or fails for some reason, that data will
be unavailable.</li>
<li>If the shard key allows the <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> to isolate most
operations to a single shard, then the failure of a single shard
will only render <em>some</em> data unavailable.</li>
<li>If your shard key distributes data required for every operation
throughout the cluster, then the failure of the entire shard will
render the entire cluster unavailable.</li>
</ul>
<p>In essence, this concern for reliability simply underscores the
importance of choosing a shard key that isolates query operations to a
single shard.</p>
</div>
<div class="section" id="choosing-a-shard-key">
<span id="sharding-internals-choose-shard-key"></span><h3>Choosing a Shard Key<a class="headerlink" href="#choosing-a-shard-key" title="Permalink to this headline">&para;</a></h3>
<p>It is unlikely that any single, naturally occurring key in your
collection will satisfy all requirements of a good shard key. There
are three options:</p>
<ol class="arabic simple">
<li>Compute a more ideal shard key in your application layer,
and store this in all of your documents, potentially in the
<code class="docutils literal"><span class="pre">_id</span></code> field.</li>
<li>Use a compound shard key, that uses two or three values from all
documents that provide the right mix of cardinality with scalable
write operations and query isolation.</li>
<li>Determine that the impact of using a less than ideal shard key,
is insignificant in your use case given:<ul>
<li>limited write volume,</li>
<li>expected data size, or</li>
<li>query patterns and demands.</li>
</ul>
</li>
</ol>
<p>From a decision making stand point, begin by finding the field
that will provide the required <a class="reference internal" href="#sharding-shard-key-query-isolation"><span class="std std-ref">query isolation</span></a>, ensure that <a class="reference internal" href="#sharding-shard-key-query-isolation"><span class="std std-ref">writes will
scale across the cluster</span></a>, and
then add an additional field to provide additional <a class="reference internal" href="#sharding-shard-key-cardinality"><span class="std std-ref">cardinality</span></a> if your primary key does not have
sufficient split-ability.</p>
</div>
<div class="section" id="shard-key-indexes">
<span id="sharding-shard-key-indexes"></span><span id="sharding-internals-shard-key-indexes"></span><span id="index-6"></span><h3>Shard Key Indexes<a class="headerlink" href="#shard-key-indexes" title="Permalink to this headline">&para;</a></h3>
<p>All sharded collections <strong>must</strong> have an index that starts with the
<a class="reference internal" href="../reference/glossary.html#term-shard-key"><span class="xref std std-term">shard key</span></a>. If you shard a collection that does not yet contain
documents and <em>without</em> such an index, the <a class="reference internal" href="../reference/sharding-commands.html#dbcmd.shardCollection" title="shardCollection"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">shardCollection</span></code></a>
command will create an index on the shard key. If the collection already
contains documents, you must create an appropriate index before using
<a class="reference internal" href="../reference/sharding-commands.html#dbcmd.shardCollection" title="shardCollection"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">shardCollection</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span>The index on the shard key no longer needs to be identical to the
shard key. This index can be an index of the shard key itself as before,
or a <a class="reference internal" href="../reference/glossary.html#term-compound-index"><span class="xref std std-term">compound index</span></a> where the
shard key is the prefix of the index. This index <em>cannot</em> be a
multikey index.</p>
</div>
<p>If you have a collection named <code class="docutils literal"><span class="pre">people</span></code>, sharded using the field <code class="docutils literal"><span class="pre">{</span> <span class="pre">zipcode:</span> <span class="pre">1</span> <span class="pre">}</span></code>,
and you want to replace this with an index on the field <code class="docutils literal"><span class="pre">{</span> <span class="pre">zipcode:</span>
<span class="pre">1,</span> <span class="pre">username:</span> <span class="pre">1</span> <span class="pre">}</span></code>, then:</p>
<ol class="arabic">
<li><p class="first">Create an index on <code class="docutils literal"><span class="pre">{</span> <span class="pre">zipcode:</span> <span class="pre">1,</span> <span class="pre">username:</span> <span class="pre">1</span> <span class="pre">}</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">ensureIndex</span><span class="p">(</span> <span class="p">{</span> <span class="nx">zipcode</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">username</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">When MongoDB finishes building the index, you can safely drop
existing index on <code class="docutils literal"><span class="pre">{</span> <span class="pre">zipcode:</span> <span class="pre">1</span> <span class="pre">}</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">dropIndex</span><span class="p">(</span> <span class="p">{</span> <span class="nx">zipcode</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
</div>
</li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The index on the shard key <strong>cannot</strong> be a multikey index.</p>
<p>As above, an index on <code class="docutils literal"><span class="pre">{</span> <span class="pre">zipcode:</span> <span class="pre">1,</span> <span class="pre">username:</span> <span class="pre">1</span> <span class="pre">}</span></code> can only
replace an index on <code class="docutils literal"><span class="pre">zipcode</span></code> if there are no array values for
the <code class="docutils literal"><span class="pre">username</span></code> field.</p>
<p class="last">If you drop the last appropriate index for the shard key, recover
by recreating an index on just the shard key.</p>
</div>
</div>
</div>
<div class="section" id="cluster-balancer">
<span id="sharding-balancing-internals"></span><span id="index-8"></span><h2>Cluster Balancer<a class="headerlink" href="#cluster-balancer" title="Permalink to this headline">&para;</a></h2>
<p>The <a class="reference internal" href="sharded-clusters.html#sharding-balancing"><span class="std std-ref">balancer</span></a> sub-process is responsible
for redistributing chunks evenly among the shards and ensuring that
each member of the cluster is responsible for the same volume of
data. This section contains complete documentation of the balancer
process and operations. For a higher level introduction see the
<a class="reference internal" href="sharded-clusters.html#sharding-balancing"><span class="std std-ref">Shard Balancing</span></a> section.</p>
<div class="section" id="balancing-internals">
<span id="sharding-internals-balancing"></span><h3>Balancing Internals<a class="headerlink" href="#balancing-internals" title="Permalink to this headline">&para;</a></h3>
<p>A balancing round originates from an arbitrary <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>
instance from one of the cluster&rsquo;s
<a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances. When a balancer process is active, the
responsible <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> acquires a &ldquo;lock&rdquo; by modifying a
document in the <code class="docutils literal"><span class="pre">lock</span></code> collection in the <a class="reference internal" href="../reference/config-database.html#config-database"><span class="std std-ref">Config Database Contents</span></a>.</p>
<p>By default, the balancer process is always running. When the number of
chunks in a collection is unevenly distributed among the shards, the
balancer begins migrating <a class="reference internal" href="../reference/glossary.html#term-chunk"><span class="xref std std-term">chunks</span></a> from shards with more
chunks to shards with a fewer number of chunks. The balancer will
continue migrating chunks, one at a time, until the data is evenly
distributed among the shards.</p>
<p>While these automatic chunk migrations are crucial for distributing
data, they carry some overhead in terms of bandwidth and workload,
both of which can impact database performance. As a result, MongoDB
attempts to minimize the effect of balancing by only migrating chunks
when the distribution of chunks passes the <a class="reference internal" href="#sharding-migration-thresholds"><span class="std std-ref">migration thresholds</span></a>.</p>
<p id="index-9">The migration process ensures consistency and maximizes availability
of chunks during balancing: when MongoDB begins migrating a chunk, the
database begins copying the data to the new server and tracks incoming
write operations. After migrating chunks, the &ldquo;from&rdquo; <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>
sends all new writes to the &ldquo;receiving&rdquo; server. Finally,
<a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> updates the chunk record in the <a class="reference internal" href="../reference/glossary.html#term-config-database"><span class="xref std std-term">config
database</span></a> to reflect the new location of the chunk.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last versionchanged">
<p><span class="versionmodified">Changed in version 2.0: </span>Before MongoDB version 2.0, large differences in timekeeping
(i.e. clock skew) between <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances could lead
to failed distributed locks, which carries the possibility of
data loss, particularly with skews larger than 5 minutes.
Always use the network time protocol (NTP) by running <code class="docutils literal"><span class="pre">ntpd</span></code>
on your servers to minimize clock skew.</p>
</div>
</div>
</div>
<div class="section" id="migration-thresholds">
<span id="sharding-migration-thresholds"></span><h3>Migration Thresholds<a class="headerlink" href="#migration-thresholds" title="Permalink to this headline">&para;</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span>The following thresholds appear first in 2.2; prior to this
release, balancing would only commence if the shard with the most
chunks had 8 more chunks than the shard with the least number of
chunks.</p>
</div>
<p>In order to minimize the impact of balancing on the cluster, the
<a class="reference internal" href="../reference/glossary.html#term-balancer"><span class="xref std std-term">balancer</span></a> will not begin balancing until the distribution of
chunks has reached certain thresholds. These thresholds apply to the
difference in number of <a class="reference internal" href="../reference/glossary.html#term-chunk"><span class="xref std std-term">chunks</span></a> between the shard with
the greatest number of chunks and the shard with the least number of
chunks. The balancer has the following thresholds:</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%"/>
<col width="54%"/>
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Number of Chunks</td>
<td>Migration Threshold</td>
</tr>
<tr class="row-even"><td>Less than 20</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>20-79</td>
<td>4</td>
</tr>
<tr class="row-even"><td>80 and greater</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>Once a balancing round starts, the balancer will not stop until the
difference between the number of chunks on any two shards is <em>less
than two</em> or a chunk migration fails.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You can restrict the balancer so that it only operates between specific
start and end times. See <a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html#sharding-schedule-balancing-window"><span class="std std-ref">Schedule the Balancing Window</span></a> for more information.</p>
<p class="last">The specification of the balancing window is relative to the local
time zone of all individual <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instances in the
sharded cluster.</p>
</div>
</div>
<div class="section" id="chunk-size">
<span id="sharding-chunk-size"></span><span id="index-10"></span><h3>Chunk Size<a class="headerlink" href="#chunk-size" title="Permalink to this headline">&para;</a></h3>
<p>The default <a class="reference internal" href="../reference/glossary.html#term-chunk"><span class="xref std std-term">chunk</span></a> size in MongoDB is 64 megabytes.</p>
<p>When chunks grow beyond the <a class="reference internal" href="#sharding-chunk-size"><span class="std std-ref">specified chunk size</span></a> a <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> instance will split the
chunk in half. This will eventually lead to migrations, when chunks
become unevenly distributed among the cluster. The <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>
instances will initiate a round of migrations to redistribute data in
the cluster.</p>
<p>Chunk size is arbitrary and must account for the following:</p>
<ol class="arabic simple">
<li>Small chunks lead to a more even distribution of data at the
expense of more frequent migrations, which creates expense at the
query routing (<a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>) layer.</li>
<li>Large chunks lead to fewer migrations, which is more efficient both
from the networking perspective <em>and</em> in terms internal overhead at
the query routing layer. Large chunks produce these efficiencies at
the expense of a potentially more uneven distribution of data.</li>
</ol>
<p>For many deployments it makes sense to avoid frequent and potentially
spurious migrations at the expense of a slightly less evenly
distributed data set, but this value is <a class="reference internal" href="../tutorial/manage-chunks-in-sharded-cluster.html#sharding-balancing-modify-chunk-size"><span class="std std-ref">configurable</span></a>. Be aware of the following limitations
when modifying chunk size:</p>
<ul class="simple">
<li>Automatic splitting only occurs when inserting <a class="reference internal" href="../reference/glossary.html#term-document"><span class="xref std std-term">documents</span></a> or updating existing documents; if you lower the chunk
size it may take time for all chunks to split to the new size.</li>
<li>Splits cannot be &ldquo;undone:&rdquo; if you increase the chunk size, existing
chunks must grow through insertion or updates until they reach the
new size.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Chunk ranges are inclusive of the lower boundary and exclusive of
the upper boundary.</p>
</div>
</div>
<div class="section" id="shard-size">
<span id="sharding-shard-size"></span><h3>Shard Size<a class="headerlink" href="#shard-size" title="Permalink to this headline">&para;</a></h3>
<p>By default, MongoDB will attempt to fill all available disk space with
data on every shard as the data set grows. Monitor disk utilization in
addition to other performance metrics, to ensure that the cluster
always has capacity to accommodate additional data.</p>
<p>You can also configure a &ldquo;maximum size&rdquo; for any shard when you add the
shard using the <code class="docutils literal"><span class="pre">maxSize</span></code> parameter of the <a class="reference internal" href="../reference/sharding-commands.html#dbcmd.addShard" title="addShard"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">addShard</span></code></a>
command. This will prevent the <a class="reference internal" href="../reference/glossary.html#term-balancer"><span class="xref std std-term">balancer</span></a> from migrating chunks
to the shard when the value of <a class="reference internal" href="../reference/server-status.html#serverStatus.mem.mapped" title="serverStatus.mem.mapped"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">mapped</span></code></a>
exceeds the <code class="docutils literal"><span class="pre">maxSize</span></code> setting.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../tutorial/configure-sharded-cluster-balancer.html#sharded-cluster-config-max-shard-size"><span class="std std-ref">Change the Maximum Storage Size for a Given Shard</span></a> and
<a class="reference internal" href="../administration/monitoring.html"><span class="doc">Monitoring Database Systems</span></a>.</p>
</div>
</div>
<div class="section" id="chunk-migration">
<span id="sharding-chunk-migration"></span><h3>Chunk Migration<a class="headerlink" href="#chunk-migration" title="Permalink to this headline">&para;</a></h3>
<p>MongoDB migrates chunks in a <a class="reference internal" href="../reference/glossary.html#term-sharded-cluster"><span class="xref std std-term">sharded cluster</span></a> to distribute data
evenly among shards. Migrations may be either:</p>
<ul class="simple">
<li>Manual. In these migrations you must specify the chunk that you want
to migrate and the destination shard. Only migrate chunks manually
after initiating sharding, to distribute data during bulk inserts,
or if the cluster becomes uneven. See <a class="reference internal" href="../tutorial/manage-chunks-in-sharded-cluster.html#sharding-balancing-manual-migration"><span class="std std-ref">Migrating Chunks</span></a> for more details.</li>
<li>Automatic. The balancer process handles most migrations when
distribution of chunks between shards becomes uneven. See
<a class="reference internal" href="#sharding-migration-thresholds"><span class="std std-ref">Migration Thresholds</span></a> for more
details.</li>
</ul>
<p>All chunk migrations use the following procedure:</p>
<ol class="arabic">
<li><p class="first">The balancer process sends the <a class="reference internal" href="../reference/command/moveChunk.html#dbcmd.moveChunk" title="moveChunk"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">moveChunk</span></code></a> command to
the source shard for the chunk. In this operation the balancer
passes the name of the destination shard to the source shard.</p>
</li>
<li><p class="first">The source initiates the move with an internal
<a class="reference internal" href="../reference/command/moveChunk.html#dbcmd.moveChunk" title="moveChunk"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">moveChunk</span></code></a> command with the destination shard.</p>
</li>
<li><p class="first">The destination shard begins requesting documents in the chunk, and
begins receiving these chunks.</p>
</li>
<li><p class="first">After receiving the final document in the chunk, the destination
shard initiates a synchronization process to ensure that all
changes to the documents in the chunk on the source shard during
the migration process exist on the destination shard.</p>
<p>When fully synchronized, the destination shard connects to the
<a class="reference internal" href="../reference/glossary.html#term-config-database"><span class="xref std std-term">config database</span></a> and updates the chunk location in the
cluster metadata. After completing this operation, once there are
no open cursors on the chunk, the source shard starts deleting
its copy of documents from the migrated chunk.</p>
</li>
</ol>
<p>If enabled, the <code class="docutils literal"><span class="pre">_secondaryThrottle</span></code> setting causes the balancer to
wait for replication to secondaries. For more information, see
<a class="reference internal" href="../tutorial/configure-sharded-cluster-balancer.html#sharded-cluster-config-secondary-throttle"><span class="std std-ref">Require Replication before Chunk Migration (Secondary Throttle)</span></a>.</p>
</div>
<div class="section" id="detect-connections-to-mongos-instances">
<h3>Detect Connections to <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> Instances<a class="headerlink" href="#detect-connections-to-mongos-instances" title="Permalink to this headline">&para;</a></h3>
<p>If your application must detect if the MongoDB instance its connected
to is <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>, use the <a class="reference internal" href="../reference/replica-commands.html#dbcmd.isMaster" title="isMaster"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></code></a> command. When a
client connects to a <a class="reference internal" href="../reference/mongos.html#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a>, <a class="reference internal" href="../reference/replica-commands.html#dbcmd.isMaster" title="isMaster"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></code></a> returns
a document with a <code class="docutils literal"><span class="pre">msg</span></code> field that holds the string
<code class="docutils literal"><span class="pre">isdbgrid</span></code>. For example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&#34;ismaster&#34;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
   <span class="s2">&#34;msg&#34;</span> <span class="o">:</span> <span class="s2">&#34;isdbgrid&#34;</span><span class="p">,</span>
   <span class="s2">&#34;maxBsonObjectSize&#34;</span> <span class="o">:</span> <span class="mi">16777216</span><span class="p">,</span>
   <span class="s2">&#34;ok&#34;</span> <span class="o">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>If the application is instead connected to a <a class="reference internal" href="../reference/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>, the
returned document does not include the <code class="docutils literal"><span class="pre">isdbgrid</span></code> string.</p>
<span class="target" id="index-12"></span></div>
</div>
<div class="section" id="config-database">
<span id="sharding-internals-config-database"></span><span id="index-13"></span><h2>Config Database<a class="headerlink" href="#config-database" title="Permalink to this headline">&para;</a></h2>
<p>The <code class="docutils literal"><span class="pre">config</span></code> database contains information about your sharding
configuration and stores the information in a set of collections
used by sharding.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Back up the <code class="docutils literal"><span class="pre">config</span></code> database before performing
any maintenance on the config server.</p>
</div>
<p>To access the <code class="docutils literal"><span class="pre">config</span></code> database, issue the following command from the
<a class="reference internal" href="../reference/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">use</span> <span class="nx">config</span>
</pre></div>
</div>
</div>
<p>In general, you should <em>never</em> manipulate the content of the config
database directly. The <code class="docutils literal"><span class="pre">config</span></code> database contains the following
collections:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/config-database.html#config.changelog" title="config.changelog"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">changelog</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.chunks" title="config.chunks"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">chunks</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.collections" title="config.collections"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">collections</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.databases" title="config.databases"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">databases</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.lockpings" title="config.lockpings"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">lockpings</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.locks" title="config.locks"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">locks</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.mongos" title="config.mongos"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">mongos</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.settings" title="config.settings"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">settings</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.shards" title="config.shards"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">shards</span></code></a></li>
<li><a class="reference internal" href="../reference/config-database.html#config.version" title="config.version"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">version</span></code></a></li>
</ul>
<p>See <a class="reference internal" href="../reference/config-database.html"><span class="doc">Config Database Contents</span></a> for full documentation of these
collections and their role in sharded clusters.</p>
</div>
<div class="section" id="sharding-gridfs-stores">
<h2>Sharding GridFS Stores<a class="headerlink" href="#sharding-gridfs-stores" title="Permalink to this headline">&para;</a></h2>
<p>When sharding a <a class="reference internal" href="../reference/glossary.html#term-gridfs"><span class="xref std std-term">GridFS</span></a> store, consider the following:</p>
<ul>
<li><p class="first">Most deployments will not need to shard the <code class="docutils literal"><span class="pre">files</span></code>
collection. The <code class="docutils literal"><span class="pre">files</span></code> collection is typically small, and only
contains metadata. None of the required keys for GridFS lend
themselves to an even distribution in a sharded situation. If you
<em>must</em> shard the <code class="docutils literal"><span class="pre">files</span></code> collection, use the <code class="docutils literal"><span class="pre">_id</span></code> field
possibly in combination with an application field</p>
<p>Leaving <code class="docutils literal"><span class="pre">files</span></code> unsharded means that all the file metadata
documents live on one shard. For production GridFS stores you <em>must</em>
store the <code class="docutils literal"><span class="pre">files</span></code> collection on a replica set.</p>
</li>
<li><p class="first">To shard the <code class="docutils literal"><span class="pre">chunks</span></code> collection by <code class="docutils literal"><span class="pre">{</span> <span class="pre">files_id</span> <span class="pre">:</span> <span class="pre">1</span> <span class="pre">,</span> <span class="pre">n</span> <span class="pre">:</span> <span class="pre">1</span> <span class="pre">}</span></code>,
issue commands similar to the following:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">fs</span><span class="p">.</span><span class="nx">chunks</span><span class="p">.</span><span class="nx">ensureIndex</span><span class="p">(</span> <span class="p">{</span> <span class="nx">files_id</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="nx">n</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">runCommand</span><span class="p">(</span> <span class="p">{</span> <span class="nx">shardCollection</span> <span class="o">:</span> <span class="s2">&#34;test.fs.chunks&#34;</span> <span class="p">,</span> <span class="nx">key</span> <span class="o">:</span> <span class="p">{</span> <span class="nx">files_id</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="nx">n</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>You may also want shard using just the <code class="docutils literal"><span class="pre">file_id</span></code> field, as in the
following operation:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">runCommand</span><span class="p">(</span> <span class="p">{</span> <span class="nx">shardCollection</span> <span class="o">:</span> <span class="s2">&#34;test.fs.chunks&#34;</span> <span class="p">,</span> <span class="nx">key</span> <span class="o">:</span> <span class="p">{</span>  <span class="nx">files_id</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2.</span></p>
</div>
<p class="last">Before 2.2, you had to create an additional index on <code class="docutils literal"><span class="pre">files_id</span></code>
to shard using <em>only</em> this field.</p>
</div>
<p>The default <code class="docutils literal"><span class="pre">files_id</span></code> value is an <a class="reference internal" href="../reference/glossary.html#term-objectid"><span class="xref std std-term">ObjectId</span></a>, as a result
the values of <code class="docutils literal"><span class="pre">files_id</span></code> are always ascending, and applications
will insert all new GridFS data to a single chunk and shard.  If
your write load is too high for a single server to handle, consider
a different shard key or use a different value for different value
for <code class="docutils literal"><span class="pre">_id</span></code> in the <code class="docutils literal"><span class="pre">files</span></code> collection.</p>
</li>
</ul>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="../administration/sharded-cluster-architectures.html" title="Previous Section: Sharded Cluster Architectures"><span>Sharded Cluster Architectures</span></a>
      <a class="btn-next-text" href="../tutorial/deploy-shard-cluster.html" title="Next Section: Deploy a Sharded Cluster"><span>Deploy a Sharded Cluster</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id="mongodb-docs-1">
   <script type="text/javascript">
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops="{&#34;links&#34;: [{&#34;url&#34;: &#34;https://www.mongodb.com/docs/manual/&#34;,&#34;text&#34;: &#34;Server&#34;,&#34;active&#34;: true},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/drivers/&#34;,&#34;text&#34;: &#34;Drivers&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/cloud/&#34;,&#34;text&#34;: &#34;Cloud&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/tools/&#34;,&#34;text&#34;: &#34;Tools&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/guides/&#34;,&#34;text&#34;: &#34;Guides&#34;}], &#34;baseUrl&#34;: &#34;https://www.mongodb.com/docs&#34;}"></div>

  

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = [];
  </script>
</body></html>