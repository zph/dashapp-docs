<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"/></head><body data-project="manual" data-project-title="MongoDB Manual" data-branch="v2.4" data-enable-marian="1" data-eol="True"><a class="dashingAutolink" name="autolink-525"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/FAQ%3A%20MongoDB%20for%20Application%20Developers%20%E2%80%94%20MongoDB%20Manual"></a><a class="dashingAutolink" name="autolink-1040"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/FAQ%3A%20MongoDB%20for%20Application%20Developers%20%E2%80%94%20MongoDB%20Manual"></a><title>FAQ: MongoDB for Application Developers &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/faq/developers/"/><meta name="robots" content="index"/>
  <meta name="release" content="2.4.14"/>
  <meta name="version" content="2.4"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/v2.4/source/faq/developers.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png"/>
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png"/>
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css"/>
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css"/>
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css"/>
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html"/>
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html"/>
<link rel="top" title="MongoDB Manual" href="../index.html"/>
<link rel="up" title="Frequently Asked Questions" href="../faq.html"/>
<link rel="next" title="FAQ: The mongo Shell" href="mongo.html"/>
<link rel="prev" title="FAQ: MongoDB Fundamentals" href="fundamentals.html"/><script type="text/javascript">
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script>

  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" style="margin-top: 0;">

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown" disabled="" aria-disabled="disabled">
          
          
          Version 2.4
        </button>
        <a href="https://www.mongodb.com/docs/legacy">&larr; Return to Documentation</a>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../core/introduction.html">Introduction</a></li><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/install-on-linux.html">Install on Linux</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-centos-or-fedora-linux.html">Install on Red Hat Enterprise Linux</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install on Ubuntu</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install on Debian</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-linux.html">Install on Other Linux Systems</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install MongoDB on OS X</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install MongoDB on Windows</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/install-mongodb-enterprise.html">Install MongoDB Enterprise</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/generate-test-data.html">Generate Test Data</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../crud.html">MongoDB CRUD Operations</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/crud-introduction.html">MongoDB CRUD Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/crud.html">MongoDB CRUD Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/read-operations.html">Read Operations</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/read-operations-introduction.html">Read Operations Overview</a></li><li class="toctree-l4"><a class="reference internal" href="../core/cursors.html">Cursors</a></li><li class="toctree-l4"><a class="reference internal" href="../core/query-optimization.html">Query Optimization</a></li><li class="toctree-l4"><a class="reference internal" href="../core/query-plans.html">Query Plans</a></li><li class="toctree-l4"><a class="reference internal" href="../core/distributed-queries.html">Distributed Queries</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/write-operations.html">Write Operations</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/write-operations-introduction.html">Write Operations Overview</a></li><li class="toctree-l4"><a class="reference internal" href="../core/write-concern.html">Write Concern</a></li><li class="toctree-l4"><a class="reference internal" href="../core/distributed-write-operations.html">Distributed Write Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../core/write-performance.html">Write Operation Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../core/bulk-inserts.html">Bulk Inserts in MongoDB</a></li><li class="toctree-l4"><a class="reference internal" href="../core/record-padding.html">Record Padding</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/crud.html">MongoDB CRUD Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/insert-documents.html">Insert Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-documents.html">Query Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/project-fields-from-query-results.html">Limit Fields to Return from a Query</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/iterate-a-cursor.html">Iterate a Cursor in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/analyze-query-plan.html">Analyze Query Performance</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/modify-documents.html">Modify Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-documents.html">Remove Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-two-phase-commits.html">Perform Two Phase Commits</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-tailable-cursor.html">Create Tailable Cursor</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/isolate-sequence-of-operations.html">Isolate Sequence of Operations</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-an-auto-incrementing-field.html">Create an Auto-Incrementing Sequence Field</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/limit-number-of-elements-in-updated-array.html">Limit Number of Elements in an Array after an Update</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/crud.html">MongoDB CRUD Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/write-concern.html">Write Concern Reference</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/bios-example-collection.html">The <code class="docutils literal"><span class="pre">bios</span></code> Example Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../applications/drivers.html">MongoDB Drivers and Client Libraries</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Models</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/data-modeling-introduction.html">Data Modeling Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/data-models.html">Data Modeling Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/data-model-design.html">Data Model Design</a></li><li class="toctree-l3"><a class="reference internal" href="../core/data-model-operations.html">Operational Factors and Data Models</a></li><li class="toctree-l3"><a class="reference internal" href="../core/gridfs.html">GridFS</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/data-models.html">Data Model Examples and Patterns</a><ul><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-relationships.html">Model Relationships Between Documents</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model One-to-One Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Document References</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-tree-structures.html">Model Tree Structures</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-applications.html">Model Specific Application Contexts</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-monetary-data.html">Model Monetary Data</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/data-models.html">Data Model Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/document.html">Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/database-references.html">Database References</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/gridfs.html">GridFS Reference</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/object-id.html">ObjectId</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/bson-types.html">BSON Types</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/administration.html">Administration Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/strategy.html">Operational Strategies</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/backups.html">MongoDB Backup Methods</a></li><li class="toctree-l4"><a class="reference internal" href="../administration/monitoring.html">Monitoring for MongoDB</a></li><li class="toctree-l4"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l4"><a class="reference internal" href="../core/import-export.html">Import and Export MongoDB Data</a></li><li class="toctree-l4"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/data-management.html">Data Management</a><ul><li class="toctree-l4"><a class="reference internal" href="../data-center-awareness.html">Data Center Awareness</a><ul><li class="toctree-l5"><a class="reference internal" href="../core/workload-isolation.html">Workload Isolation in MongoDB Deployments</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/capped-collections.html">Capped Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/optimization.html">Optimization Strategies for MongoDB</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/evaluate-operation-performance.html">Evaluate Performance of Current Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/optimize-query-performance-with-indexes-and-projections.html">Optimize Query Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../applications/design-notes.html">Design Notes</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/tutorials.html">Administration Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/maintenance.html">Configuration, Maintenance, and Analysis</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/transparent-huge-pages.html">Disable Transparent Huge Pages (THP)</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/use-database-commands.html">Use Database Commands</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Analyze Performance of Database Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/monitor-with-snmp.html">Monitor MongoDB with SNMP</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-journaling.html">Manage Journaling</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/store-javascript-function-on-server.html">Store a JavaScript Function on the Server</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/upgrade-revision.html">Upgrade to the Latest Revision of MongoDB</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial.html">MongoDB Tutorials</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/backup.html">Backup and Recovery</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-with-filesystem-snapshots.html">Backup and Restore with Filesystem Snapshots</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/restore-replica-set-from-backup.html">Restore a Replica Set from MongoDB Backups</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-with-mongodump.html">Back Up and Restore with MongoDB Tools</a></li><li class="toctree-l4"><a class="reference internal" href="../administration/backup-sharded-clusters.html">Backup and Restore Sharded Clusters</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/backup-small-sharded-cluster-with-mongodump.html">Backup a Small Sharded Cluster with <code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Backup a Sharded Cluster with Filesystem Snapshots</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Backup a Sharded Cluster with Database Dumps</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/restore-single-shard.html">Restore a Single Shard</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore a Sharded Cluster</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover Data after an Unexpected Shutdown</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/scripting.html">MongoDB Scripting</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/server-side-javascript.html">Server-side JavaScript</a></li><li class="toctree-l4"><a class="reference internal" href="../core/shell-types.html">Data Types in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/getting-started-with-the-mongo-shell.html">Getting Started with the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help Information</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/administration.html">Administration Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li><li class="toctree-l3"><a class="reference internal" href="../core/journaling.html">Journaling Mechanics</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/security-introduction.html">Security Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/security.html">Security Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/access-control.html">Access Control</a></li><li class="toctree-l3"><a class="reference internal" href="../core/inter-process-authentication.html">Inter-Process Authentication</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-security.html">Sharded Cluster Security</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-network.html">Network Exposure and Security</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-interface.html">Security and MongoDB API Interfaces</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/security.html">Security Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/security-network.html">Network Security Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-ssl.html">Connect to MongoDB with SSL</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/security-deployment.html">Security Deployment Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-replica-set-with-auth.html">Deploy Replica Set and Configure Authentication and Authorization</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/security-access-control.html">Access Control Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/enable-authentication.html">Enable Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/add-user-administrator.html">Create a User Administrator</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/add-user-to-database.html">Add a User to a Database</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-user-password.html">Change a User&rsquo;s Password</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/generate-key-file.html">Generate a Key File</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-kerberos-authentication.html">Deploy MongoDB with Kerberos Authentication</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-a-vulnerability-report.html">Create a Vulnerability Report</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/security.html">Security Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/user-privileges.html">User Privilege Roles in MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/privilege-documents.html"><code class="docutils literal"><span class="pre">system.users</span></code> Privilege Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/default-mongodb-port.html">Default MongoDB Port</a></li><li class="toctree-l3"><a class="reference internal" href="../release-notes/security.html">Security Release Notes</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/aggregation-introduction.html">Aggregation Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/aggregation.html">Aggregation Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline.html">Aggregation Pipeline</a></li><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce.html">Map-Reduce</a></li><li class="toctree-l3"><a class="reference internal" href="../core/single-purpose-aggregation.html">Single Purpose Aggregation Operations</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-mechanics.html">Aggregation Mechanics</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/aggregation-pipeline-optimization.html">Aggregation Pipeline Optimization</a></li><li class="toctree-l4"><a class="reference internal" href="../core/aggregation-pipeline-limits.html">Aggregation Pipeline Limits</a></li><li class="toctree-l4"><a class="reference internal" href="../core/aggregation-pipeline-sharded-collections.html">Aggregation Pipeline and Sharded Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../core/map-reduce-sharded-collections.html">Map-Reduce and Sharded Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../core/map-reduce-concurrency.html">Map Reduce Concurrency</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/aggregation.html">Aggregation Examples</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-zip-code-data-set.html">Aggregation with the Zip Code Data Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-with-user-preference-data.html">Aggregation with User Preference Data</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/map-reduce-examples.html">Map-Reduce Examples</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-incremental-map-reduce.html">Perform Incremental Map-Reduce</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-map-function.html">Troubleshoot the Map Function</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-reduce-function.html">Troubleshoot the Reduce Function</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-commands-comparison.html">Aggregation Commands Comparison</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/interface.html">Aggregation Interfaces</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/indexes-introduction.html">Index Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/indexes.html">Index Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/index-types.html">Index Types</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/index-single.html">Single Field Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../core/index-compound.html">Compound Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../core/index-multikey.html">Multikey Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../applications/geospatial-indexes.html">Geospatial Indexes and Queries</a><ul><li class="toctree-l5"><a class="reference internal" href="../core/2dsphere.html"><code class="docutils literal"><span class="pre">2dsphere</span></code> Indexes</a></li><li class="toctree-l5"><a class="reference internal" href="../core/2d.html"><code class="docutils literal"><span class="pre">2d</span></code> Indexes</a></li><li class="toctree-l5"><a class="reference internal" href="../core/geohaystack.html">Haystack Indexes</a></li><li class="toctree-l5"><a class="reference internal" href="../core/geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Index Internals</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/index-text.html">Text Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../core/index-hashed.html">Hashed Index</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/index-properties.html">Index Properties</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/index-ttl.html">TTL Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../core/index-unique.html">Unique Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../core/index-sparse.html">Sparse Indexes</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/index-creation.html">Index Creation</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/indexes.html">Indexing Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/indexes-creation.html">Index Creation Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-an-index.html">Create an Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-a-compound-index.html">Create a Compound Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-a-unique-index.html">Create a Unique Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-a-sparse-index.html">Create a Sparse Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-a-hashed-index.html">Create a Hashed Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/build-indexes-on-replica-sets.html">Build Indexes on Replica Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/build-indexes-in-the-background.html">Build Indexes in the Background</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/roll-back-to-v1.8-index.html">Build Old Style Indexes</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/indexes-management.html">Index Management Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/remove-indexes.html">Remove Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rebuild-indexes.html">Rebuild Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-in-progress-indexing-operations.html">Manage In-Progress Index Creation</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/list-indexes.html">Return a List of All Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/measure-index-use.html">Measure Index Use</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/indexes-geo.html">Geospatial Index Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/build-a-2dsphere-index.html">Create a <code class="docutils literal"><span class="pre">2dsphere</span></code> Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/query-a-2dsphere-index.html">Query a <code class="docutils literal"><span class="pre">2dsphere</span></code> Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/build-a-2d-index.html">Create a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/query-a-2d-index.html">Query a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/build-a-geohaystack-index.html">Create a Haystack Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/query-a-geohaystack-index.html">Query a Haystack Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/calculate-distances-using-spherical-geometry-with-2d-geospatial-indexes.html">Calculate Distance Using Spherical Geometry</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/indexes-text.html">Text Search Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/enable-text-search.html">Enable Text Search</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-text-index-on-multiple-fields.html">Create a <code class="docutils literal"><span class="pre">text</span></code> Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/search-for-text.html">Search String Content for Text</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/specify-language-for-text-index.html">Specify a Language for Text Index</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/avoid-text-index-name-limit.html">Create <code class="docutils literal"><span class="pre">text</span></code> Index with Long Name</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/control-results-of-text-search.html">Control Search Results with Weights</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/limit-number-of-items-scanned-for-text-search.html">Limit the Number of Entries Scanned</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/return-text-queries-using-only-text-index.html">Create <code class="docutils literal"><span class="pre">text</span></code> Index to Satisfy the <code class="docutils literal"><span class="pre">filter</span></code> Component of Text Search</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-indexes-to-support-queries.html">Create Indexes to Support Your Queries</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sort-results-with-indexes.html">Use Indexes to Sort Query Results</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/ensure-indexes-fit-ram.html">Ensure Indexes Fit in RAM</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-queries-that-ensure-selectivity.html">Create Queries that Ensure Selectivity</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/indexes.html">Indexing Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/replication-introduction.html">Replication Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replication.html">Replication Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-members.html">Replica Set Members</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-primary.html">Replica Set Primary</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-secondary.html">Replica Set Secondary Members</a><ul><li class="toctree-l5"><a class="reference internal" href="../core/replica-set-priority-0-member.html">Priority 0 Replica Set Members</a></li><li class="toctree-l5"><a class="reference internal" href="../core/replica-set-hidden-member.html">Hidden Replica Set Members</a></li><li class="toctree-l5"><a class="reference internal" href="../core/replica-set-delayed-member.html">Delayed Replica Set Members</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-arbiter.html">Replica Set Arbiter</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architectures.html">Replica Set Deployment Architectures</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-architecture-three-members.html">Three Member Replica Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-architecture-geographically-distributed.html">Replica Sets Distributed Across Two or More Data Centers</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-high-availability.html">Replica Set High Availability</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-elections.html">Replica Set Elections</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-rollbacks.html">Rollbacks During Replica Set Failover</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/replication.html">Replica Set Read and Write Semantics</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-write-concern.html">Write Concern for Replica Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference.html">Read Preference</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-mechanics.html">Read Preference Processes</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/replication-process.html">Replication Processes</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-oplog.html">Replica Set Oplog</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-sync.html">Replica Set Data Synchronization</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/master-slave.html">Master Slave Replication</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-sets.html">Replica Set Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/replica-set-deployment.html">Replica Set Deployment Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-replica-set-for-testing.html">Deploy a Replica Set for Testing and Development</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Redundant Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/add-replica-set-arbiter.html">Add an Arbiter to Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/remove-replica-set-member.html">Remove Members from Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/replace-replica-set-member.html">Replace a Replica Set Member</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/replica-set-member-configuration.html">Member Configuration Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/adjust-replica-set-member-priority.html">Adjust Priority for Replica Set Member</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-secondary-only-replica-set-member.html">Prevent Secondary from Becoming Primary</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-a-hidden-replica-set-member.html">Configure a Hidden Replica Set Member</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-a-delayed-replica-set-member.html">Configure a Delayed Replica Set Member</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-a-non-voting-replica-set-member.html">Configure Non-Voting Replica Set Member</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/replica-set-maintenance.html">Replica Set Maintenance Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/resync-replica-set-member.html">Resync a Member of a Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-replica-set-tag-sets.html">Configure Replica Set Tag Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-chained-replication.html">Manage Chained Replication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-replica-set-secondary-sync-target.html">Configure a Secondary&rsquo;s Sync Target</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-replica-sets.html">Troubleshoot Replica Sets</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication.html">Replication Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-states.html">Replica Set Member States</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-preference.html">Read Preference Reference</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/sharding-introduction.html">Sharding Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding.html">Sharding Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-components.html">Sharded Cluster Components</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-shards.html">Shards</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-config-servers.html">Config Servers</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-architectures.html">Sharded Cluster Architectures</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-requirements.html">Sharded Cluster Requirements</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-architectures-production.html">Production Cluster Architecture</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-architectures-test.html">Sharded Cluster Test Architecture</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-operations.html">Sharded Cluster Behavior</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/sharding-shard-key.html">Shard Keys</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-high-availability.html">Sharded Cluster High Availability</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-query-router.html">Sharded Cluster Query Routing</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-mechanics.html">Sharding Mechanics</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/sharding-balancing.html">Sharded Collection Balancing</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharding-chunk-migration.html">Chunk Migration Across Shards</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharding-chunk-splitting.html">Chunk Splits in a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharding-shard-key-indexes.html">Shard Key Indexes</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharded-cluster-metadata.html">Sharded Cluster Metadata</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-clusters.html">Sharded Cluster Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/sharded-cluster-deployment.html">Sharded Cluster Deployment Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/choose-a-shard-key.html">Considerations for Selecting Shard Keys</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/shard-collection-with-a-hashed-shard-key.html">Shard a Collection Using a Hashed Shard Key</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enable-authentication-in-sharded-cluster.html">Enable Authentication in a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-config-servers.html">Deploy Three Config Servers for Production Deployments</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Replicated Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/convert-sharded-cluster-to-replica-set.html">Convert Sharded Cluster to Replica Set</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/sharded-cluster-maintenance.html">Sharded Cluster Maintenance Tutorials</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/migrate-config-servers-with-same-hostname.html">Migrate Config Servers with the Same Hostname</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/migrate-config-servers-with-different-hostnames.html">Migrate Config Servers with Different Hostnames</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/replace-config-server.html">Replace a Config Server</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/migrate-sharded-cluster-to-new-hardware.html">Migrate a Sharded Cluster to Different Hardware</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-metadata.html">Backup Cluster Metadata</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-sharded-cluster-balancer.html">Configure Behavior of Balancer Process in Sharded Clusters</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../administration/sharded-cluster-data.html">Sharded Cluster Data Management</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-chunks-in-sharded-cluster.html">Create Chunks in a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/split-chunks-in-sharded-cluster.html">Split Chunks in a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/migrate-chunks-in-sharded-cluster.html">Migrate Chunks in a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/modify-chunk-size-in-sharded-cluster.html">Modify Chunk Size in a Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../core/tag-aware-sharding.html">Tag Aware Sharding</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/administer-shard-tags.html">Manage Shard Tags</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-unique-keys-for-sharded-collections.html">Enforce Unique Keys for Sharded Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/shard-gridfs-data.html">Shard GridFS Data Store</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-sharded-clusters.html">Troubleshoot Sharded Clusters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding.html">Sharding Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/config-database.html">Config Database</a></li></ul></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul class="current"><li class="toctree-l2"><a class="reference internal" href="fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2 current"><a class="reference internal current" href="">FAQ: MongoDB for Application Developers</a></li><li class="toctree-l2"><a class="reference internal" href="mongo.html">FAQ: The <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="replica-sets.html">FAQ: Replica Sets and Replication in MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a><ul><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query.html">Query and Projection Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-comparison.html">Comparison Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-logical.html">Logical Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-element.html">Element Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-evaluation.html">Evaluation Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-geospatial.html">Geospatial Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoWithin.html">$geoWithin</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoIntersects.html">$geoIntersects</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geometry.html">$geometry</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/uniqueDocs.html">$uniqueDocs</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-array.html">Query Operator Array</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/projection.html">Projection Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update.html">Update Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-field.html">Field Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/setOnInsert.html">$setOnInsert</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-array.html">Array Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional.html">$ (query)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pushAll.html">$pushAll</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/slice.html">$slice</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/sort.html">$sort</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-bitwise.html">Bitwise Update Operator</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-isolation.html">Isolation Update Operator</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/isolated.html">$isolated</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation.html">Aggregation Framework Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-pipeline.html">Pipeline Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/geoNear.html">$geoNear (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-group.html">Group Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-boolean.html">Boolean Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-comparison.html">Comparison Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-arithmetic.html">Arithmetic Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-string.html">String Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/concat.html">$concat (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-date.html">Date Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/millisecond.html">$millisecond (aggregation)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation-conditional.html">Conditional Aggregation Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query-modifier.html">Query Modifiers</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/comment.html">$comment</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/explain.html">$explain</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/hint.html">$hint</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/maxScan.html">$maxScan</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/max.html">$max</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/min.html">$min</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/orderby.html">$orderby</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/returnKey.html">$returnKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/showDiskLoc.html">$showDiskLoc</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/snapshot.html">$snapshot</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/query.html">$query</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-aggregation.html">Aggregation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/group.html">group</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-geospatial.html">Geospatial Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoNear.html">geoNear</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoWalk.html">geoWalk</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-crud.html">Query and Write Operation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/text.html">text</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getPrevError.html">getPrevError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/eval.html">eval</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-authentication.html">Authentication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/logout.html">logout</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/copydbgetnonce.html">copydbgetnonce</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getnonce.html">getnonce</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-replication.html">Replication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/resync.html">resync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/applyOps.html">applyOps</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isMaster.html">isMaster</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getoptime.html">getoptime</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sharding.html">Sharding Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/splitChunk.html">splitChunk</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/medianKey.html">medianKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-administration.html">Administration Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/copydb.html">copydb</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/clone.html">clone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollection.html">cloneCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/closeAllDatabases.html">closeAllDatabases</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/clean.html">clean</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolSync.html">connPoolSync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connectionStatus.html">connectionStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/repairDatabase.html">repairDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/touch.html">touch</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-diagnostic.html">Diagnostic Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbHash.html">dbHash</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/availableQueryOptions.html">availableQueryOptions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardConnPoolStats.html">shardConnPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cursorInfo.html">cursorInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/diagLogging.html">diagLogging</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/netstat.html">netstat</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/indexStats.html">indexStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hostInfo.html">hostInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/features.html">features</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isSelf.html">isSelf</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-collection.html">Collection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.copyTo.html">db.collection.copyTo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getIndexStats.html">db.collection.getIndexStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.indexStats.html">db.collection.indexStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.group.html">db.collection.group()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.save.html">db.collection.save()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-cursor.html">Cursor Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.showDiskLoc.html">cursor.showDiskLoc()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.snapshot.html">cursor.snapshot()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-database.html">Database Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.addUser.html">db.addUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.changeUserPassword.html">db.changeUserPassword()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.cloneCollection.html">db.cloneCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.cloneDatabase.html">db.cloneDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.copyDatabase.html">db.copyDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.eval.html">db.eval()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLastError.html">db.getLastError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLastErrorObj.html">db.getLastErrorObj()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getPrevError.html">db.getPrevError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingLevel.html">db.getProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hostInfo.html">db.hostInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.isMaster.html">db.isMaster()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.loadServerScripts.html">db.loadServerScripts()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.repairDatabase.html">db.repairDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-replication.html">Replication Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-sharding.html">Sharding Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerHost.html">sh.getBalancerHost()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-constructor.html">Object Constructors and Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/UUID.html">UUID()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-connection.html">Connection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefMode.html">Mongo.getReadPrefMode()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefTagSet.html">Mongo.getReadPrefTagSet()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setReadPref.html">Mongo.setReadPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-native.html">Native Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/version.html">version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sleep.html">sleep()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/fuzzFile.html">fuzzFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rand.html">rand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/setVerboseShell.html">setVerboseShell()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/srand.html">_srand()</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/program.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongo.html"><code class="docutils literal"><span class="pre">mongo</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongodump.html"><code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongorestore.html"><code class="docutils literal"><span class="pre">mongorestore</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/bsondump.html"><code class="docutils literal"><span class="pre">bsondump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongooplog.html"><code class="docutils literal"><span class="pre">mongooplog</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoimport.html"><code class="docutils literal"><span class="pre">mongoimport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoexport.html"><code class="docutils literal"><span class="pre">mongoexport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongostat.html"><code class="docutils literal"><span class="pre">mongostat</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongotop.html"><code class="docutils literal"><span class="pre">mongotop</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongosniff.html"><code class="docutils literal"><span class="pre">mongosniff</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoperf.html"><code class="docutils literal"><span class="pre">mongoperf</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongofiles.html"><code class="docutils literal"><span class="pre">mongofiles</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/parameters.html"><code class="docutils literal"><span class="pre">mongod</span></code> Parameters</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a><ul><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.4.html">Release Notes for MongoDB 2.4</a><ul><li class="toctree-l3"><a class="reference internal" href="../release-notes/2.4-changelog.html">2.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="../release-notes/2.4-javascript.html">JavaScript Changes in MongoDB 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="../release-notes/2.4-upgrade.html">Upgrade MongoDB to 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="../release-notes/2.4-index-types.html">Compatibility and Index Type Changes in MongoDB 2.4</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.2.html">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="../release-notes/drivers-write-concern.html">Default Write Concern Change</a></li></ul></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
            <div class="alert alert-warning">
              <span class="alert-message">This version of the documentation is archived and no longer supported.</span>
            </div>
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="faq/developers">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/v2.4/source/faq/developers.txt" target="_blank" title="Edit faq/developers.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../faq.html">Frequently Asked Questions</a><span class="bcpoint"> &gt; </span></li>
            <li>FAQ: MongoDB for Application Developers</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="faq-mongodb-for-application-developers">
<span id="faq-developers"></span><h1>FAQ: MongoDB for Application Developers<a class="headerlink" href="#faq-mongodb-for-application-developers" title="Permalink to this headline">&para;</a></h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#what-is-a-namespace-in-mongodb" id="id5">What is a namespace in MongoDB?</a></li>
<li><a class="reference internal" href="#how-do-you-copy-all-objects-from-one-collection-to-another" id="id6">How do you copy all objects from one collection to another?</a></li>
<li><a class="reference internal" href="#if-you-remove-a-document-does-mongodb-remove-it-from-disk" id="id7">If you remove a document, does MongoDB remove it from disk?</a></li>
<li><a class="reference internal" href="#when-does-mongodb-write-updates-to-disk" id="id8">When does MongoDB write updates to disk?</a></li>
<li><a class="reference internal" href="#how-do-i-do-transactions-and-locking-in-mongodb" id="id9">How do I do transactions and locking in MongoDB?</a></li>
<li><a class="reference internal" href="#how-do-you-aggregate-data-with-mongodb" id="id10">How do you aggregate data with MongoDB?</a></li>
<li><a class="reference internal" href="#why-does-mongodb-log-so-many-connection-accepted-events" id="id11">Why does MongoDB log so many &ldquo;Connection Accepted&rdquo; events?</a></li>
<li><a class="reference internal" href="#does-mongodb-run-on-amazon-ebs" id="id12">Does MongoDB run on Amazon EBS?</a></li>
<li><a class="reference internal" href="#why-are-mongodb-s-data-files-so-large" id="id13">Why are MongoDB&rsquo;s data files so large?</a></li>
<li><a class="reference internal" href="#how-do-i-optimize-storage-use-for-small-documents" id="id14">How do I optimize storage use for small documents?</a></li>
<li><a class="reference internal" href="#when-should-i-use-gridfs" id="id15">When should I use GridFS?</a></li>
<li><a class="reference internal" href="#how-does-mongodb-address-sql-or-query-injection" id="id16">How does MongoDB address SQL or Query injection?</a></li>
<li><a class="reference internal" href="#how-does-mongodb-provide-concurrency" id="id17">How does MongoDB provide concurrency?</a></li>
<li><a class="reference internal" href="#what-is-the-compare-order-for-bson-types" id="id18">What is the compare order for BSON types?</a></li>
<li><a class="reference internal" href="#how-do-i-query-for-fields-that-have-null-values" id="id19">How do I query for fields that have null values?</a></li>
<li><a class="reference internal" href="#are-there-any-restrictions-on-the-names-of-collections" id="id20">Are there any restrictions on the names of Collections?</a></li>
<li><a class="reference internal" href="#how-do-i-isolate-cursors-from-intervening-write-operations" id="id21">How do I isolate cursors from intervening write operations?</a></li>
<li><a class="reference internal" href="#when-should-i-embed-documents-within-other-documents" id="id22">When should I embed documents within other documents?</a></li>
<li><a class="reference internal" href="#where-can-i-learn-more-about-data-modeling-in-mongodb" id="id23">Where can I learn more about data modeling in MongoDB?</a></li>
<li><a class="reference internal" href="#can-i-manually-pad-documents-to-prevent-moves-during-updates" id="id24">Can I manually pad documents to prevent moves during updates?</a></li>
</ul>
</div>
<p>This document answers common questions about application
development using MongoDB.</p>
<p>If you don&rsquo;t find the answer you&rsquo;re looking for, check
the <a class="reference internal" href="../faq.html"><span class="doc">complete list of FAQs</span></a> or post your question to the
<a class="reference external" href="https://groups.google.com/forum/?fromgroups#!forum/mongodb-user">MongoDB User Mailing List</a>.</p>
<div class="section" id="what-is-a-namespace-in-mongodb">
<span id="faq-dev-namespace"></span><h2>What is a namespace in MongoDB?<a class="headerlink" href="#what-is-a-namespace-in-mongodb" title="Permalink to this headline">&para;</a></h2>
<p>A &ldquo;namespace&rdquo; is the concatenation of the <a class="reference internal" href="../reference/glossary.html#term-database"><span class="xref std std-term">database</span></a> name and
the <a class="reference internal" href="../reference/glossary.html#term-collection"><span class="xref std std-term">collection</span></a> names <a class="footnote-reference" href="#indexes-are-namespaces" id="id1">[1]</a> with a period
character in between.</p>
<p>Collections are containers for documents that share one or more
indexes. Databases are groups of collections stored on disk using a
single set of data files. <a class="footnote-reference" href="#ns-limit" id="id2">[2]</a></p>
<p>For an example <code class="docutils literal"><span class="pre">acme.users</span></code> namespace, <code class="docutils literal"><span class="pre">acme</span></code> is the database
name and <code class="docutils literal"><span class="pre">users</span></code> is the collection name. Period characters <strong>can</strong>
occur in collection names, so that <code class="docutils literal"><span class="pre">acme.user.history</span></code> is a
valid namespace, with <code class="docutils literal"><span class="pre">acme</span></code> as the database name, and
<code class="docutils literal"><span class="pre">user.history</span></code> as the collection name.</p>
<p>While data models like this appear to support nested collections, the
collection namespace is flat, and there is no difference from the
perspective of MongoDB between <code class="docutils literal"><span class="pre">acme</span></code>, <code class="docutils literal"><span class="pre">acme.users</span></code>, and
<code class="docutils literal"><span class="pre">acme.records</span></code>.</p>
<table class="docutils footnote" frame="void" id="indexes-are-namespaces" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Each index also has its own namespace.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="ns-limit" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>MongoDB database have a configurable limit on the
<a class="reference internal" href="../reference/limits.html#Number-of-Namespaces" title="Number of Namespaces"><code class="xref mongodb mongodb-limit docutils literal"><span class="pre">number</span> <span class="pre">of</span> <span class="pre">namespaces</span></code></a> in a database.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="how-do-you-copy-all-objects-from-one-collection-to-another">
<h2>How do you copy all objects from one collection to another?<a class="headerlink" href="#how-do-you-copy-all-objects-from-one-collection-to-another" title="Permalink to this headline">&para;</a></h2>
<p>In the <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell, you can use the following operation to
duplicate the entire collection:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">copyTo</span><span class="p">(</span><span class="nx">newCollection</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When using <a class="reference internal" href="../reference/method/db.collection.copyTo.html#db.collection.copyTo" title="db.collection.copyTo()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.copyTo()</span></code></a> check field types to
ensure that the operation does not remove type information from
documents during the translation from <a class="reference internal" href="../reference/glossary.html#term-bson"><span class="xref std std-term">BSON</span></a> to
<a class="reference internal" href="../reference/glossary.html#term-json"><span class="xref std std-term">JSON</span></a>. Consider using <a class="reference internal" href="../reference/method/db.cloneCollection.html#db.cloneCollection" title="db.cloneCollection()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">cloneCollection()</span></code></a>
to maintain type fidelity.</p>
</div>
<p>Also consider the <a class="reference internal" href="../reference/command/cloneCollection.html#dbcmd.cloneCollection" title="cloneCollection"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">cloneCollection</span></code></a> <a class="reference internal" href="../reference/glossary.html#term-database-command"><span class="xref std std-term">command</span></a> that may provide some of this functionality.</p>
</div>
<div class="section" id="if-you-remove-a-document-does-mongodb-remove-it-from-disk">
<h2>If you remove a document, does MongoDB remove it from disk?<a class="headerlink" href="#if-you-remove-a-document-does-mongodb-remove-it-from-disk" title="Permalink to this headline">&para;</a></h2>
<p>Yes.</p>
<p>When you use <a class="reference internal" href="../reference/method/db.collection.remove.html#db.collection.remove" title="db.collection.remove()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">remove()</span></code></a>, the object will no longer
exist in MongoDB&rsquo;s on-disk data storage.</p>
</div>
<div class="section" id="when-does-mongodb-write-updates-to-disk">
<h2>When does MongoDB write updates to disk?<a class="headerlink" href="#when-does-mongodb-write-updates-to-disk" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB flushes writes to disk on a regular interval. In the default
configuration, MongoDB writes data to the main data files on disk
every 60 seconds and commits the <a class="reference internal" href="../reference/glossary.html#term-journal"><span class="xref std std-term">journal</span></a> roughly every 100
milliseconds. These values are configurable with the
<a class="reference internal" href="../reference/configuration-options.html#journalCommitInterval" title="journalCommitInterval"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">journalCommitInterval</span></code></a> and <a class="reference internal" href="../reference/configuration-options.html#syncdelay" title="syncdelay"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">syncdelay</span></code></a>.</p>
<p>These values represent the <em>maximum</em> amount of time between the
completion of a write operation and the point when the write is
durable in the journal, if enabled, and when MongoDB flushes data to
the disk. In many cases MongoDB and the operating system flush data to
disk more frequently, so that the above values represents a
theoretical maximum.</p>
<p>However, by default, MongoDB uses a &ldquo;lazy&rdquo; strategy to write to
disk. This is advantageous in situations where the database receives a
thousand increments to an object within one second, MongoDB only needs
to flush this data to disk once. In addition to the aforementioned
configuration options, you can also use <a class="reference internal" href="../reference/command/fsync.html#dbcmd.fsync" title="fsync"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">fsync</span></code></a> and
<a class="reference internal" href="../reference/command/getLastError.html#dbcmd.getLastError" title="getLastError"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">getLastError</span></code></a> to modify this strategy.</p>
</div>
<div class="section" id="how-do-i-do-transactions-and-locking-in-mongodb">
<h2>How do I do transactions and locking in MongoDB?<a class="headerlink" href="#how-do-i-do-transactions-and-locking-in-mongodb" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB does not have support for traditional locking or complex
transactions with rollback. MongoDB aims to be lightweight, fast, and
predictable in its performance. This is similar to the MySQL MyISAM
autocommit model. By keeping transaction support extremely simple,
MongoDB can provide greater performance especially for
<a class="reference internal" href="../reference/glossary.html#term-partition"><span class="xref std std-term">partitioned</span></a> or <a class="reference internal" href="../reference/glossary.html#term-replication"><span class="xref std std-term">replicated</span></a>
systems with a number of database server processes.</p>
<p>MongoDB <em>does</em> have support for atomic operations <em>within</em> a single
document. Given the possibilities provided by nested documents, this
feature provides support for a large number of use-cases.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="../tutorial/isolate-sequence-of-operations.html"><span class="doc">Isolate Sequence of Operations</span></a> page.</p>
</div>
</div>
<div class="section" id="how-do-you-aggregate-data-with-mongodb">
<h2>How do you aggregate data with MongoDB?<a class="headerlink" href="#how-do-you-aggregate-data-with-mongodb" title="Permalink to this headline">&para;</a></h2>
<p>In version 2.1 and later, you can use the new <a class="reference internal" href="../core/aggregation.html"><span class="doc">aggregation
framework</span></a>, with the
<a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a> command.</p>
<p>MongoDB also supports <a class="reference internal" href="../reference/glossary.html#term-map-reduce"><span class="xref std std-term">map-reduce</span></a> with the
<a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></code></a> command, as well as basic aggregation with the
<a class="reference internal" href="../reference/command/group.html#dbcmd.group" title="group"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">group</span></code></a>, <a class="reference internal" href="../reference/command/count.html#dbcmd.count" title="count"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">count</span></code></a>, and
<a class="reference internal" href="../reference/command/distinct.html#dbcmd.distinct" title="distinct"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">distinct</span></code></a>. commands.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="../aggregation.html"><span class="doc">Aggregation</span></a> page.</p>
</div>
</div>
<div class="section" id="why-does-mongodb-log-so-many-connection-accepted-events">
<h2>Why does MongoDB log so many &ldquo;Connection Accepted&rdquo; events?<a class="headerlink" href="#why-does-mongodb-log-so-many-connection-accepted-events" title="Permalink to this headline">&para;</a></h2>
<p>If you see a very large number connection and re-connection messages
in your MongoDB log, then clients are frequently connecting and
disconnecting to the MongoDB server. This is normal behavior for
applications that do not use request pooling, such as CGI. Consider
using FastCGI, an Apache Module, or some other kind of persistent
application server to decrease the connection overhead.</p>
<p>If these connections do not impact your performance you can use the
run-time <a class="reference internal" href="../reference/configuration-options.html#quiet" title="quiet"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">quiet</span></code></a> option or the command-line option
<a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod-quiet"><code class="xref std std-option docutils literal"><span class="pre">--quiet</span></code></a> to suppress these messages from the
log.</p>
</div>
<div class="section" id="does-mongodb-run-on-amazon-ebs">
<h2>Does MongoDB run on Amazon EBS?<a class="headerlink" href="#does-mongodb-run-on-amazon-ebs" title="Permalink to this headline">&para;</a></h2>
<p>Yes.</p>
<p>MongoDB users of all sizes have had a great deal of success using
MongoDB on the EC2 platform using EBS disks.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.mongodb.com/ecosystem/platforms/amazon-ec2">Amazon EC2</a></p>
</div>
</div>
<div class="section" id="why-are-mongodb-s-data-files-so-large">
<h2>Why are MongoDB&rsquo;s data files so large?<a class="headerlink" href="#why-are-mongodb-s-data-files-so-large" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB aggressively preallocates data files to reserve space and
avoid file system fragmentation. You can use the <a class="reference internal" href="../reference/configuration-options.html#smallfiles" title="smallfiles"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">smallfiles</span></code></a>
setting to modify the file preallocation strategy.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="storage.html#faq-disk-size"><span class="std std-ref">Why are the files in my data directory larger than the data in my database?</span></a></p>
</div>
</div>
<div class="section" id="how-do-i-optimize-storage-use-for-small-documents">
<span id="faq-small-documents"></span><h2>How do I optimize storage use for small documents?<a class="headerlink" href="#how-do-i-optimize-storage-use-for-small-documents" title="Permalink to this headline">&para;</a></h2>
<p>Each MongoDB document contains a certain amount of overhead. This
overhead is normally insignificant but becomes significant if all
documents are just a few bytes, as might be the case if the documents
in your collection only have one or two fields.</p>
<p>Consider the following suggestions and strategies for optimizing
storage utilization for these collections:</p>
<ul>
<li><p class="first">Use the <code class="docutils literal"><span class="pre">_id</span></code> field explicitly.</p>
<p>MongoDB clients automatically add an <code class="docutils literal"><span class="pre">_id</span></code> field to each document
and generate a unique 12-byte <a class="reference internal" href="../reference/glossary.html#term-objectid"><span class="xref std std-term">ObjectId</span></a> for the <code class="docutils literal"><span class="pre">_id</span></code>
field. Furthermore, MongoDB always indexes the <code class="docutils literal"><span class="pre">_id</span></code> field. For
smaller documents this may account for a significant amount of
space.</p>
<p>To optimize storage use, users can specify a value for the <code class="docutils literal"><span class="pre">_id</span></code> field
explicitly when inserting documents into the collection. This
strategy allows applications to store a value in the <code class="docutils literal"><span class="pre">_id</span></code> field
that would have occupied space in another portion of the document.</p>
<p>You can store any value in the <code class="docutils literal"><span class="pre">_id</span></code> field, but because this value
serves as a primary key for documents in the collection, it must
uniquely identify them. If the field&rsquo;s value is not unique, then it
cannot serve as a primary key as there would be collisions in the
collection.</p>
</li>
<li><p class="first">Use shorter field names.</p>
<p>MongoDB stores all field names in every document. For most
documents, this represents a small fraction of the space used by a
document; however, for small documents the field names may represent
a proportionally large amount of space. Consider a collection of
documents that resemble the following:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">last_name</span> <span class="o">:</span> <span class="s2">&#34;Smith&#34;</span><span class="p">,</span> <span class="nx">best_score</span><span class="o">:</span> <span class="mf">3.9</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>If you shorten the filed named <code class="docutils literal"><span class="pre">last_name</span></code> to <code class="docutils literal"><span class="pre">lname</span></code> and the
field name <code class="docutils literal"><span class="pre">best_score</span></code> to <code class="docutils literal"><span class="pre">score</span></code>, as follows, you could save 9
bytes per document.</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">lname</span> <span class="o">:</span> <span class="s2">&#34;Smith&#34;</span><span class="p">,</span> <span class="nx">score</span> <span class="o">:</span> <span class="mf">3.9</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>Shortening field names reduces expressiveness and does not provide
considerable benefit on for larger documents and where document
overhead is not significant concern. Shorter field names do not
reduce the size of indexes, because indexes have a predefined
structure.</p>
<p>In general it is not necessary to use short field names.</p>
</li>
<li><p class="first">Embed documents.</p>
<p>In some cases you may want to embed documents in other documents
and save on the per-document overhead.</p>
</li>
</ul>
</div>
<div class="section" id="when-should-i-use-gridfs">
<span id="faq-developers-when-to-use-gridfs"></span><h2>When should I use GridFS?<a class="headerlink" href="#when-should-i-use-gridfs" title="Permalink to this headline">&para;</a></h2>
<p>For documents in a MongoDB collection, you should always use
<a class="reference internal" href="../reference/glossary.html#term-gridfs"><span class="xref std std-term">GridFS</span></a> for storing files larger than 16 MB.</p>
<p>In some situations, storing large files may be more efficient in a
MongoDB database than on a system-level filesystem.</p>
<ul class="simple">
<li>If your filesystem limits the number of files in a directory, you can
use GridFS to store as many files as needed.</li>
<li>When you want to keep your files and metadata automatically synced
and deployed across a number of systems and facilities.  When using
<a class="reference internal" href="../core/replica-set-architecture-geographically-distributed.html#replica-set-geographical-distribution"><span class="std std-ref">geographically distributed replica sets</span></a> MongoDB can distribute
files and their metadata automatically to a number of
<a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instances and facilities.</li>
<li>When you want to access information from portions of large
files without having to load whole files into memory, you can use
GridFS to recall sections of files without reading the entire file
into memory.</li>
</ul>
<p>Do not use GridFS if you need to update the content of the entire file
atomically. As an alternative you can store multiple versions of each
file and specify the current version of the file in the metadata. You
can update the metadata field that indicates &ldquo;latest&rdquo; status in an
atomic update after uploading the new version of the file, and later
remove previous versions if needed.</p>
<p>Furthermore, if your files are all smaller the 16 MB
<a class="reference internal" href="../reference/limits.html#BSON-Document-Size" title="BSON Document Size"><code class="xref mongodb mongodb-limit docutils literal"><span class="pre">BSON</span> <span class="pre">Document</span> <span class="pre">Size</span></code></a> limit, consider storing the file manually
within a single document. You may use the BinData data type to store
the binary data. See your <a class="reference internal" href="../applications/drivers.html"><span class="doc">drivers</span></a>
documentation for details on using BinData.</p>
<p>For more information on GridFS, see <a class="reference internal" href="../core/gridfs.html"><span class="doc">GridFS</span></a>.</p>
</div>
<div class="section" id="how-does-mongodb-address-sql-or-query-injection">
<h2>How does MongoDB address SQL or Query injection?<a class="headerlink" href="#how-does-mongodb-address-sql-or-query-injection" title="Permalink to this headline">&para;</a></h2>
<div class="section" id="bson">
<h3>BSON<a class="headerlink" href="#bson" title="Permalink to this headline">&para;</a></h3>
<p>As a client program assembles a query in MongoDB, it builds a BSON
object, not a string. Thus traditional SQL injection attacks are not a
problem. More details and some nuances are covered below.</p>
<p>MongoDB represents queries as <a class="reference internal" href="../reference/glossary.html#term-bson"><span class="xref std std-term">BSON</span></a> objects. Typically
<a class="reference internal" href="../applications/drivers.html"><span class="doc">client libraries</span></a> provide a convenient,
injection free, process to build these objects. Consider the following
C++ example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-cpp"><div class="highlight"><pre><span></span><span class="n">BSONObj</span> <span class="n">my_query</span> <span class="o">=</span> <span class="n">BSON</span><span class="p">(</span> <span class="s">&#34;name&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">a_name</span> <span class="p">);</span>
<span class="n">auto_ptr</span><span class="o">&lt;</span><span class="n">DBClientCursor</span><span class="o">&gt;</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">c</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#34;tutorial.persons&#34;</span><span class="p">,</span> <span class="n">my_query</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">my_query</span></code> then will have a value such as <code class="docutils literal"><span class="pre">{</span> <span class="pre">name</span> <span class="pre">:</span> <span class="pre">&#34;Joe&#34;</span>
<span class="pre">}</span></code>. If <code class="docutils literal"><span class="pre">my_query</span></code> contained special characters, for example
<code class="docutils literal"><span class="pre">,</span></code>, <code class="docutils literal"><span class="pre">:</span></code>, and <code class="docutils literal"><span class="pre">{</span></code>, the query simply wouldn&rsquo;t match any
documents. For example, users cannot hijack a query and convert it to
a delete.</p>
</div>
<div class="section" id="javascript">
<h3>JavaScript<a class="headerlink" href="#javascript" title="Permalink to this headline">&para;</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can disable all server-side execution of JavaScript, by passing
the <a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod-noscripting"><code class="xref std std-option docutils literal"><span class="pre">--noscripting</span></code></a> option on the
command line or setting <a class="reference internal" href="../reference/configuration-options.html#noscripting" title="noscripting"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">noscripting</span></code></a> in a configuration
file.</p>
</div>
<p>All of the following MongoDB operations permit you to run arbitrary JavaScript
expressions directly on the server:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/operator/query/where.html#op._S_where" title="$where"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$where</span></code></a></li>
<li><a class="reference internal" href="../reference/method/db.eval.html#db.eval" title="db.eval()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.eval()</span></code></a></li>
<li><a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></code></a></li>
<li><a class="reference internal" href="../reference/command/group.html#dbcmd.group" title="group"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">group</span></code></a></li>
</ul>
<p>You must exercise care in these cases to prevent users from
submitting malicious JavaScript.</p>
<p>Fortunately, you can express most queries in MongoDB without
JavaScript and for queries that require JavaScript, you can mix
JavaScript and non-JavaScript in a single query. Place all the
user-supplied fields directly in a <a class="reference internal" href="../reference/glossary.html#term-bson"><span class="xref std std-term">BSON</span></a> field and pass
JavaScript code to the <a class="reference internal" href="../reference/operator/query/where.html#op._S_where" title="$where"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$where</span></code></a> field.</p>
<ul>
<li><p class="first">If you need to pass user-supplied values in a <a class="reference internal" href="../reference/operator/query/where.html#op._S_where" title="$where"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$where</span></code></a>
clause, you may escape these values with the <code class="docutils literal"><span class="pre">CodeWScope</span></code>
mechanism. When you set user-submitted values as variables in the
scope document,  you can avoid evaluating them on the database
server.</p>
</li>
<li><p class="first">If you need to use <a class="reference internal" href="../reference/method/db.eval.html#db.eval" title="db.eval()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.eval()</span></code></a> with user supplied values, you can
either use a <code class="docutils literal"><span class="pre">CodeWScope</span></code> or you can supply extra arguments to your
function. For instance:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>db.eval<span class="o">(</span><span class="k">function</span><span class="o">(</span>userVal<span class="o">){</span>...<span class="o">}</span>,
        user_value<span class="o">)</span><span class="p">;</span>
</pre></div>
</div>
</div>
<p>This will ensure that your application sends <code class="docutils literal"><span class="pre">user_value</span></code> to the
database server as data rather than code.</p>
</li>
</ul>
</div>
<div class="section" id="dollar-sign-operator-escaping">
<span id="faq-dollar-sign-escaping"></span><h3>Dollar Sign Operator Escaping<a class="headerlink" href="#dollar-sign-operator-escaping" title="Permalink to this headline">&para;</a></h3>
<p>Field names in MongoDB&rsquo;s query language have semantic meaning. The
dollar sign (i.e <code class="docutils literal"><span class="pre">$</span></code>) is a reserved character used to represent
<a class="reference internal" href="../reference/operator.html"><span class="doc">operators</span></a> (i.e. <a class="reference internal" href="../reference/operator/update/inc.html#up._S_inc" title="$inc"><code class="xref mongodb mongodb-update docutils literal"><span class="pre">$inc</span></code></a>.) Thus,
you should ensure that your application&rsquo;s users cannot inject operators
into their inputs.</p>
<p>In some cases, you may wish to build a BSON object with a
user-provided key.  In these situations, keys will need to substitute
the reserved <code class="docutils literal"><span class="pre">$</span></code> and <code class="docutils literal"><span class="pre">.</span></code> characters. Any character is sufficient,
but consider using the Unicode full width equivalents: <code class="docutils literal"><span class="pre">U+FF04</span></code>
(i.e. &ldquo;&rdquo;) and <code class="docutils literal"><span class="pre">U+FF0E</span></code> (i.e. &ldquo;&rdquo;).</p>
<p>Consider the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-cpp"><div class="highlight"><pre><span></span><span class="n">BSONObj</span> <span class="n">my_object</span> <span class="o">=</span> <span class="n">BSON</span><span class="p">(</span> <span class="n">a_key</span> <span class="o">&lt;&lt;</span> <span class="n">a_name</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<p>The user may have supplied a <code class="docutils literal"><span class="pre">$</span></code> value in the <code class="docutils literal"><span class="pre">a_key</span></code> value. At
the same time, <code class="docutils literal"><span class="pre">my_object</span></code> might be <code class="docutils literal"><span class="pre">{</span> <span class="pre">$where</span> <span class="pre">:</span> <span class="pre">&#34;things&#34;</span>
<span class="pre">}</span></code>. Consider the following cases:</p>
<ul>
<li><p class="first"><strong>Insert</strong>. Inserting this into the database does no harm. The
insert process does not evaluate the object as a query.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">MongoDB client drivers, if properly implemented, check for
reserved characters in keys on inserts.</p>
</div>
</li>
<li><p class="first"><strong>Update</strong>.  The <a class="reference internal" href="../reference/method/db.collection.update.html#db.collection.update" title="db.collection.update()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">update()</span></code></a> operation permits <code class="docutils literal"><span class="pre">$</span></code> operators
in the update argument but does not support the
<a class="reference internal" href="../reference/operator/query/where.html#op._S_where" title="$where"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$where</span></code></a> operator. Still, some users
may be able to inject operators that can manipulate a single
document only. Therefore your application should escape keys, as
mentioned above, if reserved characters are possible.</p>
</li>
<li><p class="first"><strong>Query</strong> Generally this is not a problem for queries that
resemble <code class="docutils literal"><span class="pre">{</span> <span class="pre">x</span> <span class="pre">:</span> <span class="pre">user_obj</span> <span class="pre">}</span></code>: dollar signs are not top level and
have no effect. Theoretically it may be possible for the user to
build a query themselves. But checking the user-submitted content for
<code class="docutils literal"><span class="pre">$</span></code> characters in key names may help protect against this kind
of injection.</p>
</li>
</ul>
</div>
<div class="section" id="driver-specific-issues">
<h3>Driver-Specific Issues<a class="headerlink" href="#driver-specific-issues" title="Permalink to this headline">&para;</a></h3>
<p>See the &ldquo;<a class="reference external" href="http://us.php.net/manual/en/mongo.security.php">PHP MongoDB Driver Security Notes</a>&rdquo; page in the PHP
driver documentation for more information</p>
</div>
</div>
<div class="section" id="how-does-mongodb-provide-concurrency">
<span id="faq-dev-concurrency"></span><h2>How does MongoDB provide concurrency?<a class="headerlink" href="#how-does-mongodb-provide-concurrency" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB implements a readers-writer lock. This means that
at any one time, only one client may be writing or any number
of clients may be reading, but that reading and writing cannot
occur simultaneously.</p>
<p>In standalone and <a class="reference internal" href="../reference/glossary.html#term-replica-set"><span class="xref std std-term">replica sets</span></a> the lock&rsquo;s scope
applies to a single <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance or <a class="reference internal" href="../reference/glossary.html#term-primary"><span class="xref std std-term">primary</span></a>
instance. In a sharded cluster, locks apply to each individual shard,
not to the whole cluster.</p>
<p>For more information, see <a class="reference internal" href="concurrency.html"><span class="doc">FAQ: Concurrency</span></a>.</p>
</div>
<div class="section" id="what-is-the-compare-order-for-bson-types">
<span id="faq-dev-compare-order-for-bson-types"></span><h2>What is the compare order for BSON types?<a class="headerlink" href="#what-is-the-compare-order-for-bson-types" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB permits documents within a single collection to
have fields with different <a class="reference internal" href="../reference/glossary.html#term-bson"><span class="xref std std-term">BSON</span></a> types. For instance,
the following documents may exist within a single collection.</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">&#34;string&#34;</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">42</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>When comparing values of different <a class="reference internal" href="../reference/glossary.html#term-bson"><span class="xref std std-term">BSON</span></a> types, MongoDB uses
the following comparison order, from lowest to highest:</p>
<ol class="arabic simple">
<li>MinKey (internal type)</li>
<li>Null</li>
<li>Numbers (ints, longs, doubles)</li>
<li>Symbol, String</li>
<li>Object</li>
<li>Array</li>
<li>BinData</li>
<li>ObjectId</li>
<li>Boolean</li>
<li>Date, Timestamp</li>
<li>Regular Expression</li>
<li>MaxKey (internal type)</li>
</ol>
<p>MongoDB treats some types as equivalent for comparison purposes. For
instance, numeric types undergo conversion before comparison.</p>
<p>The comparison treats a non-existent field as it would an empty BSON
Object. As such, a sort on the <code class="docutils literal"><span class="pre">a</span></code> field in documents <code class="docutils literal"><span class="pre">{</span> <span class="pre">}</span></code> and <code class="docutils literal"><span class="pre">{</span>
<span class="pre">a:</span> <span class="pre">null</span> <span class="pre">}</span></code> would treat the documents as equivalent in sort order.</p>
<p>With arrays, a less-than comparison or an ascending sort compares the
smallest element of arrays, and a greater-than comparison or a
descending sort compares the largest element of the arrays. As such,
when comparing a field whose value is a single-element array (e.g. <code class="docutils literal"><span class="pre">[</span>
<span class="pre">1</span> <span class="pre">]</span></code>) with non-array fields (e.g. <code class="docutils literal"><span class="pre">2</span></code>), the comparison is between
<code class="docutils literal"><span class="pre">1</span></code> and <code class="docutils literal"><span class="pre">2</span></code>. A comparison of an empty array (e.g. <code class="docutils literal"><span class="pre">[</span> <span class="pre">]</span></code>) treats
the empty array as less than <code class="docutils literal"><span class="pre">null</span></code> or a missing field.</p>
<p>Consider the following <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span> <span class="p">{</span><span class="nx">x</span> <span class="o">:</span> <span class="mi">3</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span> <span class="p">{</span><span class="nx">x</span> <span class="o">:</span> <span class="mf">2.9</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span> <span class="p">{</span><span class="nx">x</span> <span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">}</span> <span class="p">);</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span> <span class="p">{</span><span class="nx">x</span> <span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">);</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">sort</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="mi">1</span><span class="p">});</span>
<span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&#34;4b03155dce8de6586fb002c7&#34;</span><span class="p">),</span> <span class="s2">&#34;x&#34;</span> <span class="o">:</span> <span class="mf">2.9</span> <span class="p">}</span>
<span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&#34;4b03154cce8de6586fb002c6&#34;</span><span class="p">),</span> <span class="s2">&#34;x&#34;</span> <span class="o">:</span> <span class="mi">3</span> <span class="p">}</span>
<span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&#34;4b031566ce8de6586fb002c9&#34;</span><span class="p">),</span> <span class="s2">&#34;x&#34;</span> <span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
<span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&#34;4b031563ce8de6586fb002c8&#34;</span><span class="p">),</span> <span class="s2">&#34;x&#34;</span> <span class="o">:</span> <span class="s2">&#34;Tue Nov 17 2009 16:28:03 GMT-0500 (EST)&#34;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<p>The <a class="reference internal" href="../reference/operator/query/type.html#op._S_type" title="$type"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$type</span></code></a> operator provides access to <a class="reference internal" href="../reference/glossary.html#term-bson-types"><span class="xref std std-term">BSON type</span></a> comparison in the MongoDB query syntax. See the
documentation on <a class="reference internal" href="../reference/glossary.html#term-bson-types"><span class="xref std std-term">BSON types</span></a> and the <a class="reference internal" href="../reference/operator/query/type.html#op._S_type" title="$type"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$type</span></code></a> operator
for additional information.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Storing values of the different types in the same field in a
collection is <em>strongly</em> discouraged.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>The <a class="reference internal" href="../tutorial/create-tailable-cursor.html"><span class="doc">Tailable Cursors</span></a>
page for an example of a C++ use of <code class="docutils literal"><span class="pre">MinKey</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="how-do-i-query-for-fields-that-have-null-values">
<span id="faq-developers-query-for-nulls"></span><h2>How do I query for fields that have null values?<a class="headerlink" href="#how-do-i-query-for-fields-that-have-null-values" title="Permalink to this headline">&para;</a></h2>
<p>Different query operators treat <code class="docutils literal"><span class="pre">null</span></code> values differently.</p>
<p>Consider the collection <code class="docutils literal"><span class="pre">test</span></code> with the following documents:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">cancelDate</span><span class="o">:</span> <span class="kc">null</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="comparison-with-null">
<span id="faq-comparison-with-null"></span><h3>Comparison with Null<a class="headerlink" href="#comparison-with-null" title="Permalink to this headline">&para;</a></h3>
<p>The <code class="docutils literal"><span class="pre">{</span> <span class="pre">cancelDate</span> <span class="pre">:</span> <span class="pre">null</span> <span class="pre">}</span></code> query matches documents that either
contain the <code class="docutils literal"><span class="pre">cancelDate</span></code> field whose value is <code class="docutils literal"><span class="pre">null</span></code> <em>or</em> that
do not contain the <code class="docutils literal"><span class="pre">cancelDate</span></code> field. If the queried index is
<a class="reference internal" href="../core/index-sparse.html#index-type-sparse"><span class="std std-ref">sparse</span></a>, however, then the query will only match
<code class="docutils literal"><span class="pre">null</span></code> values, not missing fields.</p>
<p>Given the following query:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">cancelDate</span><span class="o">:</span> <span class="kc">null</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The query returns both documents:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;cancelDate&#34;</span> <span class="o">:</span> <span class="kc">null</span> <span class="p">}</span>
<span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="mi">2</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="type-check">
<h3>Type Check<a class="headerlink" href="#type-check" title="Permalink to this headline">&para;</a></h3>
<p>The <code class="docutils literal"><span class="pre">{</span> <span class="pre">cancelDate</span> <span class="pre">:</span> <span class="pre">{</span> <span class="pre">$type:</span> <span class="pre">10</span> <span class="pre">}</span> <span class="pre">}</span></code> query matches documents that
contains the <code class="docutils literal"><span class="pre">cancelDate</span></code> field whose value is <code class="docutils literal"><span class="pre">null</span></code> <em>only</em>;
i.e. the value of the <code class="docutils literal"><span class="pre">cancelDate</span></code> field is of BSON Type <code class="docutils literal"><span class="pre">Null</span></code>
(i.e. <code class="docutils literal"><span class="pre">10</span></code>) :</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">cancelDate</span> <span class="o">:</span> <span class="p">{</span> <span class="nx">$type</span><span class="o">:</span> <span class="mi">10</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The query returns only the document that contains the <code class="docutils literal"><span class="pre">null</span></code> value:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;cancelDate&#34;</span> <span class="o">:</span> <span class="kc">null</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="existence-check">
<h3>Existence Check<a class="headerlink" href="#existence-check" title="Permalink to this headline">&para;</a></h3>
<p>The <code class="docutils literal"><span class="pre">{</span> <span class="pre">cancelDate</span> <span class="pre">:</span> <span class="pre">{</span> <span class="pre">$exists:</span> <span class="pre">false</span> <span class="pre">}</span> <span class="pre">}</span></code> query matches documents
that do not contain the <code class="docutils literal"><span class="pre">cancelDate</span></code> field:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="p">{</span> <span class="nx">cancelDate</span> <span class="o">:</span> <span class="p">{</span> <span class="nx">$exists</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The query returns only the document that does <em>not</em> contain the
<code class="docutils literal"><span class="pre">cancelDate</span></code> field:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&#34;_id&#34;</span> <span class="o">:</span> <span class="mi">2</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The reference documentation for the <a class="reference internal" href="../reference/operator/query/type.html#op._S_type" title="$type"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$type</span></code></a> and
<a class="reference internal" href="../reference/operator/query/exists.html#op._S_exists" title="$exists"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$exists</span></code></a> operators.</p>
</div>
</div>
</div>
<div class="section" id="are-there-any-restrictions-on-the-names-of-collections">
<span id="faq-restrictions-on-collection-names"></span><h2>Are there any restrictions on the names of Collections?<a class="headerlink" href="#are-there-any-restrictions-on-the-names-of-collections" title="Permalink to this headline">&para;</a></h2>
<p>Collection names can be any UTF-8 string with the following
exceptions:</p>
<ul class="simple">
<li>A collection name should begin with a letter or an underscore.</li>
<li>The empty string (<code class="docutils literal"><span class="pre">&#34;&#34;</span></code>) is not a valid collection name.</li>
<li>Collection names cannot contain the <code class="docutils literal"><span class="pre">$</span></code> character. (version 2.2 only)</li>
<li>Collection names cannot contain the null character: <code class="docutils literal"><span class="pre">\0</span></code></li>
<li>Do not name a collection using the <code class="docutils literal"><span class="pre">system.</span></code> prefix. MongoDB
reserves <code class="docutils literal"><span class="pre">system.</span></code>
for system collections, such as the
<code class="docutils literal"><span class="pre">system.indexes</span></code> collection.</li>
<li>The maximum size of a collection name is 128 characters, including
the name of the database. However, for maximum flexibility,
collections should have names less than 80 characters.</li>
</ul>
<p>If your collection name includes special characters, such as the
underscore character, then to access the collection use the
<a class="reference internal" href="../reference/method/db.getCollection.html#db.getCollection" title="db.getCollection()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.getCollection()</span></code></a> method or a <a class="reference external" href="https://api.mongodb.com/">similar method for your
driver</a>.</p>
<div class="admonition-example admonition">
<p class="first admonition-title">Example</p>
<p>To create a collection <code class="docutils literal"><span class="pre">_foo</span></code> and insert the
<code class="docutils literal"><span class="pre">{</span> <span class="pre">a</span> <span class="pre">:</span> <span class="pre">1</span> <span class="pre">}</span></code> document, use the following operation:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">getCollection</span><span class="p">(</span><span class="s2">&#34;_foo&#34;</span><span class="p">).</span><span class="nx">insert</span><span class="p">(</span> <span class="p">{</span> <span class="nx">a</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<p>To perform a query, use the <a class="reference internal" href="../reference/method/db.collection.find.html#db.collection.find" title="db.collection.find()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">find()</span></code></a>
method, in as the following:</p>
<div class="last button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">getCollection</span><span class="p">(</span><span class="s2">&#34;_foo&#34;</span><span class="p">).</span><span class="nx">find</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="how-do-i-isolate-cursors-from-intervening-write-operations">
<span id="faq-developers-isolate-cursors"></span><h2>How do I isolate cursors from intervening write operations?<a class="headerlink" href="#how-do-i-isolate-cursors-from-intervening-write-operations" title="Permalink to this headline">&para;</a></h2>
<p>MongoDB cursors can return the same document more than once in some
situations. <a class="footnote-reference" href="#duplicate-document-in-result-set" id="id3">[3]</a> You can use the
<a class="reference internal" href="../reference/method/cursor.snapshot.html#cursor.snapshot" title="cursor.snapshot()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">snapshot()</span></code></a> method on a cursor to isolate
the operation for a very specific case.</p>
<p><a class="reference internal" href="../reference/method/cursor.snapshot.html#cursor.snapshot" title="cursor.snapshot()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">snapshot()</span></code></a> traverses the index on the <code class="docutils literal"><span class="pre">_id</span></code> field
and guarantees that the query will return each document (with respect to
the value of the <code class="docutils literal"><span class="pre">_id</span></code> field) no more than once. <a class="footnote-reference" href="#id-is-immutable" id="id4">[4]</a></p>
<p>The <a class="reference internal" href="../reference/method/cursor.snapshot.html#cursor.snapshot" title="cursor.snapshot()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">snapshot()</span></code></a> does not guarantee that the data
returned by the query will reflect a single moment in time <em>nor</em> does it
provide isolation from insert or delete operations.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<ul class="last simple">
<li>You <strong>cannot</strong> use <a class="reference internal" href="../reference/method/cursor.snapshot.html#cursor.snapshot" title="cursor.snapshot()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">snapshot()</span></code></a> with
<a class="reference internal" href="../reference/glossary.html#term-sharding"><span class="xref std std-term">sharded collections</span></a>.</li>
<li>You <strong>cannot</strong> use <a class="reference internal" href="../reference/method/cursor.snapshot.html#cursor.snapshot" title="cursor.snapshot()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">snapshot()</span></code></a> with
<a class="reference internal" href="../reference/method/cursor.sort.html#cursor.sort" title="cursor.sort()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">sort()</span></code></a> or <a class="reference internal" href="../reference/method/cursor.hint.html#cursor.hint" title="cursor.hint()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">hint()</span></code></a> cursor methods.</li>
</ul>
</div>
<p>As an alternative, if your collection has a field or fields that are
never modified, you can use a <em>unique</em> index on this field or these
fields to achieve a similar result as the <a class="reference internal" href="../reference/method/cursor.snapshot.html#cursor.snapshot" title="cursor.snapshot()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">snapshot()</span></code></a>.
Query with <a class="reference internal" href="../reference/method/cursor.hint.html#cursor.hint" title="cursor.hint()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">hint()</span></code></a> to explicitly force the query to use
that index.</p>
<table class="docutils footnote" frame="void" id="duplicate-document-in-result-set" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>As a cursor returns documents other
operations may interleave with the query: if some of these
operations are <a class="reference internal" href="../core/write-operations.html"><span class="doc">updates</span></a> that cause the
document to move (in the case of a table scan, caused by document
growth) or that change the indexed field on the index used by the
query; then the cursor will return the same document more than
once.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id-is-immutable" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>MongoDB does not permit changes to the value of the
<code class="docutils literal"><span class="pre">_id</span></code> field; it is not possible for a cursor that transverses
this index to pass the same document more than once.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="when-should-i-embed-documents-within-other-documents">
<span id="faq-developers-embed-documents"></span><h2>When should I embed documents within other documents?<a class="headerlink" href="#when-should-i-embed-documents-within-other-documents" title="Permalink to this headline">&para;</a></h2>
<p>When <a class="reference internal" href="../core/data-models.html"><span class="doc">modeling data in MongoDB</span></a>, embedding
is frequently the choice for:</p>
<ul class="simple">
<li>&ldquo;contains&rdquo; relationships between entities.</li>
<li>one-to-many relationships when the &ldquo;many&rdquo; objects <em>always</em> appear
with or are viewed in the context of their parents.</li>
</ul>
<p>You should also consider embedding for performance reasons if you have
a collection with a large number of small documents. Nevertheless, if
small, separate documents represent the natural model for the data,
then you should maintain that model.</p>
<p>If, however, you can group these small documents by some logical
relationship <em>and</em> you frequently retrieve the documents by this
grouping, you might consider &ldquo;rolling-up&rdquo; the small documents into
larger documents that contain an array of subdocuments. Keep in mind
that if you often only need to retrieve a subset of the documents
within the group, then &ldquo;rolling-up&rdquo; the documents may not provide
better performance.</p>
<p>&ldquo;Rolling up&rdquo; these small documents into logical groupings means that queries to
retrieve a group of documents involve sequential reads and fewer random disk
accesses.</p>
<p>Additionally, &ldquo;rolling up&rdquo; documents and moving common fields to the
larger document benefit the index on these fields. There would be fewer
copies of the common fields <em>and</em> there would be fewer associated key
entries in the corresponding index. See <a class="reference internal" href="../core/indexes.html"><span class="doc">Index Concepts</span></a> for more
information on indexes.</p>
</div>
<div class="section" id="where-can-i-learn-more-about-data-modeling-in-mongodb">
<h2>Where can I learn more about data modeling in MongoDB?<a class="headerlink" href="#where-can-i-learn-more-about-data-modeling-in-mongodb" title="Permalink to this headline">&para;</a></h2>
<p>Begin by reading the documents in the <a class="reference internal" href="../data-modeling.html"><span class="doc">Data Models</span></a>
section. These documents contain a high level introduction to data
modeling considerations in addition to practical examples of data
models targeted at particular issues.</p>
<p>Additionally, consider the following external resources that provide
additional examples:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.10gen.com/presentations/mongodb-melbourne-2012/schema-design-example">Schema Design by Example</a></li>
<li><a class="reference external" href="http://dmerr.tumblr.com/post/6633338010/schemaless">Dynamic Schema Blog Post</a></li>
<li><a class="reference external" href="https://docs.mongodb.com/ecosystem/tutorial/model-data-for-ruby-on-rails/">MongoDB Data Modeling and Rails</a></li>
<li><a class="reference external" href="http://github.com/banker/newsmonger/blob/master/app/models/comment.rb">Ruby Example of Materialized Paths</a></li>
<li><a class="reference external" href="http://seancribbs.com/tech/2009/09/28/modeling-a-tree-in-a-document-database">Sean Cribs Blog Post</a>
which was the source for much of the <a class="reference internal" href="../tutorial/model-tree-structures.html#data-modeling-trees"><span class="std std-ref">Model Tree Structures in MongoDB</span></a>
content.</li>
</ul>
</div>
<div class="section" id="can-i-manually-pad-documents-to-prevent-moves-during-updates">
<span id="faq-developers-manual-padding"></span><h2>Can I manually pad documents to prevent moves during updates?<a class="headerlink" href="#can-i-manually-pad-documents-to-prevent-moves-during-updates" title="Permalink to this headline">&para;</a></h2>
<p>An update can cause a document to move on disk if the document grows in
size. To <em>minimize</em> document movements, MongoDB uses
<a class="reference internal" href="../core/record-padding.html#write-operations-padding-factor"><span class="std std-ref">padding</span></a>.</p>
<p>You should not have to pad manually because MongoDB adds
<a class="reference internal" href="../core/record-padding.html#write-operations-padding-factor"><span class="std std-ref">padding automatically</span></a> and can
adaptively adjust the amount of padding added to documents to prevent
document relocations following updates.
You can change the default <a class="reference internal" href="../reference/command/collStats.html#collStats.paddingFactor" title="collStats.paddingFactor"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">paddingFactor</span></code></a>
calculation by using the <a class="reference internal" href="../reference/command/collMod.html#dbcmd.collMod" title="collMod"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">collMod</span></code></a> command with the
<a class="reference internal" href="../reference/command/collMod.html#usePowerOf2Sizes" title="usePowerOf2Sizes"><code class="xref mongodb mongodb-collflag docutils literal"><span class="pre">usePowerOf2Sizes</span></code></a> flag. The <a class="reference internal" href="../reference/command/collMod.html#usePowerOf2Sizes" title="usePowerOf2Sizes"><code class="xref mongodb mongodb-collflag docutils literal"><span class="pre">usePowerOf2Sizes</span></code></a>
flag ensures that MongoDB allocates document space in sizes that are
powers of 2, which helps ensure that MongoDB can efficiently reuse
free space created by document deletion or relocation.</p>
<p>However, <em>if you must</em> pad a document manually, you can add a
temporary field to the document and then <a class="reference internal" href="../reference/operator/update/unset.html#up._S_unset" title="$unset"><code class="xref mongodb mongodb-update docutils literal"><span class="pre">$unset</span></code></a> the field,
as in the following example.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not manually pad documents in a capped
collection. Applying manual padding to a document in a capped
collection can break replication. Also, the padding is not
preserved if you re-sync the MongoDB instance.</p>
</div>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myTempPadding</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&#34;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&#34;</span><span class="p">,</span>
                      <span class="s2">&#34;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&#34;</span><span class="p">,</span>
                      <span class="s2">&#34;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&#34;</span><span class="p">,</span>
                      <span class="s2">&#34;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&#34;</span><span class="p">];</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">myCollection</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">paddingField</span><span class="o">:</span> <span class="nx">myTempPadding</span> <span class="p">}</span> <span class="p">);</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">myCollection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">5</span> <span class="p">},</span>
                        <span class="p">{</span> <span class="nx">$unset</span><span class="o">:</span> <span class="p">{</span> <span class="nx">paddingField</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">}</span> <span class="p">}</span>
                      <span class="p">)</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">myCollection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">5</span> <span class="p">},</span>
                        <span class="p">{</span> <span class="nx">$set</span><span class="o">:</span> <span class="p">{</span> <span class="nx">realField</span><span class="o">:</span> <span class="s2">&#34;Some text that I might have needed padding for&#34;</span> <span class="p">}</span> <span class="p">}</span>
                      <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../core/record-padding.html#write-operations-padding-factor"><span class="std std-ref">Padding Factor</span></a></p>
</div>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="fundamentals.html" title="Previous Section: FAQ: MongoDB Fundamentals"><span>FAQ: MongoDB Fundamentals</span></a>
      <a class="btn-next-text" href="mongo.html" title="Next Section: FAQ: The mongo Shell"><span>FAQ: The mongo Shell</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id="mongodb-docs-1">
   <script type="text/javascript">
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops="{&#34;links&#34;: [{&#34;url&#34;: &#34;https://www.mongodb.com/docs/manual/&#34;,&#34;text&#34;: &#34;Server&#34;,&#34;active&#34;: true},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/drivers/&#34;,&#34;text&#34;: &#34;Drivers&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/cloud/&#34;,&#34;text&#34;: &#34;Cloud&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/tools/&#34;,&#34;text&#34;: &#34;Tools&#34;},{&#34;url&#34;: &#34;https://www.mongodb.com/docs/guides/&#34;,&#34;text&#34;: &#34;Guides&#34;}], &#34;baseUrl&#34;: &#34;https://www.mongodb.com/docs&#34;}"></div>

  

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = ['/core/replica-set-members', '/core/replica-set-architectures', '/core/replica-set-high-availability', '/applications/replication', '/applications/geospatial-indexes', '/core/sharded-cluster-components', '/core/index-types', '/reference/security', '/reference/indexes', '/reference/replication', '/reference/sharding', '/reference/command', '/reference/operator/query', '/reference/operator/update', '/reference/operator/aggregation', '/reference/operator/query-modifier', '/release-notes/2.4'];
  </script>
</body></html>