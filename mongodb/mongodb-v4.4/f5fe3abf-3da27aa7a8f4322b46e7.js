"use strict";(self.webpackChunksnooty=self.webpackChunksnooty||[]).push([[954],{56863:function(e,r,a){a.d(r,{f:function(){return Q}});a(17727);var t,n,o,i,l,s,c=a(15785),g=a(81880),d=a(55319),u=a(67294),p=a(28951),h=a(87896),m=a(96112),x=a(87209),f=a(52674),b=a(7298),Z=a(8949),y=a(64793),w=a(37660),k=a(11419),v=a(40002),z=a(82146),S=a(9549),D=a(83876),F=a(36249),C=a(71597),T=a(19388),q=a(94810),N=a(33330),P=a(25484),M=a(28090),L=a(9068),A=a(70917);const E=k.r.size.default,R="152px",U="calc(50vh - 28px - 40px - "+P.M+" / 2)",X=(0,d.Z)("div",{target:"eboqzto11"})("margin-bottom:",U,";grid-area:main;margin-top:80px;"),j=(0,d.Z)("div",{target:"eboqzto10"})({name:"1hk3dg8",styles:"grid-area:header"}),I=(0,p.css)(t||(t=(0,g.Z)(["\n  > h3:first-of-type {\n    color: var(--heading-color-primary);\n  }\n"]))),O=(0,d.Z)("div",{target:"eboqzto9"})("grid-area:right;@media ",k.r.screenSize.upToMedium,"{display:none;}"),B=(0,d.Z)("h2",{target:"eboqzto8"})("align-self:center;font-size:",k.r.fontSize.tiny,";line-height:15px;text-transform:uppercase;white-space:nowrap;","\n  font-family: 'Euclid Circular A';\n  font-weight: bolder;\n  letter-spacing: 0.5px;\n  margin: 0;\n",";margin-bottom:",k.r.size.default,";"),J=(0,p.css)(n||(n=(0,g.Z)(["\n  color: ",";\n\n  .dark-theme & {\n    color: ",";\n  }\n"])),y.D.gray.dark2,y.D.gray.light2),V=(0,d.Z)("div",{target:"eboqzto7"})("display:grid;grid-template-columns:minmax(0, auto) 1fr;column-gap:46px;grid-template-areas:'header .' 'main right';grid-template-columns:auto ","173px",";margin:",k.r.size.large," ",k.r.size.xlarge," ",k.r.size.xlarge,";@media ",k.r.screenSize.upToLarge,"{margin:",k.r.size.large," ",k.r.size.medium," ",k.r.size.xlarge,";}@media ",k.r.screenSize.upToMedium,"{grid-template-areas:'header' 'main';grid-template-columns:auto;margin:",k.r.size.default," ",k.r.size.medium," ",k.r.size.xlarge,";row-gap:",k.r.size.default,";}max-width:1150px;row-gap:",k.r.size.large,";",(e=>{let{showFacets:r}=e;return r&&"\n    column-gap: 16px;\n    grid-template-areas: 'header header' 'filters results';\n    grid-template-columns: 188px auto;\n\n    @media "+k.r.screenSize.upTo2XLarge+" {\n      margin: "+k.r.size.large+" 71px "+k.r.size.xlarge+" 52px;\n    }\n  "}),";"),H=(0,d.Z)(q.Z,{target:"eboqzto6"})("grid-area:right;@media ",k.r.screenSize.upToMedium,"{align-items:center;display:none;flex-direction:row;>div{margin-bottom:0;margin-right:",k.r.size.small,";}}@media ",k.r.screenSize.upToSmall,"{flex-direction:column;>div{width:100%;:first-of-type{margin-bottom:",k.r.size.small,";margin-right:0;}>div{width:100%;}}}"),G="\n  border-radius: 45px;\n  height: 152px;\n  position: relative;\n  /* place-self adds both align-self and justify-self for flexbox */\n  place-self: center;\n  width: 100%;\n  > div {\n    padding: 20px;\n    padding-left: 30px;\n  }\n  :hover,\n  :focus {\n    text-decoration: unset;\n    > div {\n      background-color: unset !important;\n    }\n  }\n\n  /* Create a pseudoelement to take up space between rows for hover effect */\n  :before {\n    content: '';\n    position: absolute;\n    top: calc(-"+E+" / 2);\n    left: 0;\n    right: 0;\n    bottom: calc(-"+E+" / 2);\n    background-color: transparent;\n  }\n",K=(0,p.css)(o||(o=(0,g.Z)(["\n  @media "," {\n    * {\n      font-size: ",";\n      line-height: ",";\n    }\n  }\n"])),k.r.screenSize.upToMedium,k.r.fontSize.small,k.r.fontSize.default),Q=(0,p.css)(i||(i=(0,g.Z)(["\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.1);\n\n  :hover {\n    opacity: 1;\n    box-shadow: 0px 0px 5px 1px rgba(58, 63, 60, 0.15);\n  }\n\n  .dark-theme & {\n    box-shadow: 0px 0px 3px 0px rgba(255, 255, 255, 0.15);\n\n    :hover {\n      opacity: 1;\n      box-shadow: 0px 0px 5px 3px rgba(92, 97, 94, 0.15);\n    }\n  }\n"]))),W=(0,d.Z)(N.Z,{target:"eboqzto5"})(G,";"),Y=(0,d.Z)("div",{target:"eboqzto4"})(G," box-shadow:0 0 ",k.r.size.tiny," 0 rgba(231, 238, 236, 1)!important;.dark-theme &{box-shadow:0px 0px 3px 0px rgba(255, 255, 255, 0.15)!important;}*{padding:2px;height:15px!important;margin-right:10px!important;}display:grid;grid-template-rows:1fr 2fr 1fr;"),$=(0,d.Z)(Z.AU,{target:"eboqzto3"})(">div{background:linear-gradient(110deg, ",y.D.gray.light2," 35%, ",y.D.gray.light3,", ",y.D.gray.light2," 65%) 0 0/100vw 100% fixed;.dark-theme &{background:linear-gradient(110deg, ",y.D.gray.dark2," 35%, ",y.D.gray.dark1,", ",y.D.gray.dark2," 65%) 0 0/100vw 100% fixed;}}"),_=(0,d.Z)("div",{target:"eboqzto2"})("box-shadow:none;display:grid;grid-area:main;grid-auto-rows:calc(",R," + ",E,");height:100%;width:100%;:not(:hover){>.search-result-component{opacity:1;transition:opacity 150ms ease-in;}}"),ee=(0,d.Z)("div",{target:"eboqzto1"})("display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;row-gap:",k.r.size.small,";padding-top:",k.r.size.small,";align-items:center;"),re=(0,p.css)(l||(l=(0,g.Z)(["\n  padding-right: 8px;\n  color: ",";\n\n  .dark-theme & {\n    color: ",";\n  }\n"])),y.D.gray.dark2,y.D.gray.light2),ae=(0,p.css)(s||(s=(0,g.Z)(["\n  margin-left: 8px;\n  margin-right: -2px;\n"]))),te=(0,d.Z)("div",{target:"eboqzto0"})("display:none;margin-top:",k.r.size.medium,";@media ",k.r.screenSize.upToMedium,"{display:block;}>Button{background-color:",y.D.gray.light3,";border-color:",y.D.gray.base,";color:",y.D.black,";&:focus-visible,&[data-focus='true']{color:",y.D.black,";}&:hover,&[data-hover='true'],&:active,&[data-active='true']{color:",y.D.black,";background-color:",y.D.white,";box-shadow:0 0 0 3px ",y.D.gray.light2,";}.dark-theme &{background-color:",y.D.gray.dark2,";border-color:",y.D.gray.base,";color:",y.D.white,";&:focus-visible,&[data-focus='true']{color:",y.D.white,";}&:hover,&[data-hover='true'],&:active,&[data-active='true']{background-color:",y.D.gray.dark1,";border-color:",y.D.gray.base,";color:",y.D.white,";box-shadow:0px 0px 0px 3px ",y.D.gray.dark2,";}}}");r.Z=()=>{const{search:e}=(0,h.useLocation)(),{searchTerm:r,searchFilter:a,setSearchFilter:t,selectedCategory:n,selectedVersion:o,showMobileFilters:i,setShowMobileFilters:l,showFacets:s,searchParams:g,setSearchTerm:d}=(0,u.useContext)(T.Z),{isTabletOrMobile:Z}=(0,w.Z)(),{0:y,1:k}=(0,u.useState)([]),{0:q,1:N}=(0,u.useState)((()=>!r)),{0:E,1:R}=(0,u.useState)(),{0:U,1:G}=(0,u.useState)([]),ne="Refine your search",oe=(0,u.useCallback)((()=>{t(null)}),[t]),ie=(0,u.useCallback)((()=>{l(!0)}),[l]);let le={glyph:"X",onClick:oe,text:"Clear all filters"};a||(le={glyph:"Filter",onClick:ie,text:ne}),(0,u.useEffect)((()=>{if(!g.get("q"))return void k([]);N(!1);(async()=>{const e=await fetch((0,D.X)(g),F.hu);return(await e.json()).results})().then((e=>{const r=(e||[]).map((e=>({...e,url:(0,z.assertTrailingSlash)(e.url)})));k(r)})).catch((e=>{console.error("Error fetching search results: "+JSON.stringify(e))})).finally((()=>{N(!0)})),(async()=>(await fetch((0,D.o)(g),F.hu)).json())().then((e=>{R(null==e?void 0:e.count)})).catch((e=>{console.error("Error while fetching search meta: "+JSON.stringify(e)),R(void 0)}))}),[g]),(0,u.useEffect)((()=>{(async()=>(await fetch((0,D.o)(null,r),F.hu)).json())().then((e=>{G(null==e?void 0:e.facets)})).catch((e=>{console.error("Error while fetching search meta: "+JSON.stringify(e)),G([])}))}),[r]);const se=(0,u.useCallback)((async e=>{var a;const t=parseInt(null!==(a=g.get("page"))&&void 0!==a?a:"1"),n=e?t+1:t-1;n<1||d(r,""+n)}),[g,r,d]);return(0,A.tZ)(V,{showFacets:s},i&&Z?(0,A.tZ)(M.Z,{facets:U}):(0,A.tZ)(u.Fragment,null,(0,A.tZ)(j,{className:(0,p.cx)(I)},(0,A.tZ)(b.H3,null,"Search Results"),(0,A.tZ)("span",{style:{display:"none"},className:"sl-search-keyword"},r),r&&(0,A.tZ)(ee,null,!s&&Number.isInteger(E)&&(0,A.tZ)(b.Lh,{className:(0,p.cx)(re)},(0,A.tZ)(u.Fragment,null,E," RESULTS")),!!a&&(0,A.tZ)("div",null,n&&(0,A.tZ)(C.ZP,{variant:"green",onClick:oe,className:(0,p.cx)(C.mV)},n,(0,A.tZ)(x.ZP,{className:(0,p.cx)(ae),glyph:"X"})),o&&(0,A.tZ)(C.ZP,{variant:"blue",className:(0,p.cx)(C.mV)},o)),s&&(0,A.tZ)(L.R,{resultsCount:E})),(0,A.tZ)(te,null,(0,A.tZ)(m.ZP,{leftGlyph:(0,A.tZ)(x.ZP,{glyph:le.glyph}),onClick:le.onClick},le.text))),!!r&&!q&&(0,A.tZ)(u.Fragment,null,(0,A.tZ)(_,null,(0,c.Z)(Array(10)).map(((e,r)=>(0,A.tZ)(Y,{key:r,className:(0,p.cx)(Q)},(0,A.tZ)($,{withHeader:!0})))))),r&&q&&!(null!=y&&y.length)&&(0,A.tZ)(u.Fragment,null,(0,A.tZ)(u.Fragment,null,(0,A.tZ)(X,null,(0,A.tZ)(P.Z,null)))),!!r&&!!q&&!!y.length&&(0,A.tZ)(u.Fragment,null,(0,A.tZ)(_,null,y.map(((e,r)=>{let{title:a,preview:t,url:n,searchProperty:o,facets:i}=e;return(0,A.tZ)(W,{key:""+n+r,onClick:()=>{(0,v.D)("SearchSelection",{areaFrom:"ResultsPage",rank:r,selectionUrl:n})},title:a,preview:(0,S.X)(t),url:n,useLargeTitle:!0,searchProperty:null==o?void 0:o[0],facets:i,className:"search-result-component"})})),(0,A.tZ)(u.Fragment,null,(0,A.tZ)(f.Z,{className:K,currentPage:parseInt(new URLSearchParams(e).get("page")||"1"),numTotalItems:E,onForwardArrowClick:se.bind(null,!0),onBackArrowClick:se.bind(null,!1),shouldDisableBackArrow:"1"===new URLSearchParams(e).get("page"),shouldDisableForwardArrow:y.length>0&&y.length<10})))),g.get("q")&&(0,A.tZ)(O,null,s?(0,A.tZ)(u.Fragment,null,!i&&(0,A.tZ)(L.m,{facets:U})):(0,A.tZ)(u.Fragment,null,(0,A.tZ)(B,{className:(0,p.cx)(J)},ne),(0,A.tZ)(H,null)))))}}}]);
//# sourceMappingURL=f5fe3abf-3da27aa7a8f4322b46e7.js.map