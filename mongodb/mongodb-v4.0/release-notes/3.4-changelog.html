<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css' /><title>3.4 Changelog &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/release-notes/3.4-changelog/" /><meta name="robots" content="index" />
  <meta name="release" content="4.0.27"/>
  <meta name="version" content="4.0"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/v4.0/source/release-notes/3.4-changelog.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css" />
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Release Notes for MongoDB 3.4" href="3.4.html" />
<link rel="next" title="Compatibility Changes in MongoDB 3.4" href="3.4-compatibility.html" />
<link rel="prev" title="Release Notes for MongoDB 3.4" href="3.4.html" /><script type='text/javascript'>
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script></head>
<body data-project="manual" data-project-title="MongoDB Manual" data-branch="v4.0" data-enable-marian=1 data-eol="True">
  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" style="margin-top: 0;">

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown" disabled aria-disabled="disabled">
          
          
          Version 4.0
        </button>
        <a href="https://www.mongodb.com/docs/legacy">&larr; Return to Documentation</a>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started</a></li><li class="toctree-l2"><a class="reference external" href="https://docs.atlas.mongodb.com/getting-started/">Create an Atlas Free Tier Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../core/databases-and-collections.html">Databases and Collections</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/views.html">Views</a></li><li class="toctree-l3"><a class="reference internal" href="../core/capped-collections.html">Capped Collections</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/document.html">Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/bson-types.html">BSON Types</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/bson-type-comparison-order.html">Comparison/Sort Order</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/install-community.html">Install MongoDB Community Edition</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/install-on-linux.html">Install on Linux</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat.html">Install on Red Hat</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install on Ubuntu</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu-tarball.html">Install using .tgz Tarball</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/installation-ubuntu-community-troubleshooting.html">Troubleshoot Ubuntu Installation</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install on Debian</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-debian-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-suse.html">Install on SUSE</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-suse-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-amazon.html">Install on Amazon</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-amazon-tarball.html">Install using .tgz Tarball</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install on macOS</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install on Windows</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-windows-unattended.html">Install using msiexec.exe</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/install-enterprise.html">Install MongoDB Enterprise</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/install-enterprise-linux.html">Install on Linux</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-red-hat.html">Install on Red Hat</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-red-hat-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-ubuntu.html">Install on Ubuntu</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-ubuntu-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-debian.html">Install on Debian</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-debian-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-suse.html">Install on SUSE</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-suse-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-amazon.html">Install on Amazon</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-amazon-tarball.html">Install using .tgz Tarball</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-os-x.html">Install on macOS</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-windows.html">Install on Windows</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-windows-unattended.html">Install using msiexec.exe</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-with-docker.html">Install with Docker</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/upgrade-community-to-enterprise.html">Upgrade MongoDB Community to MongoDB Enterprise</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-standalone.html">Upgrade to MongoDB Enterprise (Standalone)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-replica-set.html">Upgrade to MongoDB Enterprise (Replica Set)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-sharded-cluster.html">Upgrade to MongoDB Enterprise (Sharded Cluster)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/verify-mongodb-packages.html">Verify Integrity of MongoDB Packages</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../mongo.html">The <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-mongo-shell.html">Configure the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../core/shell-types.html">Data Types in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../crud.html">MongoDB CRUD Operations</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/insert-documents.html">Insert Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/insert-methods.html">Insert Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/query-documents.html">Query Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-embedded-documents.html">Query on Embedded/Nested Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-arrays.html">Query an Array</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-array-of-documents.html">Query an Array of Embedded Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/project-fields-from-query-results.html">Project Fields to Return from Query</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-for-null-fields.html">Query for Null or Missing Fields</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/iterate-a-cursor.html">Iterate a Cursor in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/update-documents.html">Update Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/update-methods.html">Update Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/remove-documents.html">Delete Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/delete-methods.html">Delete Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/bulk-write-operations.html">Bulk Write Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/retryable-writes.html">Retryable Writes</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../text-search.html">Text Search</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/link-text-indexes.html">Text Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/text-search-operators.html">Text Search Operators</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/text-search-in-aggregation.html">Text Search in the Aggregation Pipeline</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/text-search-languages.html">Text Search Languages</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../geospatial-queries.html">Geospatial Queries</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/geospatial-tutorial.html">Find Restaurants with Geospatial Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/geojson.html">GeoJSON Objects</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/read-concern.html">Read Isolation (Read Concern)</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-local.html">Read Concern <code class="docutils literal"><span class="pre">&quot;local&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-available.html">Read Concern <code class="docutils literal"><span class="pre">&quot;available&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-majority.html">Read Concern <code class="docutils literal"><span class="pre">&quot;majority&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-linearizable.html">Read Concern <code class="docutils literal"><span class="pre">&quot;linearizable&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-snapshot.html">Read Concern <code class="docutils literal"><span class="pre">&quot;snapshot&quot;</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/write-concern.html">Write Acknowledgement (Write Concern)</a></li><li class="toctree-l2"><a class="reference internal" href="../core/crud.html">MongoDB CRUD Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/write-operations-atomicity.html">Atomicity and Transactions</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-isolation-consistency-recency.html">Read Isolation, Consistency, and Recency</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/causal-consistency-read-write-concerns.html">Causal Consistency and Read and Write Concerns</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/distributed-queries.html">Distributed Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-findAndModify-linearizable-reads.html">Linearizable Reads via <code class="docutils literal"><span class="pre">findAndModify</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../core/query-plans.html">Query Plans</a></li><li class="toctree-l3"><a class="reference internal" href="../core/query-optimization.html">Query Optimization</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/evaluate-operation-performance.html">Evaluate Performance of Current Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/optimize-query-performance-with-indexes-and-projections.html">Optimize Query Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../core/write-performance.html">Write Operation Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/explain-results.html">Explain Results</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/analyze-query-plan.html">Analyze Query Performance</a></li><li class="toctree-l3"><a class="reference internal" href="../core/tailable-cursors.html">Tailable Cursors</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/aggregation-pipeline.html">Aggregation Pipeline</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-optimization.html">Aggregation Pipeline Optimization</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-limits.html">Aggregation Pipeline Limits</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-sharded-collections.html">Aggregation Pipeline and Sharded Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-zip-code-data-set.html">Example with ZIP Code Data</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-with-user-preference-data.html">Example with User Preference Data</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/map-reduce.html">Map-Reduce</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce-sharded-collections.html">Map-Reduce and Sharded Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce-concurrency.html">Map-Reduce Concurrency</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/map-reduce-examples.html">Map-Reduce Examples</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-incremental-map-reduce.html">Perform Incremental Map-Reduce</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-map-function.html">Troubleshoot the Map Function</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-reduce-function.html">Troubleshoot the Reduce Function</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../meta/aggregation-quick-reference.html">Aggregation Pipeline Quick Reference</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/interface.html">Aggregation Commands</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-commands-comparison.html">Aggregation Commands Comparison</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-variables.html">Variables in Aggregation Expressions</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l3"><a class="reference external" href="https://www.practical-mongodb-aggregations.com">Practical MongoDB Aggregations (e-book)</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Models</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/data-modeling-introduction.html">Data Modeling Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/schema-validation.html">Schema Validation</a></li><li class="toctree-l2"><a class="reference internal" href="../core/data-models.html">Data Modeling Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/data-model-design.html">Data Model Design</a></li><li class="toctree-l3"><a class="reference internal" href="../core/data-model-operations.html">Operational Factors and Data Models</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/data-models.html">Data Model Examples and Patterns</a><ul><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-relationships.html">Model Relationships Between Documents</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model One-to-One Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Document References</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-tree-structures.html">Model Tree Structures</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-applications.html">Model Specific Application Contexts</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-schema-versioning.html">Model Data for Schema Versioning</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-monetary-data.html">Model Monetary Data</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-time-data.html">Model Time Data</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-computed-data.html">Model Computed Data</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/data-models.html">Data Model Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/database-references.html">Database References</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../core/transactions.html">Transactions</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/transactions-production-consideration.html">Production Considerations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-operations.html">Transactions and Operations</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/index-single.html">Single Field Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-compound.html">Compound Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-multikey.html">Multikey Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/multikey-index-bounds.html">Multikey Index Bounds</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-text.html">Text Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/specify-language-for-text-index.html">Specify a Language for Text Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/avoid-text-index-name-limit.html">Specify Name for <code class="docutils literal"><span class="pre">text</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/control-results-of-text-search.html">Control Search Results with Weights</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/limit-number-of-items-scanned-for-text-search.html">Limit the Number of Entries Scanned</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/2dsphere.html"><code class="docutils literal"><span class="pre">2dsphere</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-2dsphere-index.html">Query a <code class="docutils literal"><span class="pre">2dsphere</span></code> Index</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/2d.html"><code class="docutils literal"><span class="pre">2d</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-a-2d-index.html">Create a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-2d-index.html">Query a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../core/geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Index Internals</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/calculate-distances-using-spherical-geometry-with-2d-geospatial-indexes.html">Calculate Distance Using Spherical Geometry</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/geohaystack.html"><code class="docutils literal"><span class="pre">geoHaystack</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-a-geohaystack-index.html">Create a Haystack Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-geohaystack-index.html">Query a Haystack Index</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-hashed.html">Hashed Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-properties.html">Index Properties</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/index-ttl.html">TTL Indexes</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/index-unique.html">Unique Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-partial.html">Partial Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-case-insensitive.html">Case Insensitive Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-sparse.html">Sparse Indexes</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-creation.html">Index Build Operations on a Populated Collection</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-indexes-on-replica-sets.html">Build Indexes on Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-indexes-on-sharded-clusters.html">Build Indexes on Sharded Clusters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-intersection.html">Index Intersection</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-indexes.html">Manage Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/measure-index-use.html">Measure Index Use</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-indexes-to-support-queries.html">Create Indexes to Support Your Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sort-results-with-indexes.html">Use Indexes to Sort Query Results</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/ensure-indexes-fit-ram.html">Ensure Indexes Fit in RAM</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-queries-that-ensure-selectivity.html">Create Queries that Ensure Selectivity</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/indexes.html">Indexing Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/security-checklist.html">Security Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/enable-authentication.html">Enable Access Control</a></li><li class="toctree-l2"><a class="reference internal" href="../core/authentication.html">Authentication</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-users.html">Users</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-users.html">Add Users</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/authentication-mechanisms.html">Authentication Mechanisms</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/security-scram.html">SCRAM</a></li><li class="toctree-l4"><a class="reference internal" href="../core/security-x.509.html">x.509</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/configure-x509-client-authentication.html">Use x.509 Certificates to Authenticate Clients</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/authentication-mechanisms-enterprise.html">Enterprise Authentication Mechanisms</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/kerberos.html">Kerberos Authentication</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-kerberos-authentication.html">Configure MongoDB with Kerberos Authentication on Linux</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/control-access-to-mongodb-windows-with-kerberos-authentication.html">Configure MongoDB with Kerberos Authentication on Windows</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/troubleshoot-kerberos.html">Troubleshoot Kerberos Authentication</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/kerberos-auth-activedirectory-authz.html">Configure MongoDB with Kerberos Authentication and Active Directory Authorization</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/security-ldap.html">LDAP Proxy Authentication</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/configure-ldap-sasl-activedirectory.html">Authenticate Using SASL and LDAP with ActiveDirectory</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/configure-ldap-sasl-openldap.html">Authenticate Using SASL and LDAP with OpenLDAP</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/authenticate-nativeldap-activedirectory.html">Authenticate and Authorize Users Using Active Directory via Native LDAP</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/security-ldap-external.html">LDAP Authorization</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-internal-authentication.html">Internal Authentication</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-replica-set-with-keyfile-access-control.html">Deploy New Replica Set With Keyfile Access Control</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-replica-set.html">Enforce Keyfile Access Control in a Replica Set</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-replica-set-without-downtime.html">Enforce Keyfile Access Control in a Replica Set without Downtime</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-sharded-cluster-with-keyfile-access-control.html">Deploy Sharded Cluster with Keyfile Access Control</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-sharded-cluster.html">Enforce Keyfile Access Control in Sharded Cluster</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-sharded-cluster-no-downtime.html">Enforce Authentication in an Existing Sharded Cluster Without Downtime</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-x509-member-authentication.html">Use x.509 Certificate for Membership Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/upgrade-keyfile-to-x509.html">Upgrade from Keyfile Authentication to x.509 Authentication</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/authorization.html">Role-Based Access Control</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/built-in-roles.html">Built-In Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-user-defined-roles.html">User-Defined Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-users-and-roles.html">Manage Users and Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-own-password-and-custom-data.html">Change Your Password and Custom Data</a></li><li class="toctree-l3"><a class="reference internal" href="../core/collection-level-access-control.html">Collection-Level Access Control</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-transport-encryption.html">TLS/SSL (Transport Encryption)</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-ssl.html">Configure <code class="docutils literal"><span class="pre">mongod</span></code> and <code class="docutils literal"><span class="pre">mongos</span></code> for TLS/SSL</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-ssl-clients.html">TLS/SSL Configuration for Clients</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-cluster-to-ssl.html">Upgrade a Cluster to Use TLS/SSL</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-fips.html">Configure MongoDB for FIPS</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-encryption-at-rest.html">Encryption at Rest</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-encryption.html">Configure Encryption</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rotate-encryption-key.html">Rotate Encryption Keys</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/auditing.html">Auditing</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-auditing.html">Configure Auditing</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-audit-filters.html">Configure Audit Filters</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/audit-message.html">System Event Audit Messages</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-hardening.html">Network and Configuration Hardening</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-mongodb-configuration.html">IP Binding</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/implement-field-level-redaction.html">Implement Field Level Redaction</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/security.html">Security Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/system-roles-collection.html"><code class="docutils literal"><span class="pre">system.roles</span></code> Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/system-users-collection.html"><code class="docutils literal"><span class="pre">system.users</span></code> Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/resource-document.html">Resource Document</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/privilege-actions.html">Privilege Actions</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-a-vulnerability-report.html">Create a Vulnerability Report</a></li><li class="toctree-l2"><a class="reference internal" href="../appendix/security.html">Appendix</a><ul><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixA-openssl-ca.html">Appendix A - OpenSSL CA Certificate for Testing</a></li><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixB-openssl-server.html">Appendix B - OpenSSL Server Certificates for Testing</a></li><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixC-openssl-client.html">Appendix C - OpenSSL Client Certificates for Testing</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../changeStreams.html">Change Streams</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/change-streams-production-recommendations.html">Change Streams Production Recommendations</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/change-events.html">Change Events</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-members.html">Replica Set Members</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-primary.html">Replica Set Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-secondary.html">Replica Set Secondary Members</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-priority-0-member.html">Priority 0 Replica Set Members</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-hidden-member.html">Hidden Replica Set Members</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-delayed-member.html">Delayed Replica Set Members</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-arbiter.html">Replica Set Arbiter</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-oplog.html">Replica Set Oplog</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-sync.html">Replica Set Data Synchronization</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-architectures.html">Replica Set Deployment Architectures</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architecture-three-members.html">Three Member Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architecture-geographically-distributed.html">Replica Sets Distributed Across Two or More Data Centers</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-high-availability.html">Replica Set High Availability</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-elections.html">Replica Set Elections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-rollbacks.html">Rollbacks During Replica Set Failover</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Read and Write Semantics</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-write-concern.html">Write Concern for Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-preference.html">Read Preference</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-preference-mechanics.html">Server Selection Algorithm</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-deployment.html">Replica Set Deployment Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-replica-set-for-testing.html">Deploy a Replica Set for Testing and Development</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Redundant Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/add-replica-set-arbiter.html">Add an Arbiter to Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-replica-set-member.html">Remove Members from Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/replace-replica-set-member.html">Replace a Replica Set Member</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-member-configuration.html">Member Configuration Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/adjust-replica-set-member-priority.html">Adjust Priority for Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-secondary-only-replica-set-member.html">Prevent Secondary from Becoming Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-hidden-replica-set-member.html">Configure a Hidden Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-delayed-replica-set-member.html">Configure a Delayed Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-non-voting-replica-set-member.html">Configure Non-Voting Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-maintenance.html">Replica Set Maintenance Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-maintence-on-replica-set-members.html">Perform Maintenance on Replica Set Members</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/resync-replica-set-member.html">Resync a Member of a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-replica-set-tag-sets.html">Configure Replica Set Tag Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-chained-replication.html">Manage Chained Replication</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-replica-set-secondary-sync-target.html">Configure a Secondary’s Sync Target</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rename-unsharded-replica-set.html">Rename a Replica Set</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication.html">Replication Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-set-protocol-versions.html">Replica Set Protocol Version</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-replica-sets.html">Troubleshoot Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-states.html">Replica Set Member States</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-preference.html">Read Preference Reference</a></li><li class="toctree-l3"><a class="reference internal" href="../core/master-slave.html">Convert a Master-Slave Deployment to a Replica Set</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/sharded-cluster-components.html">Sharded Cluster Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-shards.html">Shards</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-config-servers.html">Config Servers (metadata)</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-query-router.html">Router (mongos)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-shard-key.html">Shard Keys</a></li><li class="toctree-l2"><a class="reference internal" href="../core/hashed-sharding.html">Hashed Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../core/ranged-sharding.html">Ranged Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../core/zone-sharding.html">Zones</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-segmenting-data-by-location.html">Segmenting Data by Location</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-tiered-hardware-for-varying-slas.html">Tiered Hardware for Varying SLA or SLO</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-segmenting-shards.html">Segmenting Data by Application or Customer</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-high-availability-writes.html">Distributed Local Writes for Insert Only Workloads</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-data-partitioning.html">Data Partitioning with Chunks</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-chunks-in-sharded-cluster.html">Create Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/split-chunks-in-sharded-cluster.html">Split Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/merge-chunks-in-sharded-cluster.html">Merge Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/modify-chunk-size-in-sharded-cluster.html">Modify Chunk Size in a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-balancer-administration.html">Balancer</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/migrate-chunks-in-sharded-cluster.html">Migrate Chunks in a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-cluster-administration.html">Administration</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/sharded-cluster-config-servers.html">Config Server Administration</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/replace-config-server.html">Replace a Config Server</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/restart-sharded-cluster.html">Restart a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/migrate-sharded-cluster-to-new-hardware.html">Migrate a Sharded Cluster to Different Hardware</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/clear-jumbo-flag.html">Clear <code class="docutils literal"><span class="pre">jumbo</span></code> Flag</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-sharded-cluster-metadata.html">Back Up Cluster Metadata</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-sharded-cluster-to-replica-set.html">Convert Sharded Cluster to Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-shard-standalone-to-shard-replica-set.html">Convert a Shard Standalone to a Shard Replica Set</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding.html">Sharding Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-requirements.html">Operational Restrictions</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-sharded-clusters.html">Troubleshoot Sharded Clusters</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/config-database.html">Config Database</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-checklist-operations.html">Operations Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-checklist-development.html">Development Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/analyzing-mongodb-performance.html">Performance</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Database Profiler</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/transparent-huge-pages.html">Disable Transparent Huge Pages (THP)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/configuration-and-maintenance.html">Configuration and Maintenance</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-revision.html">Upgrade to the Latest Revision of MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/terminate-running-operations.html">Terminate Running Operations</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../data-center-awareness.html">Data Center Awareness</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/workload-isolation.html">Workload Isolation in MongoDB Deployments</a></li><li class="toctree-l3"><a class="reference internal" href="../core/zone-sharding.html">Zones</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-segmenting-data-by-location.html">Segmenting Data by Location</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-tiered-hardware-for-varying-slas.html">Tiered Hardware for Varying SLA or SLO</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-segmenting-shards.html">Segmenting Data by Application or Customer</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-high-availability-writes.html">Distributed Local Writes for Insert Only Workloads</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/backups.html">MongoDB Backup Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-with-filesystem-snapshots.html">Back Up and Restore with Filesystem Snapshots</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-and-restore-tools.html">Back Up and Restore with MongoDB Tools</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/restore-replica-set-from-backup.html">Restore a Replica Set from MongoDB Backups</a></li><li class="toctree-l3"><a class="reference internal" href="../administration/backup-sharded-clusters.html">Backup and Restore Sharded Clusters</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Back Up a Sharded Cluster with File System Snapshots</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Back Up a Sharded Cluster with Database Dumps</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore a Sharded Cluster</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover a Standalone after an Unexpected Shutdown</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/monitoring.html">Monitoring for MongoDB</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/free-monitoring.html">Free Monitoring</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/monitor-with-snmp.html">Monitor MongoDB With SNMP on Linux</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/monitor-with-snmp-on-windows.html">Monitor MongoDB Windows with SNMP</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-snmp.html">Troubleshoot SNMP</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../storage.html">Storage</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/storage-engines.html">Storage Engines</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/wiredtiger.html">WiredTiger Storage Engine</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-standalone-wiredtiger.html">Change Standalone to WiredTiger</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-replica-set-wiredtiger.html">Change Replica Set to WiredTiger</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-sharded-cluster-wiredtiger.html">Change Sharded Cluster to WiredTiger</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/mmapv1.html">MMAPv1 Storage Engine</a></li><li class="toctree-l3"><a class="reference internal" href="../core/inmemory.html">In-Memory Storage Engine</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/journaling.html">Journaling</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-journaling.html">Manage Journaling</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/gridfs.html">GridFS</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul><li class="toctree-l2"><a class="reference internal" href="../faq/fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/replica-sets.html">FAQ: Replication and Replica Sets</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a><ul><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query.html">Query and Projection Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-comparison.html">Comparison Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/eq.html">$eq</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-logical.html">Logical Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-element.html">Element Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-evaluation.html">Evaluation Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/expr.html">$expr</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/jsonSchema.html">$jsonSchema</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/text.html">$text</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-geospatial.html">Geospatial Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoIntersects.html">$geoIntersects</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoWithin.html">$geoWithin</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geometry.html">$geometry</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/minDistance.html">$minDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/uniqueDocs.html">$uniqueDocs</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-array.html">Array Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-bitwise.html">Bitwise Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAllClear.html">$bitsAllClear</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAllSet.html">$bitsAllSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAnyClear.html">$bitsAnyClear</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAnySet.html">$bitsAnySet</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query/comment.html">$comment</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/projection.html">Projection Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/meta.html">$meta</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update.html">Update Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-field.html">Field Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/currentDate.html">$currentDate</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/min.html">$min</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/max.html">$max</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/mul.html">$mul</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/setOnInsert.html">$setOnInsert</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-array.html">Array Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional.html">$ (update)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional-all.html">$[]</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional-filtered.html">$[&lt;identifier&gt;]</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/position.html">$position</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/slice.html">$slice</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/sort.html">$sort</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-bitwise.html">Bitwise Update Operator</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation-pipeline.html">Aggregation Pipeline Stages</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/addFields.html">$addFields (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bucket.html">$bucket (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bucketAuto.html">$bucketAuto (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/collStats.html">$collStats (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/count.html">$count (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/currentOp.html">$currentOp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/facet.html">$facet (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/geoNear.html">$geoNear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/graphLookup.html">$graphLookup (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexStats.html">$indexStats (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/listLocalSessions.html">$listLocalSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/listSessions.html">$listSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lookup.html">$lookup (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/out.html">$out (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/redact.html">$redact (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceRoot.html">$replaceRoot (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sample.html">$sample (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sortByCount.html">$sortByCount (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation.html">Aggregation Pipeline Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/abs.html">$abs (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/allElementsTrue.html">$allElementsTrue (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/anyElementTrue.html">$anyElementTrue (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/arrayElemAt.html">$arrayElemAt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/arrayToObject.html">$arrayToObject (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ceil.html">$ceil (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/concat.html">$concat (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/concatArrays.html">$concatArrays (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/convert.html">$convert (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateFromParts.html">$dateFromParts (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateToParts.html">$dateToParts (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateFromString.html">$dateFromString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateToString.html">$dateToString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/exp.html">$exp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/filter.html">$filter (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/floor.html">$floor (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/in.html">$in (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfArray.html">$indexOfArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfBytes.html">$indexOfBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfCP.html">$indexOfCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isArray.html">$isArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoDayOfWeek.html">$isoDayOfWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoWeek.html">$isoWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoWeekYear.html">$isoWeekYear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/let.html">$let (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/literal.html">$literal (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ln.html">$ln (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/log.html">$log (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/log10.html">$log10 (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ltrim.html">$ltrim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/map.html">$map (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/mergeObjects.html">$mergeObjects (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/meta.html">$meta (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/millisecond.html">$millisecond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/objectToArray.html">$objectToArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/pow.html">$pow (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/range.html">$range (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/reduce.html">$reduce (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/reverseArray.html">$reverseArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/rtrim.html">$rtrim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setDifference.html">$setDifference (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setEquals.html">$setEquals (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setIntersection.html">$setIntersection (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setIsSubset.html">$setIsSubset (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setUnion.html">$setUnion (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/size.html">$size (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/slice.html">$slice (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/split.html">$split (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sqrt.html">$sqrt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/stdDevPop.html">$stdDevPop (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/stdDevSamp.html">$stdDevSamp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strLenBytes.html">$strLenBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strLenCP.html">$strLenCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substrBytes.html">$substrBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substrCP.html">$substrCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/switch.html">$switch (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toBool.html">$toBool (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDate.html">$toDate (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDecimal.html">$toDecimal (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDouble.html">$toDouble(aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toInt.html">$toInt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toLong.html">$toLong (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toObjectId.html">$toObjectId (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toString.html">$toString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/trim.html">$trim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/trunc.html">$trunc (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/type.html">$type (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/zip.html">$zip (aggregation)</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query-modifier.html">Query Modifiers</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/comment.html">$comment</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/explain.html">$explain</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/hint.html">$hint</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/maxScan.html">$maxScan</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/max.html">$max</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/maxTimeMS.html">$maxTimeMS</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/min.html">$min</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/orderby.html">$orderby</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/query.html">$query</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/returnKey.html">$returnKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/showDiskLoc.html">$showDiskLoc</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-aggregation.html">Aggregation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/group.html">group</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-geospatial.html">Geospatial Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoNear.html">geoNear</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-crud.html">Query and Write Operation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/delete.html">delete</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/eval.html">eval</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/find.html">find</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getMore.html">getMore</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getPrevError.html">getPrevError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/insert.html">insert</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/parallelCollectionScan.html">parallelCollectionScan</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/update.html">update</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-plan-cache.html">Query Plan Cache Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheClear.html">planCacheClear</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheClearFilters.html">planCacheClearFilters</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListFilters.html">planCacheListFilters</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListPlans.html">planCacheListPlans</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListQueryShapes.html">planCacheListQueryShapes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheSetFilter.html">planCacheSetFilter</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-authentication.html">Authentication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getnonce.html">getnonce</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logout.html">logout</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-user-management.html">User Management Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/createUser.html">createUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropAllUsersFromDatabase.html">dropAllUsersFromDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropUser.html">dropUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantRolesToUser.html">grantRolesToUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokeRolesFromUser.html">revokeRolesFromUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateUser.html">updateUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/usersInfo.html">usersInfo</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-role-management.html">Role Management Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/createRole.html">createRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropRole.html">dropRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropAllRolesFromDatabase.html">dropAllRolesFromDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantPrivilegesToRole.html">grantPrivilegesToRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantRolesToRole.html">grantRolesToRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/invalidateUserCache.html">invalidateUserCache</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokePrivilegesFromRole.html">revokePrivilegesFromRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokeRolesFromRole.html">revokeRolesFromRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/rolesInfo.html">rolesInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateRole.html">updateRole</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-replication.html">Replication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/applyOps.html">applyOps</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hello.html">hello</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isMaster.html">isMaster</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetAbortPrimaryCatchUp.html">replSetAbortPrimaryCatchUp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetConfig.html">replSetGetConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetResizeOplog.html">replSetResizeOplog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sharding.html">Sharding Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShardToZone.html">addShardToZone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStart.html">balancerStart</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStatus.html">balancerStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStop.html">balancerStop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/clearJumboFlag.html">clearJumboFlag</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cleanupOrphaned.html">cleanupOrphaned</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/medianKey.html">medianKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mergeChunks.html">mergeChunks</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShardFromZone.html">removeShardFromZone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateZoneKeyRange.html">updateZoneKeyRange</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sessions.html">Sessions Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/abortTransaction.html">abortTransaction</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/commitTransaction.html">commitTransaction</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/endSessions.html">endSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killAllSessions.html">killAllSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killAllSessionsByPattern.html">killAllSessionsByPattern</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killSessions.html">killSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/refreshSessions.html">refreshSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/startSession.html">startSession</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-administration.html">Administration Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/clone.html">clone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollection.html">cloneCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolSync.html">connPoolSync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/copydb.html">copydb</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/createIndexes.html">createIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/currentOp.html">currentOp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsyncUnlock.html">fsyncUnlock</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killCursors.html">killCursors</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killOp.html">killOp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCollections.html">listCollections</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listIndexes.html">listIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/repairDatabase.html">repairDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setFeatureCompatibilityVersion.html">setFeatureCompatibilityVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/touch.html">touch</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-diagnostic.html">Diagnostic Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/availableQueryOptions.html">availableQueryOptions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connectionStatus.html">connectionStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cursorInfo.html">cursorInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbHash.html">dbHash</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/diagLogging.html">diagLogging</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/explain.html">explain</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/features.html">features</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hostInfo.html">hostInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isSelf.html">isSelf</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/netstat.html">netstat</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardConnPoolStats.html">shardConnPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-free-monitoring.html">Free Monitoring Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/getFreeMonitoringStatus.html">getFreeMonitoringStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setFreeMonitoring.html">setFreeMonitoring</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-auditing.html">System Events Auditing Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/logApplicationMessage.html">logApplicationMessage</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-collection.html">Collection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.bulkWrite.html">db.collection.bulkWrite()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.copyTo.html">db.collection.copyTo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.countDocuments.html">db.collection.countDocuments()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.estimatedDocumentCount.html">db.collection.estimatedDocumentCount()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndexes.html">db.collection.createIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.deleteOne.html">db.collection.deleteOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.deleteMany.html">db.collection.deleteMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.explain.html">db.collection.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndDelete.html">db.collection.findOneAndDelete()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndReplace.html">db.collection.findOneAndReplace()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndUpdate.html">db.collection.findOneAndUpdate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.group.html">db.collection.group()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insertOne.html">db.collection.insertOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insertMany.html">db.collection.insertMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.latencyStats.html">db.collection.latencyStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.replaceOne.html">db.collection.replaceOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.save.html">db.collection.save()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.updateOne.html">db.collection.updateOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.updateMany.html">db.collection.updateMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.watch.html">db.collection.watch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-cursor.html">Cursor Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.allowPartialResults.html">cursor.allowPartialResults()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.close.html">cursor.close()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.isClosed.html">cursor.isClosed()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.collation.html">cursor.collation()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.comment.html">cursor.comment()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.isExhausted.html">cursor.isExhausted()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.itcount.html">cursor.itcount()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.maxScan.html">cursor.maxScan()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.maxTimeMS.html">cursor.maxTimeMS()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.noCursorTimeout.html">cursor.noCursorTimeout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.pretty.html">cursor.pretty()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readConcern.html">cursor.readConcern()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.returnKey.html">cursor.returnKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.showRecordId.html">cursor.showRecordId()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.tailable.html">cursor.tailable()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-database.html">Database Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.adminCommand.html">db.adminCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.aggregate.html">db.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.cloneCollection.html">db.cloneCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.cloneDatabase.html">db.cloneDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.copyDatabase.html">db.copyDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createView.html">db.createView()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.eval.html">db.eval()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionInfos.html">db.getCollectionInfos()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLastError.html">db.getLastError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLastErrorObj.html">db.getLastErrorObj()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLogComponents.html">db.getLogComponents()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getPrevError.html">db.getPrevError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingLevel.html">db.getProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hello.html">db.hello()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hostInfo.html">db.hostInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.isMaster.html">db.isMaster()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSecondaryReplicationInfo.html">db.printSecondaryReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.repairDatabase.html">db.repairDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverCmdLineOpts.html">db.serverCmdLineOpts()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setLogLevel.html">db.setLogLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.watch.html">db.watch()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-plan-cache.html">Query Plan Cache Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getPlanCache.html">db.collection.getPlanCache()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.clear.html">PlanCache.clear()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.clearPlansByQuery.html">PlanCache.clearPlansByQuery()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.getPlansByQuery.html">PlanCache.getPlansByQuery()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.help.html">PlanCache.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.listQueryShapes.html">PlanCache.listQueryShapes()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-bulk.html">Bulk Operation Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.initializeOrderedBulkOp.html">db.collection.initializeOrderedBulkOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.initializeUnorderedBulkOp.html">db.collection.initializeUnorderedBulkOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.html">Bulk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.execute.html">Bulk.execute()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.html">Bulk.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.arrayFilters.html">Bulk.find.arrayFilters()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.collation.html">Bulk.find.collation()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.remove.html">Bulk.find.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.removeOne.html">Bulk.find.removeOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.replaceOne.html">Bulk.find.replaceOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.updateOne.html">Bulk.find.updateOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.update.html">Bulk.find.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.upsert.html">Bulk.find.upsert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.getOperations.html">Bulk.getOperations()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.insert.html">Bulk.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.tojson.html">Bulk.tojson()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.toString.html">Bulk.toString()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-user-management.html">User Management Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.changeUserPassword.html">db.changeUserPassword()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createUser.html">db.createUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropUser.html">db.dropUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropAllUsers.html">db.dropAllUsers()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getUser.html">db.getUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getUsers.html">db.getUsers()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantRolesToUser.html">db.grantRolesToUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokeRolesFromUser.html">db.revokeRolesFromUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.updateUser.html">db.updateUser()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-role-management.html">Role Management Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createRole.html">db.createRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropRole.html">db.dropRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropAllRoles.html">db.dropAllRoles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getRole.html">db.getRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getRoles.html">db.getRoles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantPrivilegesToRole.html">db.grantPrivilegesToRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokePrivilegesFromRole.html">db.revokePrivilegesFromRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantRolesToRole.html">db.grantRolesToRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokeRolesFromRole.html">db.revokeRolesFromRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.updateRole.html">db.updateRole()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-replication.html">Replication Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printReplicationInfo.html">rs.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printSecondaryReplicationInfo.html">rs.printSecondaryReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printSlaveReplicationInfo.html">rs.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.secondaryOk.html">rs.secondaryOk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-sharding.html">Sharding Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardToZone.html">sh.addShardToZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableAutoSplit.html">sh.disableAutoSplit</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableAutoSplit.html">sh.enableAutoSplit</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerHost.html">sh.getBalancerHost()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeTagRange.html">sh.removeTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeRangeFromZone.html">sh.removeRangeFromZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardFromZone.html">sh.removeShardFromZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.updateZoneKeyRange.html">sh.updateZoneKeyRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/convertShardKeyToHashed.html">convertShardKeyToHashed</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-free-monitoring.html">Free Monitoring Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.disableFreeMonitoring.html">db.disableFreeMonitoring()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.enableFreeMonitoring.html">db.enableFreeMonitoring()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getFreeMonitoringStatus.html">db.getFreeMonitoringStatus</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-constructor.html">Object Constructors and Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/BulkWriteResult.html">BulkWriteResult()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.html">ObjectId</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/UUID.html">UUID()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.html">WriteResult()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.hasWriteError.html">WriteResult.hasWriteError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.hasWriteConcernError.html">WriteResult.hasWriteConcernError()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-connection.html">Connection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefMode.html">Mongo.getReadPrefMode()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefTagSet.html">Mongo.getReadPrefTagSet()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getSecondaryOk.html">Mongo.getSecondaryOk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.isCausalConsistency.html">Mongo.isCausalConsistency()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setCausalConsistency.html">Mongo.setCausalConsistency()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setReadPref.html">Mongo.setReadPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setSecondaryOk.html">Mongo.setSecondaryOk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.startSession.html">Mongo.startSession()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.watch.html">Mongo.watch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Session.html">Session</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.abortTransaction.html">Session.abortTransaction()</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.commitTransaction.html">Session.commitTransaction()</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.startTransaction.html">Session.startTransaction()</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/SessionOptions.html">SessionOptions</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-native.html">Native Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sleep.html">sleep()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/setVerboseShell.html">setVerboseShell()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/version.html">version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rand.html">_rand()</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/program.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongo.html"><code class="docutils literal"><span class="pre">mongo</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongodump.html"><code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongorestore.html"><code class="docutils literal"><span class="pre">mongorestore</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/bsondump.html"><code class="docutils literal"><span class="pre">bsondump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoimport.html"><code class="docutils literal"><span class="pre">mongoimport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoexport.html"><code class="docutils literal"><span class="pre">mongoexport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongostat.html"><code class="docutils literal"><span class="pre">mongostat</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongotop.html"><code class="docutils literal"><span class="pre">mongotop</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoreplay.html"><code class="docutils literal"><span class="pre">mongoreplay</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoldap.html"><code class="docutils literal"><span class="pre">mongoldap</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongofiles.html"><code class="docutils literal"><span class="pre">mongofiles</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/install_compass.html"><code class="docutils literal"><span class="pre">install_compass</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/configuration-file-settings-command-line-options-mapping.html">Configuration File Settings and Command-Line Options Mapping</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/parameters.html">MongoDB Server Parameters</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/explain-results.html">Explain Results</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collation.html">Collation</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/collation-locales-defaults.html">Collation Locales and Default Parameters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-wire-protocol.html">MongoDB Wire Protocol</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/log-messages.html">Log Messages</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/default-mongodb-port.html">Default MongoDB Port</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-sessions.html">Server Sessions</a></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../release-notes.html">Release Notes</a><ul class="current"><li class="toctree-l2"><a class="reference internal" href="4.0.html">Release Notes for MongoDB 4.0</a><ul><li class="toctree-l3"><a class="reference internal" href="4.0-compatibility.html">Compatibility Changes in MongoDB 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-standalone.html">Upgrade a Standalone to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-replica-set.html">Upgrade a Replica Set to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-standalone.html">Downgrade 4.0 Standalone to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-replica-set.html">Downgrade 4.0 Replica Set to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-sharded-cluster.html">Downgrade 4.0 Sharded Cluster to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-changelog.html">4.0 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.6.html">Release Notes for MongoDB 3.6</a><ul><li class="toctree-l3"><a class="reference internal" href="3.6-changelog.html">3.6 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-compatibility.html">Compatibility Changes in MongoDB 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-standalone.html">Upgrade a Standalone to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-replica-set.html">Upgrade a Replica Set to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-standalone.html">Downgrade 3.6 Standalone to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-replica-set.html">Downgrade 3.6 Replica Set to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-sharded-cluster.html">Downgrade 3.6 Sharded Cluster to 3.4</a></li></ul></li><li class="toctree-l2 current"><a class="reference internal" href="3.4.html">Release Notes for MongoDB 3.4</a><ul class="current"><li class="toctree-l3 current"><a class="reference internal current" href="">3.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-compatibility.html">Compatibility Changes in MongoDB 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-standalone.html">Upgrade a Standalone to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-replica-set.html">Upgrade a Replica Set to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-downgrade.html">Downgrade MongoDB 3.4 to 3.2</a><ul><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-standalone.html">Downgrade 3.4 Standalone to 3.2</a></li><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-replica-set.html">Downgrade 3.4 Replica Set to 3.2</a></li><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-sharded-cluster.html">Downgrade 3.4 Sharded Cluster to 3.2</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.2.html">Release Notes for MongoDB 3.2</a><ul><li class="toctree-l3"><a class="reference internal" href="3.2-changelog.html">3.2 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.2-compatibility.html">Compatibility Changes in MongoDB 3.2</a><ul><li class="toctree-l4"><a class="reference internal" href="3.2-javascript.html">JavaScript Changes in MongoDB 3.2</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="3.2-upgrade.html">Upgrade MongoDB to 3.2</a></li><li class="toctree-l3"><a class="reference internal" href="3.2-downgrade.html">Downgrade MongoDB from 3.2</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.0.html">Release Notes for MongoDB 3.0</a><ul><li class="toctree-l3"><a class="reference internal" href="3.0-changelog.html">3.0 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-compatibility.html">Compatibility Changes in MongoDB 3.0</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-upgrade.html">Upgrade MongoDB to 3.0</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-scram.html">Upgrade to SCRAM</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-downgrade.html">Downgrade MongoDB from 3.0</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.6.html">Release Notes for MongoDB 2.6</a><ul><li class="toctree-l3"><a class="reference internal" href="2.6-changelog.html">2.6 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-compatibility.html">Compatibility Changes in MongoDB 2.6</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-upgrade.html">Upgrade MongoDB to 2.6</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-upgrade-authorization.html">Upgrade User Authorization Data to 2.6 Format</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-downgrade.html">Downgrade MongoDB from 2.6</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.4.html">Release Notes for MongoDB 2.4</a><ul><li class="toctree-l3"><a class="reference internal" href="2.4-changelog.html">2.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-javascript.html">JavaScript Changes in MongoDB 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-upgrade.html">Upgrade MongoDB to 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-index-types.html">Compatibility and Index Type Changes in MongoDB 2.4</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.2.html">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/versioning.html">MongoDB Versioning</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../support.html">Technical Support</a></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
            <div class="alert alert-warning">
              <span class="alert-message">This version of the documentation is archived and no longer supported.</span>
            </div>
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="release-notes/3.4-changelog">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/v4.0/source/release-notes/3.4-changelog.txt" target="_blank" title="Edit release-notes/3.4-changelog.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../release-notes.html">Release Notes</a><span class="bcpoint"> > </span></li>
            
          <li><a href="3.4.html">Release Notes for MongoDB 3.4</a><span class="bcpoint"> > </span></li>
            <li>3.4 Changelog</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="changelog">
<h1>3.4 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id217">3.4.24 Changelog</a></li>
<li><a class="reference internal" href="#id3" id="id218">3.4.23 Changelog</a></li>
<li><a class="reference internal" href="#id10" id="id219">3.4.22 Changelog</a></li>
<li><a class="reference internal" href="#id18" id="id220">3.4.21 Changelog</a></li>
<li><a class="reference internal" href="#id26" id="id221">3.4.20 Changelog</a></li>
<li><a class="reference internal" href="#id34" id="id222">3.4.19 Changelog</a></li>
<li><a class="reference internal" href="#id45" id="id223">3.4.18 Changelog</a></li>
<li><a class="reference internal" href="#id55" id="id224">3.4.17 Changelog</a></li>
<li><a class="reference internal" href="#id65" id="id225">3.4.16 Changelog</a></li>
<li><a class="reference internal" href="#id75" id="id226">3.4.15 Changelog</a></li>
<li><a class="reference internal" href="#id85" id="id227">3.4.14 Changelog</a></li>
<li><a class="reference internal" href="#id95" id="id228">3.4.13 Changelog</a></li>
<li><a class="reference internal" href="#id99" id="id229">3.4.12 Changelog</a></li>
<li><a class="reference internal" href="#id107" id="id230">3.4.11 Changelog</a></li>
<li><a class="reference internal" href="#id118" id="id231">3.4.10 Changelog</a></li>
<li><a class="reference internal" href="#id129" id="id232">3.4.9 Changelog</a></li>
<li><a class="reference internal" href="#id139" id="id233">3.4.7 Changelog</a></li>
<li><a class="reference internal" href="#id148" id="id234">3.4.6 Changelog</a></li>
<li><a class="reference internal" href="#id158" id="id235">3.4.5 Changelog</a></li>
<li><a class="reference internal" href="#id167" id="id236">3.4.4 Changelog</a></li>
<li><a class="reference internal" href="#id180" id="id237">3.4.3 Changelog</a></li>
<li><a class="reference internal" href="#id191" id="id238">3.4.2 Changelog</a></li>
<li><a class="reference internal" href="#id204" id="id239">3.4.1 Changelog</a></li>
</ul>
</div>
<div class="section" id="id1">
<span id="id2"></span><h2>3.4.24 Changelog<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="security">
<h3>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37135">SERVER-37135</a> TLSVersionCounts needs to track and report TLS 1.3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38945">SERVER-38945</a> SSL performance regression</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43751">SERVER-43751</a> Recompute compressor manager message parameters</li>
</ul>
</div>
<div class="section" id="sharding">
<h3>Sharding<a class="headerlink" href="#sharding" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36315">SERVER-36315</a> After stepdown the CSRS dist lock manager keeps trying to unlock locks</p>
</div>
<div class="section" id="replication">
<h3>Replication<a class="headerlink" href="#replication" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37846">SERVER-37846</a> writeConcern can be satisfied with an arbiter if the write was committed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40355">SERVER-40355</a> rs.config that contains an _id greater than the number of nodes will crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43879">SERVER-43879</a> OplogInterfaceLocal::next should return an owned BSON obj</li>
</ul>
</div>
<div class="section" id="query">
<h3>Query<a class="headerlink" href="#query" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39019">SERVER-39019</a> $elemMatch $ne serialization is incorrect, doesn’t roundtrip</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43699">SERVER-43699</a> Find $mod can result in UB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44050">SERVER-44050</a> Arrays along ‘hashed’ index key path are not correctly rejected</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44571">SERVER-44571</a> Documents involved in SERVER-44050 corruption scenario cannot be updated or deleted after upgrade</li>
</ul>
</div>
<div class="section" id="build-and-packaging">
<h3>Build and Packaging<a class="headerlink" href="#build-and-packaging" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37772">SERVER-37772</a> Platform Support: Add Community &amp; Enterprise RHEL 8 x64</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43359">SERVER-43359</a> Add missing repo config for RHEL8</li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29020">SERVER-29020</a> Upgrade ASIO</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30269">SERVER-30269</a> Bump ASIO to capture bug fixes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38002">SERVER-38002</a> Upgrade Pcre to at least 8.42</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40669">SERVER-40669</a> install_compass should not explicitly use python3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43085">SERVER-43085</a> Regenerate all testing certificates with SHA-256 instead of SHA-1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43151">SERVER-43151</a> Error in aggregation assertion at value.cpp:1368</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44064">SERVER-44064</a> Perform explicit cast on MessageCompressorManager parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44140">SERVER-44140</a> Use signal processing without DSI</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44312">SERVER-44312</a> Specify evergreen auth in performance tests for signal processing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44611">SERVER-44611</a> Fix evergreen.yml in v3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44651">SERVER-44651</a> Update signal processing version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44993">SERVER-44993</a> ssl_count_protocols.js should not evaluate test most protocols on OS X on 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4956">WT-4956</a> Handle the case where 4 billion updates are made to a page without eviction</li>
</ul>
</div>
</div>
<div class="section" id="id3">
<span id="id4"></span><h2>3.4.23 Changelog<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>Sharding<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36394">SERVER-36394</a> mongos should reset chunk size tracking information when autosplit = false or splitvector returns too few split points</p>
</div>
<div class="section" id="id6">
<h3>Replication<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42055">SERVER-42055</a> Only acquire a collection IX lock to write the lastVote document</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42653">SERVER-42653</a> Always waitUntilDurable when writing lastVote document</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Query<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41829">SERVER-41829</a> findAndModify ignores filter expressions that are not objects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43074">SERVER-43074</a> Do not use a global variable to encode ‘multikeyPath’ information when writing out catalog documents</li>
</ul>
</div>
<div class="section" id="storage">
<h3>Storage<a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42652">SERVER-42652</a> Fix issue with rename collection</p>
</div>
<div class="section" id="operations">
<h3>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42257">SERVER-42257</a> Add new shell startup banner</p>
</div>
<div class="section" id="id8">
<h3>Build and Packaging<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42172">SERVER-42172</a> Add Ubuntu 14.04 to v3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42603">SERVER-42603</a> Recent service file change may cause cyclic dependencies</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Internals<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39928">SERVER-39928</a> Stop testing PyMongo with Python 2.6 in drivers-nightly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42343">SERVER-42343</a> WiredTigerLAS.wt grows when lagged node is in maintenance mode</li>
</ul>
</div>
</div>
<div class="section" id="id10">
<span id="id11"></span><h2>3.4.22 Changelog<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id12">
<h3>Security<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40393">SERVER-40393</a> Disable SSL_MODE_RELEASE_BUFFERS in ASIO</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41069">SERVER-41069</a> Ability to disable authorization via x509 extensions</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Replication<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40336">SERVER-40336</a> ReplicationCoordinatorImpl::_random isn’t robust to replica set members being started at the same time</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41036">SERVER-41036</a> Make ReadWriteAbility::_canAcceptNonLocalWrites AtomicWord&lt;bool&gt; to prevent torn reads.</li>
</ul>
</div>
<div class="section" id="id14">
<h3>Query<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41863">SERVER-41863</a> Make sleep command check that server clock has advanced before returning</p>
</div>
<div class="section" id="id15">
<h3>Storage<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-17010">SERVER-17010</a> Reduce file handle usage in File based Sorter</p>
</div>
<div class="section" id="id16">
<h3>Build and Packaging<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36043">SERVER-36043</a> systemd unit for mongod starts before multi.user target</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40242">SERVER-40242</a> Update banner inclusions for vendored tools</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40563">SERVER-40563</a> Our init scripts check /proc/[pid]/stat should validate that <cite>(${procname})</cite> is the process’ command name.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41424">SERVER-41424</a> scons should fail early if invoked with wrong Python interpreter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41443">SERVER-41443</a> Update Enterprise License</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42089">SERVER-42089</a> Platform Support: Remove Enterprise RHEL 6.7 zSeries from 3.4 and 3.6</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42172">SERVER-42172</a> Add Ubuntu 14.04 to v3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42233">SERVER-42233</a> Bump Windows package dependencies</li>
</ul>
</div>
<div class="section" id="id17">
<h3>Internals<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20983">SERVER-20983</a> Add requirements.txt for resmoke.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21538">SERVER-21538</a> Choose clock source for reading current time dynamically at startup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28421">SERVER-28421</a> Implement ClockSource::waitForConditionUntil()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37984">SERVER-37984</a> Upgrade yaml-cpp &gt;= 0.6.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38098">SERVER-38098</a> MongoDB’s yaml-cpp is rejected by latest MSVC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38303">SERVER-38303</a> Temporarily handle ipv6 failures due to s390x machine without ipv6 enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38984">SERVER-38984</a> Attach IDs to users</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39642">SERVER-39642</a> Decrement egress counter when scoped connection not returned to the pool</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40923">SERVER-40923</a> Remove npm test command from “run jstestfuzz” Evergreen function</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40924">SERVER-40924</a> Add Evergreen task to sanity check fuzzer can parse JavaScript tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41148">SERVER-41148</a> FTDC is calling boost::filesystem without passing an error_code parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41401">SERVER-41401</a> patch_files.txt doesn’t distinguish between enterprise and community files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41546">SERVER-41546</a> SysV init scripts should verify PIDfile exists instead of failing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41680">SERVER-41680</a> Propagate ${branch_name} Evergreen expansion to fuzzer invocation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41789">SERVER-41789</a> sys-perf: Use bootstrap.overrides in bootstrap.yml config file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41967">SERVER-41967</a> Symlink /data to Z instead of C</li>
</ul>
</div>
</div>
<div class="section" id="id18">
<span id="id19"></span><h2>3.4.21 Changelog<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id20">
<h3>Security<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40393">SERVER-40393</a> Disable SSL_MODE_RELEASE_BUFFERS in ASIO</p>
</div>
<div class="section" id="id21">
<h3>Replication<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40628">SERVER-40628</a> Initial sync could fail under replsetprio1.js settings</p>
</div>
<div class="section" id="aggregation">
<h3>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39487">SERVER-39487</a> Aggregation operator $sqrt output for NumberDecimal is the same as $exp</p>
</div>
<div class="section" id="id22">
<h3>Storage<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41213">SERVER-41213</a> Unique background index builds may produce inconsistent keys</p>
</div>
<div class="section" id="id23">
<h3>Operations<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39820">SERVER-39820</a> Add the client IP address to the successful authentication log message</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40259">SERVER-40259</a> Include third party notices for ASIO and variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40866">SERVER-40866</a> Use JSON.stringify() to serialize string in tojson()</li>
</ul>
</div>
<div class="section" id="id24">
<h3>Build and Packaging<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37765">SERVER-37765</a> Platform Support: Remove Ubuntu 14.04</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37774">SERVER-37774</a> Platform Support: Remove Enterprise Ubuntu 16.04 PPCLE</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40491">SERVER-40491</a> Update Debian 8 image for package test</li>
</ul>
</div>
<div class="section" id="id25">
<h3>Internals<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20983">SERVER-20983</a> Add requirements.txt for resmoke.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36750">SERVER-36750</a> blacklist memory.js on ppc64le in memory variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39056">SERVER-39056</a> Further refine readWriteAnyDatabase</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40165">SERVER-40165</a> generate wtimeout deadlines with the precise clock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40514">SERVER-40514</a> Race between BufferedHandler.close() and BufferedHandler.flush() leads to resmoke.py hanging with –log=buildlogger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40922">SERVER-40922</a> Add npm install command to “run jstestfuzz” Evergreen function</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41088">SERVER-41088</a> Propagate Evergreen order field to Cedar for system perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4615">WT-4615</a> Sync backup file before returning backup cursor</li>
</ul>
</div>
</div>
<div class="section" id="id26">
<span id="id27"></span><h2>3.4.20 Changelog<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id28">
<h3>Sharding<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36901">SERVER-36901</a> sh.status() “Last reported error:” is actually 5th Latest error message</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39030">SERVER-39030</a> Wrong info logged by splitVector</li>
</ul>
</div>
<div class="section" id="id29">
<h3>Replication<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28053">SERVER-28053</a> allow network errors when turning off rollbackHangBeforeStart failpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39758">SERVER-39758</a> double_rollback.js should reliably wait for node 0 to complete rollback</li>
</ul>
</div>
<div class="section" id="id30">
<h3>Query<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26463">SERVER-26463</a> Increase ttl_capped.js timeout from 5 to 60 seconds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38793">SERVER-38793</a> nonrepairable feature tracker for collation does not get set for createCollection</li>
</ul>
</div>
<div class="section" id="id31">
<h3>Aggregation<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39166">SERVER-39166</a> $graphLookup should force a pipeline to split in sharded cluster</p>
</div>
<div class="section" id="id32">
<h3>Storage<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39723">SERVER-39723</a> Change listIndexes command behavior to show in-progress index builds</p>
</div>
<div class="section" id="tools">
<h3>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2030">TOOLS-2030</a> mongodump does not dump system.js collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2109">TOOLS-2109</a> Build Tools with Go 1.11</li>
</ul>
</div>
<div class="section" id="id33">
<h3>Internals<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38954">SERVER-38954</a> Increase query execution time for the test case in max_time_ms.js that expects it to hit the time limit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39058">SERVER-39058</a> Synchronize user set modification in AuthorizationSession with Client</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39331">SERVER-39331</a> Remove StressTest from network_interface_asio_integration_test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39746">SERVER-39746</a> System-Performance: Write project in runtime.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1906">TOOLS-1906</a> Ignore mongorestore error “x509 certificate routines:X509_STORE_add_cert:cert already in hash table”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2158">TOOLS-2158</a> mongodump failing on Windows with  “error opening system CA store: Access is denied.”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2167">TOOLS-2167</a> Add CGO flags for building on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2168">TOOLS-2168</a> Add CGO flags for building on MacOS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2210">TOOLS-2210</a> Build with tools with Address Space Layout Randomised (ASLR) flags enabled</li>
</ul>
</div>
</div>
<div class="section" id="id34">
<span id="id35"></span><h2>3.4.19 Changelog<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id36">
<h3>Sharding<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28716">SERVER-28716</a> call fsync after setup before calling collStats/dbStats in jstests/sharding/stats.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30768">SERVER-30768</a> Primary queries using maxTimeMS cause temporary shard write unavailability if ExceededTimeLimit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32568">SERVER-32568</a> The <cite>migration_sets_fromMigrate_flag.js</cite> test is not compatible with sharding continuous stepdown suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37496">SERVER-37496</a> The balancer shouldn’t register a shutdown task after the process is multithreaded</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37616">SERVER-37616</a> Implement tuneable batch size for the rangedeleter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37902">SERVER-37902</a> recovering_slaveok.js should assert all writes it makes succeed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37932">SERVER-37932</a> Remove erroneous part of coll_epoch_test1.js that attempts to test something that shouldn’t work, but due to a bug in the test, the test passes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38062">SERVER-38062</a> Add assert.commandWorked() to commands in read_pref_cmd.js</li>
</ul>
</div>
<div class="section" id="id37">
<h3>Replication<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22766">SERVER-22766</a> Dynamic oplog sizing for WiredTiger nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35608">SERVER-35608</a> Invariant that term from lastAppliedOptime is never greater than our current term</li>
</ul>
</div>
<div class="section" id="id38">
<h3>Query<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-13946">SERVER-13946</a> Consider putting skip stages below fetch stages</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35455">SERVER-35455</a> QueryPlannerAccess should hold owned pointers by unique_ptr rather than raw pointer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37132">SERVER-37132</a> Negation of $in with regex can incorrectly plan from the cache, leading to missing query results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38070">SERVER-38070</a> Infinite loop in aggregation expression</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38601">SERVER-38601</a> Add regression test for memory leak during planning</li>
</ul>
</div>
<div class="section" id="id39">
<h3>Aggregation<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37182">SERVER-37182</a> Different values when referencing whole object vs. a field of that object after $arrayToObject</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37750">SERVER-37750</a> Optimized $sample stage does not yield</li>
</ul>
</div>
<div class="section" id="id40">
<h3>Storage<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30151">SERVER-30151</a> Size specification for oplog resizing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36968">SERVER-36968</a> Rebuild interrupted indexes before checking AuthZN index presence</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37749">SERVER-37749</a> replSetResizeOplog command does not validate argument</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38434">SERVER-38434</a> queryableBackupMode and wiredTigerEngineConfigString flags are incompatible</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38501">SERVER-38501</a> swap out new ActionType for replSetResizeOplog command on 3.4</li>
</ul>
</div>
<div class="section" id="id41">
<h3>Operations<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33469">SERVER-33469</a> Make syslog log lines consistent with mongod log lines</p>
</div>
<div class="section" id="id42">
<h3>Build and Packaging<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38726">SERVER-38726</a> Add stable toolchain variables files</p>
</div>
<div class="section" id="id43">
<h3>Tools<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1709">TOOLS-1709</a> Set build version and git revision using -ldflags</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2149">TOOLS-2149</a> Configure build outside Evergreen</li>
</ul>
</div>
<div class="section" id="id44">
<h3>Internals<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-18985">SERVER-18985</a> setParameter should log at level 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23818">SERVER-23818</a> Include Evergreen task id in metadata sent to logkeeper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36250">SERVER-36250</a> Add support for optionally logging specific negotiated TLS versions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37120">SERVER-37120</a> Turn off linux-replSet-initialsync-logkeeper Build Variant for 3.4 and 3.6 branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37647">SERVER-37647</a> Validation hook sets FCV to 3.4 no matter what version it currently is</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37913">SERVER-37913</a> coll_epoch_test1.js does not wait for the config server to replicate after dropping collections.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1566">TOOLS-1566</a> Should not include “ssl” tag for Linux 64 build</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1742">TOOLS-1742</a> import cycle between util and testutil</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1996">TOOLS-1996</a> Allow building tools from inside an ordinary GOPATH</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2155">TOOLS-2155</a> Set version/git-commit via ldflags in Evergreen and Server Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2157">TOOLS-2157</a> Update server vendoring</li>
</ul>
</div>
</div>
<div class="section" id="id45">
<span id="id46"></span><h2>3.4.18 Changelog<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id47">
<h3>Security<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35418">SERVER-35418</a> Allow specifying CAs for incoming and outgoing connections separately</p>
</div>
<div class="section" id="id48">
<h3>Sharding<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26915">SERVER-26915</a> jumbo1.js auto-balancing is too slow in the stepdown suite</p>
</div>
<div class="section" id="id49">
<h3>Replication<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25175">SERVER-25175</a> listIndexes shouldn’t include in-progress background indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35200">SERVER-35200</a> Speed up failure detection in the OplogFetcher during steady state replication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36978">SERVER-36978</a> TaskRunner must ensure Client is initialized for thread before running tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37010">SERVER-37010</a> Prevent unexpected elections in initial_sync4.js and initial_sync_rename_collection*.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37152">SERVER-37152</a> Increase write concern timeouts for writes expected to succeed in tags.js</li>
</ul>
</div>
<div class="section" id="id50">
<h3>Query<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28251">SERVER-28251</a> Fix race condition in index_killop.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36435">SERVER-36435</a> Increase maxTimeMS timeout in awaitdata_getmore_cmd.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36944">SERVER-36944</a> applyOps does not permit unknown field names when creating a v:1 index</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37058">SERVER-37058</a> Update with numeric field names inside an array can cause validation to fail</li>
</ul>
</div>
<div class="section" id="id51">
<h3>Storage<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37333">SERVER-37333</a> [3.4] applyOps does not validate background index spec for system.indexes inserts</p>
</div>
<div class="section" id="id52">
<h3>Operations<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34864">SERVER-34864</a> String-valued fields should not participate in schema change detection in ftdc</p>
</div>
<div class="section" id="id53">
<h3>Tools<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2102">TOOLS-2102</a> Mongorestore does not check for errors decoding the oplog.bson file</p>
</div>
<div class="section" id="id54">
<h3>Internals<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28095">SERVER-28095</a> Clearing the dmesg buffer should not errexit in evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36718">SERVER-36718</a> Validation hook should upgrade before validating index consistency</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36747">SERVER-36747</a> Add a small time delay to “jstests/ssl/ssl_client_certificate_warning_suppression.js”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36756">SERVER-36756</a> Log the githash of the 10gen/jstestfuzz repository when the fuzzer’s self-tests fail</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36919">SERVER-36919</a> Add server setParameter tlsWithholdClientCertificate (bool)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36987">SERVER-36987</a> ChunkVersion::minorVersion truncates to 16 bit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37041">SERVER-37041</a> Update eval blacklists on older branches to account for differences in tests across branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37064">SERVER-37064</a> Wrap “mongod_flags” onto multiple lines for readability</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37127">SERVER-37127</a> Update baseline comparison for sys-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37130">SERVER-37130</a> Add TLS version counting to mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37367">SERVER-37367</a> Notification::waitFor is not interruptible in 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37393">SERVER-37393</a> Fix destructor race in <cite>ReplicaSetMonitorManager</cite></li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37424">SERVER-37424</a> Sys-perf: change v4.0 branch batch time to once a week</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37425">SERVER-37425</a> Longevity tests – increase batch time to once a year</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37437">SERVER-37437</a> mongo longevity tests failing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37647">SERVER-37647</a> Validation hook sets FCV to 3.4 no matter what version it currently is</li>
</ul>
</div>
</div>
<div class="section" id="id55">
<span id="id56"></span><h2>3.4.17 Changelog<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id57">
<h3>Security<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33857">SERVER-33857</a> Missing log redaction due to confusion with Command::redactForLogging()</p>
</div>
<div class="section" id="id58">
<h3>Sharding<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27599">SERVER-27599</a> Sharding tests should not rely on the order of entries returned when querying the config.shards collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27725">SERVER-27725</a> Use batch insert when migrating chunks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29702">SERVER-29702</a> add assert.commandWorked() around addShard in shard_insert_getlasterror_w2.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33237">SERVER-33237</a> Optimize the Range Deleter speed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34897">SERVER-34897</a> Introduce parameter to control whether MongoS should automatically retry failed <cite>find</cite> commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36132">SERVER-36132</a> Invariant that chunk migration is actually reflected in the metadata after successful commit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36232">SERVER-36232</a> Refresh after chunk migration commit may not see the committed metadata</li>
</ul>
</div>
<div class="section" id="id59">
<h3>Replication<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32148">SERVER-32148</a> make NamespaceNotFound an acceptable error for emptyCapped and convertToCapped</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32647">SERVER-32647</a> Retry connecting to replica set when given a seed node in Jepsen tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34414">SERVER-34414</a> Creating a role with buildsIndexes:false node hits an fassert</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34682">SERVER-34682</a> Old primary should vote yes and store the last vote after stepdown on learning of a higher term</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35962">SERVER-35962</a> buildindexes_false_with_system_indexes.js restarts nodes and should be tagged [requires_persistence]</li>
</ul>
</div>
<div class="section" id="id60">
<h3>Query<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26387">SERVER-26387</a> Replace noPassthrough/indexbg2.js with test that uses failpoints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34846">SERVER-34846</a> Covered index with collated field returns incorrect result when collation not involved in match or sort</li>
</ul>
</div>
<div class="section" id="javascript">
<h3>JavaScript<a class="headerlink" href="#javascript" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35986">SERVER-35986</a> Stop running eval command in parallel suite on older branches</p>
</div>
<div class="section" id="id61">
<h3>Storage<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34602">SERVER-34602</a> convertToCapped collection drop does not commit WUOW on 3.4</p>
</div>
<div class="section" id="id62">
<h3>Operations<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34141">SERVER-34141</a> Inconsistent appName in Shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34160">SERVER-34160</a> Mongo client run buffered command when terminated.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36010">SERVER-36010</a> Change log messages for Windows stacktraces to use error() or severe() rather than log()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36479">SERVER-36479</a> Log redaction does not show planSummary when slow queries are logged</li>
</ul>
</div>
<div class="section" id="id63">
<h3>Build and Packaging<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36884">SERVER-36884</a> Update curator version on stable branches</p>
</div>
<div class="section" id="id64">
<h3>Internals<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29008">SERVER-29008</a> Define TestData.numTestClients property so fuzzer knows there are concurrent clients</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31434">SERVER-31434</a> Give mongo::Value at least pointer alignment</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34558">SERVER-34558</a> Add SSL_version to client metadata logging</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34614">SERVER-34614</a> parallelTester should use a different connection for each new test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34735">SERVER-34735</a> Extract structured names from X.509 certificates</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34793">SERVER-34793</a> Add call to BF suggestion server on failed task completion</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35100">SERVER-35100</a> Do not log a Python stack trace when a hook dynamic test fails</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35668">SERVER-35668</a> Avoid moving concurrency tests to small instances on arm64</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35858">SERVER-35858</a> Error in call BF Suggestion service</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35861">SERVER-35861</a> Remove call to dashboard_gen.py in perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36001">SERVER-36001</a> Add requires_document_locking tag to noPassthrough/indexbg2.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36111">SERVER-36111</a> Bug in job.py related to functionality for archiving data files in 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36149">SERVER-36149</a> Fix privileges on setFCV virtual namespace</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36462">SERVER-36462</a> Add atlas user to runtime_secret.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1991">TOOLS-1991</a> Build tools with Go 1.10.1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2066">TOOLS-2066</a> MongoDB 3.4’s vendored github.com/10gen/openssl doesn’t define FIPS functions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3637">WT-3637</a> Fix a heap use after free from evicting of a page that just split.</li>
</ul>
</div>
</div>
<div class="section" id="id65">
<span id="id66"></span><h2>3.4.16 Changelog<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id67">
<h3>Security<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35322">SERVER-35322</a> external_auth tests should use unique kerberos credentials cache per test</p>
</div>
<div class="section" id="id68">
<h3>Sharding<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25746">SERVER-25746</a> Store advisoryHostFQDNs data in config.mongos collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30050">SERVER-30050</a> top_chunk_autosplit.js should use w: majority when updating balancer settings</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34644">SERVER-34644</a> Disable <cite>DollarPrefixedFieldName</cite> checks for moveChunk/mergeChunks</li>
</ul>
</div>
<div class="section" id="id69">
<h3>Replication<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-5461">SERVER-5461</a> Add syncSourceHost field to replSetGetStatus output</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30947">SERVER-30947</a> checkOplogs function should dump more oplog entries on failure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31165">SERVER-31165</a> Print mismatched oplog entries in checkReplOplogs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31995">SERVER-31995</a> Logged initial sync statistics may exceed 16mb causing fassert</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32935">SERVER-32935</a> improve exception handling in SyncTail::oplogApplication()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34549">SERVER-34549</a> Tests refer to ReplSetTest.kDefaultTimeoutMS, which is undefined</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34661">SERVER-34661</a> Return early when the vote request response has an error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34758">SERVER-34758</a> replSetGetStatus can deadlock with initialSyncer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35437">SERVER-35437</a> Wait for secondary state after stepdown command in multi_rs.js</li>
</ul>
</div>
<div class="section" id="id70">
<h3>Query<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35693">SERVER-35693</a> Parsing of $in takes quadratic time due to O(n^2) boost::flat_set constructor</p>
</div>
<div class="section" id="id71">
<h3>Storage<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34863">SERVER-34863</a> Disable LSM testing on 3.2, 3.4 and 3.6 branches</p>
</div>
<div class="section" id="id72">
<h3>Operations<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27230">SERVER-27230</a> Poor compression of diagnostic data when replica set is unhealthy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33546">SERVER-33546</a> Add numeric syncing field to replSetGetStatus members array</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34159">SERVER-34159</a> Fix migration_destination_manager logging</li>
</ul>
</div>
<div class="section" id="id73">
<h3>Build and Packaging<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32999">SERVER-32999</a> Platform Support: remove Debian 7</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33395">SERVER-33395</a> PPC64 little endian altivec optimizations are broken on newer gcc</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35210">SERVER-35210</a> curator release versions should be populated from the project expansions</li>
</ul>
</div>
<div class="section" id="id74">
<h3>Internals<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26884">SERVER-26884</a> Support archiving data files in Evergreen on test failure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27410">SERVER-27410</a> Make the lint task required by compile on Enterprise RHEL 6.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29301">SERVER-29301</a> Upgrade MozJS to ESR 45.9.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29359">SERVER-29359</a> Enable SO_KEEPALIVE on egress server connections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30290">SERVER-30290</a> Use unique paths in ftdc_setdirectory.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30557">SERVER-30557</a> Make max_time_ms.js more robust</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31400">SERVER-31400</a> Record Linux netstat metrics in ftdc</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31562">SERVER-31562</a> dump replica set oplogs at the end of every failed test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32688">SERVER-32688</a> FSM replication suites should give secondaries zero votes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32762">SERVER-32762</a> Module to upload files to S3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32763">SERVER-32763</a> Create archive.json and associate to task in evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32852">SERVER-32852</a> Capture FTDC data on failures of the concurrency suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32898">SERVER-32898</a> Create unit test for resmoke module archival.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33009">SERVER-33009</a> AWS credential profiles in evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33144">SERVER-33144</a> Support archiving data files in Evergreen on test failure - Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33193">SERVER-33193</a> Enable test failure archive for specific tasks and hooks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33346">SERVER-33346</a> Pin a specific version of boto3 for use in etc/evergreen.yml scripts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33512">SERVER-33512</a> Add PeriodicKillSecondaries hook to archive list</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34371">SERVER-34371</a> Stop ignoring errors when the test fixture fails to delete data files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34374">SERVER-34374</a> resmoke.py uses bytestrings for representing pathnames, leading to silently failing to clear the dbpath on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34380">SERVER-34380</a> system_perf.yml: Remove the compile_proxy task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34540">SERVER-34540</a> Remove sleeptest from dbtests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34624">SERVER-34624</a> Remove C++ 14 builder from 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34742">SERVER-34742</a> Stop running ssl_cert_password.js on OS X</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34823">SERVER-34823</a> Thread name and connection number are not synchronized in TransportLayerLegacy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34835">SERVER-34835</a> Fix shard_does_not_hang_on_bad_config_server.js to accept either HostUnreachable or ExceededTimeLimit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34851">SERVER-34851</a> Disallow index selection for identical min &amp; max values on find</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34865">SERVER-34865</a> Test archival fails when temporary files are removed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34888">SERVER-34888</a> Track status of SSLPeerInfo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34950">SERVER-34950</a> Use new sys-perf baseline 3.4.14-Baseline</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35051">SERVER-35051</a> Resmoke should stop the balancer before shutting down sharded clusters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35071">SERVER-35071</a> Split MMAPv1 tasks into separate variants in sys-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35108">SERVER-35108</a> Enable signal processing in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35155">SERVER-35155</a> Fix jstests/ssl/x509_invalid.js using explicit X509 client names</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35207">SERVER-35207</a> Don’t use json.get_history in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35264">SERVER-35264</a> compile fails on sys-perf-3.4 // SERVER-34380</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35610">SERVER-35610</a> Refine LDAP options parsing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3557">WT-3557</a> Make test/format ignore unknown keywords</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3710">WT-3710</a> Fix a race condition between concurrent page splits</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3994">WT-3994</a> Enhance WiredTiger Jenkins pull request tester for old branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4032">WT-4032</a> parent pages can be evicted while being split.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4037">WT-4037</a> WT_REF structures freed while still in use</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4045">WT-4045</a> Don’t retry fsync calls after EIO failure</li>
</ul>
</div>
</div>
<div class="section" id="id75">
<span id="id76"></span><h2>3.4.15 Changelog<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id77">
<h3>Security<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31893">SERVER-31893</a> Explicitly define timeout for synchronous LDAP calls</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34193">SERVER-34193</a> Limit recursive definition ASN.1 types with OpenSSL update</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34477">SERVER-34477</a> Coverity analysis defect 103475: Invalid iterator comparison</li>
</ul>
</div>
<div class="section" id="id78">
<h3>Sharding<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-16802">SERVER-16802</a> Order of balancer chunk moves depends on order of config.collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22553">SERVER-22553</a> mongos_shard_failure_tolerance.js should not rely on order of shard ids</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27941">SERVER-27941</a> Remove the shardVersion check when entering the critical section.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28670">SERVER-28670</a> Add sharding metadata refresh metrics section to serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28981">SERVER-28981</a> Sharding balancer prefers shards in a specific order when moving chunks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32885">SERVER-32885</a> Overlap chunk clone application on the donor with fetching documents from the recipient</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34508">SERVER-34508</a> Prevent race condition in Migration Destination Manager from swallowing an exception</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34571">SERVER-34571</a> Invariant fails in destructor of MigrationChunkClonerSourceLegacy on shutdown</li>
</ul>
</div>
<div class="section" id="id79">
<h3>Replication<a class="headerlink" href="#id79" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29949">SERVER-29949</a> InitialSyncerResetsOptimesOnNewAttempt unit test should set optime before starting initial syncer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33026">SERVER-33026</a> SyncSourceFeedback request doesn’t have a timeout</li>
</ul>
</div>
<div class="section" id="id80">
<h3>Storage<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23935">SERVER-23935</a> Disable oplog sampling in queryable backup mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32453">SERVER-32453</a> WTKVEngine::getAllIdents mishandles cursor-&gt;next return code.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33854">SERVER-33854</a> Fix applyOps field handling</li>
</ul>
<div class="section" id="wiredtiger">
<h4>WiredTiger<a class="headerlink" href="#wiredtiger" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20056">SERVER-20056</a> Log a startup warning if wiredTigerCacheSizeGB is &gt; 80% of RAM</li>
</ul>
</div>
</div>
<div class="section" id="id81">
<h3>Operations<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-12644">SERVER-12644</a> Move note about noprealloc hurting performance to startup warnings</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28369">SERVER-28369</a> Give mongoldap a ‘debug’ mode</li>
</ul>
</div>
<div class="section" id="id82">
<h3>Build and Packaging<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21317">SERVER-21317</a> Better fallback for builds with no version.json and no git repo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25691">SERVER-25691</a> Break out unit test compilation and run in its own task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27483">SERVER-27483</a> Avoid stripping debug symbols from C++ unit tests in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31535">SERVER-31535</a> Platform Support: remove Ubuntu 12.04 builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31809">SERVER-31809</a> Start using toolchain python on macOS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32923">SERVER-32923</a> Platform Support: remove SLES11 builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34149">SERVER-34149</a> Upgrade zlib to latest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34250">SERVER-34250</a> Update Tools builders in Evergreen to match upstream</li>
</ul>
</div>
<div class="section" id="id83">
<h3>Tools<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-17">TOOLS-17</a> mongodump –oplog should record the end oplog entry before backing up the oplog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1706">TOOLS-1706</a> mongoreplay cannot safely terminate on one core</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1779">TOOLS-1779</a> stop building tools on solaris on all branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1780">TOOLS-1780</a> Build tools with Go 1.8.x</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1948">TOOLS-1948</a> Use Go-native TLS dialer on platforms with openssl 0.9.x</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1968">TOOLS-1968</a> Backport - Need to update spacemonkeygo/openssl fork to support newer OpenSSL libraries</li>
</ul>
</div>
<div class="section" id="id84">
<h3>Internals<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21630">SERVER-21630</a> Expand resmoke’s CheckReplDBHash support to config servers and sharded replica sets</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24480">SERVER-24480</a> The Validate hook should run after CheckReplDBHash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24759">SERVER-24759</a> Run resmoke.py collection validation on the config servers</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25771">SERVER-25771</a> valgrind fails with boost::math::erfc_inv&lt;long double&gt;(long double, long double): Overflow Error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27351">SERVER-27351</a> Deleted files cause lint failure on evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27529">SERVER-27529</a> scons msi target is failing do to missing dependencies</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27643">SERVER-27643</a> Stack locator can return invalid stack size when stack size ulimit is unlimited</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28989">SERVER-28989</a> Avoid dropping dummy database in ReplSetTest.prototype.checkReplicaSet()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30857">SERVER-30857</a> when i try to launch ./mongo instance its crash right away even it show on other hand connection accepted from 127.0.0.1:54008 #1 (1 connection now open)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30900">SERVER-30900</a> remove collMod writeConcern argument from ReplSetTest.checkReplicaSet()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31128">SERVER-31128</a> run_validate_collections hook doesn’t check secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31441">SERVER-31441</a> Make run_validate_collections.js validate all nodes in replica set in parallel</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31468">SERVER-31468</a> replSets/startParallelShell.js should wait for its parallel shells to exit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33068">SERVER-33068</a> run_check_repl_dbhash.js hook exits without actually running dbhash on a replica set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33329">SERVER-33329</a> Server and Shell do not emit TLS “protocol_version” alert messages</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33398">SERVER-33398</a> Add the new finer grained sys-perf tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33484">SERVER-33484</a> Code coverage can’t distinguish between files with identical names</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33670">SERVER-33670</a> Build mongo binaries with -ssl compile flag in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33734">SERVER-33734</a> Improve jsTestLog filterability</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33805">SERVER-33805</a> Change Jepsen tasks running in Evergreen to use mongobridge</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33843">SERVER-33843</a> PeriodicKillSecondaries hook can run validate while a secondary is still applying operations</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33848">SERVER-33848</a> Update compile flags for sys-perf and performance projects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33935">SERVER-33935</a> utils_auth.js should support connecting to clusters running with SSL</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33970">SERVER-33970</a> New baselines for mongo-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34116">SERVER-34116</a> resmoke.py is silently not running non-passthrough tests on the 3.4 branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34140">SERVER-34140</a> remove multiple distro specification for single tasks in evergreen configs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34213">SERVER-34213</a> testshard1.js should use _ids of [0, nItems -1] instead of [1, nItems]</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34237">SERVER-34237</a> Expose means for shell to disable TLS 1.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34605">SERVER-34605</a> Change Jepsen tasks to run on the ubuntu1604-build distro in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34667">SERVER-34667</a> data_consistency_checks.js incorrectly assumes that the config.mongos collection always exists</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1665">TOOLS-1665</a> Mongotools may block forever on dead connections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1704">TOOLS-1704</a> Update mongo-tools projects to use macos-1012 distro instead of osx-1010</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1941">TOOLS-1941</a> Tools qa-tests often timeout, particularly on server latests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1978">TOOLS-1978</a> tools fail eslint testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2003">TOOLS-2003</a> Drop SUSE11 from Evergreen builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2008">TOOLS-2008</a> Tests fail on v3.4-master branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3972">WT-3972</a> Allow more than 64K cursors to be open on a data source simultaneously</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3975">WT-3975</a> arg format mismatch after rwlock changes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3994">WT-3994</a> Enhance WiredTiger Jenkins pull request tester for old branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4032">WT-4032</a> parent pages can be evicted while being split.</li>
</ul>
</div>
</div>
<div class="section" id="id85">
<span id="id86"></span><h2>3.4.14 Changelog<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id87">
<h3>Security<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32933">SERVER-32933</a> Allow mongod to start when unable to reach LDAP server</p>
</div>
<div class="section" id="id88">
<h3>Sharding<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29812">SERVER-29812</a> RangeDeleter unnecessarily waits for ‘majority’ write concern</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31979">SERVER-31979</a> Chunk migration statistics are not recorded in the <cite>moveChunk.commit</cite> changelog entries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32886">SERVER-32886</a> Unnecessary sleeps during chunk migration</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33228">SERVER-33228</a> Remove the half-implemented and unused <cite>CollectionRangeDeleter</cite> from the 3.4 codebase</li>
</ul>
</div>
<div class="section" id="id89">
<h3>Replication<a class="headerlink" href="#id89" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28151">SERVER-28151</a> Authentication database should be synced first during an initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31399">SERVER-31399</a> repl.apply.batches.totalMillis does not record the time spent applying batches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31671">SERVER-31671</a> Cancel running elections if the term changes after writing my last vote</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33448">SERVER-33448</a> Relax time diff requirements in apply_batches_totalMillis.js</li>
</ul>
</div>
<div class="section" id="id90">
<h3>Query<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31161">SERVER-31161</a> Index created through applyOps command should not inherit collection default collation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33092">SERVER-33092</a> elemMatchProjection.js incorrectly assumes that shell generates monotonically increasing _id values</li>
</ul>
</div>
<div class="section" id="id91">
<h3>Storage<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28594">SERVER-28594</a> non-atomic applyOps should log each individual op</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32533">SERVER-32533</a> In oplog truncate with WT, don’t use a start key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33122">SERVER-33122</a> add option to disable cursor caching to speed up dropDatabase and collection drop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33233">SERVER-33233</a> Don’t stall ftdc due to running out of tickets</li>
</ul>
</div>
<div class="section" id="id92">
<h3>Operations<a class="headerlink" href="#id92" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30114">SERVER-30114</a> Monitor cumulative time spent in tcmalloc spin lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33227">SERVER-33227</a> Using the method <cite>connect</cite> in a script will as a side effect update global <cite>db</cite>.</li>
</ul>
</div>
<div class="section" id="id93">
<h3>Build and Packaging<a class="headerlink" href="#id93" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33406">SERVER-33406</a> Reduce concurrency for s390x compile and compile_all builds to avoid OOM failures</p>
</div>
<div class="section" id="id94">
<h3>Internals<a class="headerlink" href="#id94" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23420">SERVER-23420</a> Remove use of GNU extensions in parse_number_test.cpp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28495">SERVER-28495</a> FTDC for MongoS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29938">SERVER-29938</a> Refactor FTDC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30158">SERVER-30158</a> FTDC starts too early in mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30850">SERVER-30850</a> startParallelShell cannot be used in a shell started with a replica set connection string</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31222">SERVER-31222</a> JSFiles source member should not be a reference</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32241">SERVER-32241</a> applyOps reports success even when a nested applyOps fails.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32522">SERVER-32522</a> set_read_and_write_concerns.js treats mapReduce “out” field like aggregation’s $out stage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32583">SERVER-32583</a> Sys-perf update bootstrap variables to use proper ConfigDict Names</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32691">SERVER-32691</a> Create passthrough for w=”majority” with 2-node replica set to address lost test coverage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33142">SERVER-33142</a> Experiment with disabling cluster reuse in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33147">SERVER-33147</a> Limit the -j/num_jobs_available for high core ARM CI servers</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33236">SERVER-33236</a> Update perf.yml to use ssh form of git clone</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33572">SERVER-33572</a> Provide a bounded, interruptible, thread safe, producer consumer queue</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33751">SERVER-33751</a> Auth when connecting to an existing cluster in ReplSetTest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33760">SERVER-33760</a> Backport WithLock to 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3245">WT-3245</a> Avoid hangs on shutdown when a utility thread encounters an error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3904">WT-3904</a> Reconsider error path in log server thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3938">WT-3938</a> Reduce memory usage with many tables and sessions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3946">WT-3946</a> Truncate segfault with a NULL start cursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3962">WT-3962</a> WiredTiger turtle file “MoveFileExW: Access is denied.” error.</li>
</ul>
</div>
</div>
<div class="section" id="id95">
<span id="id96"></span><h2>3.4.13 Changelog<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id97">
<h3>Operations<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33238">SERVER-33238</a> Prevent WiredTiger read ticket count from going negative</p>
</div>
<div class="section" id="id98">
<h3>Internals<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32664">SERVER-32664</a> Sys-perf enable running baselines at lower priority</p>
</div>
</div>
<div class="section" id="id99">
<span id="id100"></span><h2>3.4.12 Changelog<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id101">
<h3>Sharding<a class="headerlink" href="#id101" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32924">SERVER-32924</a> tag skip_sharding_configuration_checks test with requires_persistence tag</p>
</div>
<div class="section" id="id102">
<h3>Query<a class="headerlink" href="#id102" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33089">SERVER-33089</a> Unable to start queryable mongod because it failed to regenerate index for admin.system.users</p>
</div>
<div class="section" id="id103">
<h3>Storage<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31462">SERVER-31462</a> convertToCapped + renameCollection may cause a segfault</p>
</div>
<div class="section" id="id104">
<h3>Operations<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31437">SERVER-31437</a> Fix parsing of <cite>mongo host/db</cite> connect string</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32875">SERVER-32875</a> Don’t stall ftdc due to running out of tickets</li>
</ul>
</div>
<div class="section" id="id105">
<h3>Build and Packaging<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32932">SERVER-32932</a> When testing SLES 12 packages make sure required repos exist</p>
</div>
<div class="section" id="id106">
<h3>Internals<a class="headerlink" href="#id106" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28396">SERVER-28396</a> resmoke.py’s logkeeper client should respect size limit for POST requests by splitting them up</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32243">SERVER-32243</a> Add an option to have the validate hook skip some collections.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32527">SERVER-32527</a> Update package tests to use new BUILD2 VPC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32740">SERVER-32740</a> Set bootstrap.ycsb_dir and bootstrap.workloads_dir in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32772">SERVER-32772</a> dbtest task in Evergreen should write to task directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32891">SERVER-32891</a> Sys-perf change order of mongodb_setup and workload_setup calls</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32896">SERVER-32896</a> Upload dsi-artifacts.yml in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32931">SERVER-32931</a> System failure of burn_in_tests on v3.4 when no tests have been changed</li>
</ul>
</div>
</div>
<div class="section" id="id107">
<span id="id108"></span><h2>3.4.11 Changelog<a class="headerlink" href="#id107" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id109">
<h3>Security<a class="headerlink" href="#id109" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28662">SERVER-28662</a> Do not pass NULL baseDN to ldap_search</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31625">SERVER-31625</a> The contents of {USER} needs to be escaped when querying for the groups using LDAP server</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32086">SERVER-32086</a> Suppress LDAP user cache invalidation log message by default</li>
</ul>
</div>
<div class="section" id="id110">
<h3>Sharding<a class="headerlink" href="#id110" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-19919">SERVER-19919</a> Chunks that exceed 250000 docs but are under half chunk size get marked as jumbo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29293">SERVER-29293</a> Recipient shard fails to abort migration on stepdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29397">SERVER-29397</a> Invariant failure on config server when inserting tag into config.tags</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29423">SERVER-29423</a> Sharding balancer may schedule multiple migrations with the same source or destination</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31982">SERVER-31982</a> Shard does not call config commit chunk migration command with majority writeConcern nor checks for writeConcern errors.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32569">SERVER-32569</a> Introduce uniform way to allow config servers and shard replica sets to start in non-cluster mode</li>
</ul>
</div>
<div class="section" id="id111">
<h3>Replication<a class="headerlink" href="#id111" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-19605">SERVER-19605</a> Oplog timeout should be configurable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27067">SERVER-27067</a> Some Commands do not wait for write concern for no-op writes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28486">SERVER-28486</a> backup_restore.js should wait for FSM and CRUD operations to complete on all secondaries before getting current primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29090">SERVER-29090</a> Nodes should provide more information on why they reject a vote</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29649">SERVER-29649</a> Add startupWarning when a replset node is running with –nojournal but hasn’t set writeConcernMajorityJournalDefault to false</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29937">SERVER-29937</a> Make sure liveness timeouts cannot be missed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30143">SERVER-30143</a> Raise oplog size in clean_shutdown_oplog_state.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30648">SERVER-30648</a> Set GlobalLockAcquisitionTracker after we waitForLock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30715">SERVER-30715</a> Print replica set config on logRotate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31262">SERVER-31262</a> Storage of _rbidCommandHandle can race with destruction of SyncSourceResolver</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31587">SERVER-31587</a> ReplBatcher has a long-running OperationContext</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31589">SERVER-31589</a> A primary’s SyncSourceFeedback only renews an OperationContext on role changes.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32030">SERVER-32030</a> SyncTail::oplogApplication uses a long-running OperationContext (3.2/3.4)</li>
</ul>
</div>
<div class="section" id="id112">
<h3>Query<a class="headerlink" href="#id112" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21011">SERVER-21011</a> Certain queries against compound 2d/text indexes are incorrectly covered, return incorrect results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29270">SERVER-29270</a> oplog query for first entry should not use a blocking sort</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32046">SERVER-32046</a> Arrays of certain NumberDecimals can trigger an invariant failure</li>
</ul>
</div>
<div class="section" id="write-operations">
<h3>Write Operations<a class="headerlink" href="#write-operations" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31531">SERVER-31531</a> feature compatibility version writes must check for writeErrors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32048">SERVER-32048</a> Updates using a numeric path component may cause index entries not to be created</li>
</ul>
</div>
<div class="section" id="id113">
<h3>Aggregation<a class="headerlink" href="#id113" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30009">SERVER-30009</a> MapReduce failure: missing ) in parenthetical</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30449">SERVER-30449</a> ProjectionSpecValidator is O(N**2) in number of fields in the projection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31624">SERVER-31624</a> Upgraded 3.2 to 3.4, $geoNear aggregate fails with featureCompatibilityVersion 3.4 collation error</li>
</ul>
</div>
<div class="section" id="id114">
<h3>Storage<a class="headerlink" href="#id114" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30406">SERVER-30406</a> renaming system.views does not correctly invalidate the view catalog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31101">SERVER-31101</a> WT table not dropped after collection is dropped due to long-running OperationContext</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31149">SERVER-31149</a> Enable recovery progress messages</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31215">SERVER-31215</a> Enable pthread cond monotonic on Linux for WiredTiger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31469">SERVER-31469</a> WiredTiger queryable restore engine does not export init function symbol on windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31590">SERVER-31590</a> WT yieldAndAwaitOplogDeletionRequest holds onto an OperationContext while blocking for an infrequent trigger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31930">SERVER-31930</a> EphemeralForTest does not unindex records in capped collections on rollback.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32001">SERVER-32001</a> unindexing a key in a partial unique index may cause server crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32242">SERVER-32242</a> Fix race in CompatibleFirstStress lock manager test</li>
</ul>
</div>
<div class="section" id="id115">
<h3>Operations<a class="headerlink" href="#id115" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28072">SERVER-28072</a> Running a script using ‘mongo’ on replication set fails</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29921">SERVER-29921</a> Mongo connection uri doesn’t support &#64; character in database name</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30702">SERVER-30702</a> Stop printing stack traces in masserts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31046">SERVER-31046</a> Remove sensitive information from logging of parsed options during mongod startup</li>
</ul>
</div>
<div class="section" id="id116">
<h3>Build and Packaging<a class="headerlink" href="#id116" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30853">SERVER-30853</a> Update Mongod init scripts to set unlimited locked memory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31016">SERVER-31016</a> return type ‘std::__1::cv_status’ must match previous return type ‘std::__1::cv_status::__lx’ when lambda expression has unspecified explicit return type</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32271">SERVER-32271</a> Bump minimum MacOS version to 10.8 on stable branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32286">SERVER-32286</a> Remove Type=forking from Debian SystemD service file</li>
</ul>
</div>
<div class="section" id="id117">
<h3>Internals<a class="headerlink" href="#id117" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27801">SERVER-27801</a> external_auth tests should define KRB5CCNAME per test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29259">SERVER-29259</a> Authentication/Authorization indexes not created on initial document insertion</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29623">SERVER-29623</a> Fix system_authorization_indexes.js on inMemory storage engine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30482">SERVER-30482</a> Mongos should not close sessions to below the configured ShardingTaskExecutorPoolMinSize</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30565">SERVER-30565</a> burn_in_tests.py shouldn’t cause compile task to fail</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30634">SERVER-30634</a> Git detects all files as having changed on Windows causing burn_in_tests task to time out in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30649">SERVER-30649</a> Check whether each expression inside of $elemMatch is compatible with a given index</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30720">SERVER-30720</a> Integer overflow in SharedBuffer::grow_reallocate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30770">SERVER-30770</a> system_perf.yml: Use new DSI interface and cleanup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31119">SERVER-31119</a> Compilation fails with boost 1.62</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31225">SERVER-31225</a> The mongod process forks before listening for connections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31379">SERVER-31379</a> Make ldap_authz_authn.js expect recently added LDAP groups</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31380">SERVER-31380</a> Add metrics related to tcmalloc acquiring and decommitting memory from system</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31440">SERVER-31440</a> Connpool HostTimeout races with callback lock acquire/release</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31505">SERVER-31505</a> Simplify Snappy compressor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31516">SERVER-31516</a> NamespaceString’s no-arguments constructor results in an improperly initialized object, can later cause segfault</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31621">SERVER-31621</a> Sync buildscripts/scons.py across branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31670">SERVER-31670</a> Change replica set fixture used by replica_sets_jscore_passthrough to make its secondary have zero votes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31717">SERVER-31717</a> Force C locale on Ubuntu 16.04 builders</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31818">SERVER-31818</a> Add server parameter to disable MarkThread{temporary}Idle</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31827">SERVER-31827</a> Make <cite>multi_rs.js</cite> wait for secondary status after stepdown in <cite>upgradePrimary</cite></li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31957">SERVER-31957</a> Remove the timeseries support from etc/system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31997">SERVER-31997</a> Add additional unittesting for CompatibleFirst policy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32044">SERVER-32044</a> Use parameterized branch_name in performance projects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32061">SERVER-32061</a> Update ldap_authz_authn.js to reflect LDAP test server changes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32087">SERVER-32087</a> Run test stage of sys-perf and mongo-perf failures should lead to red evergreen boxes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32260">SERVER-32260</a> Call workload_setup.py from mongo repo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32410">SERVER-32410</a> Validate User::CredentialData before attempting to perform authentication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32704">SERVER-32704</a> sys-perf: Skip validating oplog as enabled by SERVER-32243</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32788">SERVER-32788</a> Update “secondary performance” sysperf test to use nonvoting secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3079">WT-3079</a> Make sure eviction visits all trees</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3248">WT-3248</a> Performance degradation in workload with large overflow items</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3296">WT-3296</a> LAS table fixes/improvements</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3303">WT-3303</a> Deadlock during first access to lookaside table</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3370">WT-3370</a> Heap use after free in txn recover code</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3379">WT-3379</a> Avoid a performance regression on secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3618">WT-3618</a> WT remove solaris from evergreen builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3643">WT-3643</a> Recovery does not run after database opened with recover=error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3681">WT-3681</a> Don’t truncate the last log file in recovery</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3776">WT-3776</a> Cursor remove operation unpins page too early</li>
</ul>
</div>
</div>
<div class="section" id="id118">
<span id="id119"></span><h2>3.4.10 Changelog<a class="headerlink" href="#id118" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id120">
<h3>Security<a class="headerlink" href="#id120" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25855">SERVER-25855</a> Increase more timeouts in mongos_cache_invalidation.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28727">SERVER-28727</a> mongoldap should not print each acquired role’s database inline</li>
</ul>
</div>
<div class="section" id="id121">
<h3>Sharding<a class="headerlink" href="#id121" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29932">SERVER-29932</a> add asserts to mapReduce_inSharded_outSharded.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30825">SERVER-30825</a> blacklist shard_existing_coll_chunk_count.js from the continuous config stepdown suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31049">SERVER-31049</a> View with collation doesn’t work as expected in sharded cluster</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31091">SERVER-31091</a> The config server balancer stop command does not obey maxTimeMS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31111">SERVER-31111</a> Add <cite>assert.commandWorked</cite> to migrateBig_balancer.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31204">SERVER-31204</a> Calling <cite>shardCollection</cite> after <cite>enableSharding</cite> may fail if executed against different mongos</li>
</ul>
</div>
<div class="section" id="id122">
<h3>Replication<a class="headerlink" href="#id122" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29772">SERVER-29772</a> Provide option to 3.2 and 3.4 to allow initial sync to complete even when it encounters renameCollection entries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30830">SERVER-30830</a> applyOps should return NamespaceNotFound when applying a CRUD operation on a non-existent collection/database</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30840">SERVER-30840</a> extend timeout in replsets/index_delete.js (3.4 only)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30842">SERVER-30842</a> Don’t try to set last optime for client backwards after rollback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31467">SERVER-31467</a> Blacklist initial_sync_rename_collection_unsafe.js from 3.2 initial sync variant</li>
</ul>
</div>
<div class="section" id="id123">
<h3>Query<a class="headerlink" href="#id123" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31139">SERVER-31139</a> mongod fatal error after issuing $text index find containing nested non-text fields as the index prefix</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31366">SERVER-31366</a> profile_getmore.js does not tolerate killCursors command</li>
</ul>
</div>
<div class="section" id="id124">
<h3>JavaScript<a class="headerlink" href="#id124" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29651">SERVER-29651</a> Interrupt signal is ignored when received inside certain functions.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30362">SERVER-30362</a> JavaScript DBCollection.toString() stops working</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30502">SERVER-30502</a> –disableJavaScriptJIT does not disable JIT</li>
</ul>
</div>
<div class="section" id="id125">
<h3>Storage<a class="headerlink" href="#id125" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-15723">SERVER-15723</a> Avoid G_X lock for rename_collection within database</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28637">SERVER-28637</a> wiredtiger journal files accumulate with each server start/stop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30927">SERVER-30927</a> Use readConcern afterClusterTime for initsync oplog queries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31403">SERVER-31403</a> Disable mongo-rocks variant on v3.2 and v3.4</li>
</ul>
</div>
<div class="section" id="id126">
<h3>Operations<a class="headerlink" href="#id126" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-19076">SERVER-19076</a> printShardingStatus/sh.status should pass a decent indent to tojson() for shard keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28821">SERVER-28821</a> MozJS ASAN integration should not invariant that all memory was freed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30361">SERVER-30361</a> mongod.conf bindIp option accept bogus parameters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30769">SERVER-30769</a> Mongo shell throws ‘exception during autocomplete’</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31176">SERVER-31176</a> mongo shell should use stderr for password prompt</li>
</ul>
</div>
<div class="section" id="id127">
<h3>Build and Packaging<a class="headerlink" href="#id127" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23516">SERVER-23516</a> Using apt-get update chowns user to mongodb</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30166">SERVER-30166</a> Use of string instead of std::string in some source files prevents compilation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30558">SERVER-30558</a> Remove Solaris builds from master</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31197">SERVER-31197</a> building.md GCC version requirement out-of-date</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31338">SERVER-31338</a> RHEL compile task failing in drivers nightly 3.4 branch</li>
</ul>
</div>
<div class="section" id="id128">
<h3>Internals<a class="headerlink" href="#id128" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21933">SERVER-21933</a> Update README</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29087">SERVER-29087</a> system-perf.yml needs to be changed to use the new name for the timeseries html file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29287">SERVER-29287</a> Upgrade pcre to 8.41</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29524">SERVER-29524</a> sys-perf: Call infrastructure_provisioning.py instead of infrastructure_provisioning.sh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29565">SERVER-29565</a> Remove sys-perf compare tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30045">SERVER-30045</a> Debug symbols for unittest binaries are not uploaded on non-GDB platforms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30117">SERVER-30117</a> FeatureCompatibilityVersion::onInsertOrUpdate should only write to the server parameter on commit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30241">SERVER-30241</a> Attach workloads html to evergreen task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30891">SERVER-30891</a> perf.yml: make the -repl variants run frequently</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30938">SERVER-30938</a> Enable ycsb-wmajority tests in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31006">SERVER-31006</a> Use the latest release of curator on all branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31108">SERVER-31108</a> Update baseline tag for microbenchmarks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31271">SERVER-31271</a> don’t use nspr allocator for js threads for better ASAN</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31273">SERVER-31273</a> Use Source/Sink version of snappy functions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31427">SERVER-31427</a> Disable stepback for Enterprise SLES 11/12 and Ubuntu1604 s390x</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31527">SERVER-31527</a> Rebaseline sys-perf after adjusting tests (3.4.9 and 3.2.17)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3263">WT-3263</a> Allow archive on restart/recovery if clean shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3264">WT-3264</a> Permanent change to disable logging should eventually remove all logs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3284">WT-3284</a> tree-walk restart bug</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3308">WT-3308</a> Add statistics tracking around yield loops</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3351">WT-3351</a> Recovery assertion failure: old_lognum &lt; lognum</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3406">WT-3406</a> Reconciliation is choosing reserved records for writing.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3461">WT-3461</a> Avoid long sleeps when the system clock is adjusted</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3470">WT-3470</a> Avoid a metadata cursor open for table open/drop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3533">WT-3533</a> eviction handle walk can race with handle re-open</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3590">WT-3590</a> Keep data consistent if writes fail during a clean shutdown</li>
</ul>
</div>
</div>
<div class="section" id="id129">
<span id="id130"></span><h2>3.4.9 Changelog<a class="headerlink" href="#id129" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id131">
<h3>Sharding<a class="headerlink" href="#id131" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20392">SERVER-20392</a> Sharding an existing small collection results in large number of chunks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30183">SERVER-30183</a> a moveChunk that joins the active moveChunk on a shard may not respect its waitForDelete</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30487">SERVER-30487</a> RangeDeleter holds WT transaction open while waiting for majority</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30636">SERVER-30636</a> RangeDeleter assert failed because of replication lag</li>
</ul>
</div>
<div class="section" id="id132">
<h3>Replication<a class="headerlink" href="#id132" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28277">SERVER-28277</a> Need to increase timeout in read_committed_with_catalog_changes.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29802">SERVER-29802</a> Non-atomic applyOps command should not take out a global exclusive lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30554">SERVER-30554</a> relax locking mode in applyOps when applying CRUD-only ops non-atomically</li>
</ul>
</div>
<div class="section" id="id133">
<h3>Query<a class="headerlink" href="#id133" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30189">SERVER-30189</a> Reduce calls to allocator for large $in expressions</p>
</div>
<div class="section" id="id134">
<h3>Write Operations<a class="headerlink" href="#id134" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27317">SERVER-27317</a> Inserting a document with a Decimal128 value when featureCompatibilityVersion is 3.2 results in a closed socket</p>
</div>
<div class="section" id="id135">
<h3>JavaScript<a class="headerlink" href="#id135" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30875">SERVER-30875</a> Add support for a “no-owned bson” mode for JS Scopes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30971">SERVER-30971</a> Use of “scope” field in mapReduce triggers BSONObj ownership error</li>
</ul>
</div>
<div class="section" id="id136">
<h3>Storage<a class="headerlink" href="#id136" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26239">SERVER-26239</a> Improve handling of WT_CACHE_FULL for inMemory storage engine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30490">SERVER-30490</a> Compile RocksDB with USE_RTTI=1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30790">SERVER-30790</a> ServerStatus on WiredTiger accesses the storage engine without any locks</li>
</ul>
</div>
<div class="section" id="id137">
<h3>Build and Packaging<a class="headerlink" href="#id137" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29686">SERVER-29686</a> Remove /var/lib/mongodb from mongodb-org[-unstable] deb metapackage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30562">SERVER-30562</a> avoid running many duplicate ARM64 tests for the community build</li>
</ul>
</div>
<div class="section" id="id138">
<h3>Internals<a class="headerlink" href="#id138" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26377">SERVER-26377</a> Skip running FSM workloads that use the compact command on the LSM build variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26824">SERVER-26824</a> Skip FSM workloads which rely on nUpserted or nRemoved when Balancer is enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28824">SERVER-28824</a> Unhandled hang analyzer exception escapes loop to get threads from each process</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29431">SERVER-29431</a> initialsync.js does not verify that initial sync succeeds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29714">SERVER-29714</a> Add Exception Message to Validate_Locale.cpp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30509">SERVER-30509</a> Update Evergreen API URL in burn_in_tests.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30643">SERVER-30643</a> Performance regression with SSL</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3329">WT-3329</a> With a uniform workload and a number of small collections, eviction does a poor job of selecting candidates for eviction.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3438">WT-3438</a> Don’t tune eviction thread count when the count is fixed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3499">WT-3499</a> Checkpoint can miss not yet committed item</li>
</ul>
</div>
</div>
<div class="section" id="id139">
<span id="id140"></span><h2>3.4.7 Changelog<a class="headerlink" href="#id139" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id141">
<h3>Sharding<a class="headerlink" href="#id141" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29817">SERVER-29817</a> Optimize incremental update performance of ChunkManager and CollectionMetadata</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30058">SERVER-30058</a> Balancer policy should not move chunks off shards on ‘size exceeded’ conditions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30060">SERVER-30060</a> Optimize the sharding balancer’s cluster statistics gathering</li>
</ul>
</div>
<div class="section" id="id142">
<h3>Replication<a class="headerlink" href="#id142" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27581">SERVER-27581</a> shouldRetry() logic in multiInitialSyncApply_noAbort() is over-aggressive</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28192">SERVER-28192</a> priority_takeover_one_node_higher_priority jstest needs longer stepDownGuard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28677">SERVER-28677</a> InitialSyncer::_setup_inlock() should reset last applied and durable optimes.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29015">SERVER-29015</a> TopologyCoordinator should not transition to candidate role in a single node replica set if we are in maintenance mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29240">SERVER-29240</a> Add test to ensure valid index creation for capped collections that roll over during initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29282">SERVER-29282</a> BSON Document Size can be exceeded when grouping inserts on SECONDARY nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29297">SERVER-29297</a> stepUp should wait for durability in awaitReplication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29383">SERVER-29383</a> When catchUpTimeoutMillis is 0, we should skip doing catchup entirely</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29540">SERVER-29540</a> awaitNodesAgreeOnPrimary should log why it retries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30049">SERVER-30049</a> applyOperation_inlock() allows exceptions from Collection::insertDocument() to percolate to caller</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30054">SERVER-30054</a> update tags.js to make nodes at indexes 3 and 4 unelectable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30138">SERVER-30138</a> make node 1 unelectable in initial_sync_invalid_views.js (3.4)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30139">SERVER-30139</a> Increase waitForState timeout in replsetprio1.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30411">SERVER-30411</a> (3.4) last_vote.js should make assertCurrentTerm exception safe</li>
</ul>
</div>
<div class="section" id="id143">
<h3>Query<a class="headerlink" href="#id143" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29299">SERVER-29299</a> remove evalc.js and add currentOp to basicPlus.js’s background operations.</p>
</div>
<div class="section" id="id144">
<h3>Storage<a class="headerlink" href="#id144" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27831">SERVER-27831</a> Deadlock when listing collections on “local” database with replication enabled for KVCatalog-based storage engines without document locking</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28737">SERVER-28737</a> Have ephemeralForTest use std::mutex for protecting its internal data structures</li>
</ul>
</div>
<div class="section" id="id145">
<h3>Build and Packaging<a class="headerlink" href="#id145" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28171">SERVER-28171</a> Use Python 2.7 for all python invocations in evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30199">SERVER-30199</a> ‘SConfBase’ object has no attribute ‘CheckBoostMinVersion’</li>
</ul>
</div>
<div class="section" id="id146">
<h3>Tools<a class="headerlink" href="#id146" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1109">TOOLS-1109</a> failes to build on arm64 (syscall.Dup2 not supported)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1741">TOOLS-1741</a> mongoimport –uri throws errors when passed Atlas Connection String URI</li>
</ul>
</div>
<div class="section" id="id147">
<h3>Internals<a class="headerlink" href="#id147" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26452">SERVER-26452</a> <cite>renameCollection</cite> should handle write conflicts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28046">SERVER-28046</a> Increase timeouts in replsets/read_committed_on_secondary.js to 10 minutes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28596">SERVER-28596</a> Upload hanging or failing tests in compile_all to S3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28991">SERVER-28991</a> Eliminate having individual threads in resmoke.py for flushing log output to logkeeper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29035">SERVER-29035</a> Update system-perf.yml baseline references</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29327">SERVER-29327</a> Prevent DBDirectClient queries from storing MaxTimeMS on cursors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29568">SERVER-29568</a> Enable configuration of OpenSSL cipher suite via setParameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29886">SERVER-29886</a> Hang analyzer shouldn’t produce core dumps on ASan builders</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29947">SERVER-29947</a> Implement Storage Node Watchdog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30132">SERVER-30132</a> Storage Node Watchdog needs to check journal directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30169">SERVER-30169</a> Increase Watchdog Test timeouts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30415">SERVER-30415</a> Exclude new “evergreen” agent binary name from automatic process killing in Evergren</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-30433">SERVER-30433</a> Increase Watchdog Test timeouts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1542">TOOLS-1542</a> dump and export shouldn’t count views before running</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1563">TOOLS-1563</a> windows tests are failing after <cite>use mongodb 3.4 “current” tests</cite></li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1577">TOOLS-1577</a> update the readme with information about mongoreplay</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1713">TOOLS-1713</a> Move mongoreplay evergreen config .evergreen.yml into common.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1743">TOOLS-1743</a> legacy24 and legacy26 dumprestore tests failing on master</li>
</ul>
</div>
</div>
<div class="section" id="id148">
<span id="id149"></span><h2>3.4.6 Changelog<a class="headerlink" href="#id148" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id150">
<h3>Sharding<a class="headerlink" href="#id150" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27789">SERVER-27789</a> Increase timeouts in commands_that_write_accept_wc_*</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28351">SERVER-28351</a> blacklist move_stale_mongos.js and split_stale_mongos.js from the continuous stepdown suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28418">SERVER-28418</a> make the split command on mongod return a stale version error if the requested chunk bounds are not found</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29489">SERVER-29489</a> Balancer stats generation calls ‘listDatabases’ on shards without maxTimeMS or timeout</li>
</ul>
</div>
<div class="section" id="id151">
<h3>Replication<a class="headerlink" href="#id151" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25765">SERVER-25765</a> Commands should wait for write concern even if they throw an exception</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26848">SERVER-26848</a> Exit catchup mode when not syncing more data</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28100">SERVER-28100</a> extend ReplSetTest.awaitNodesAgreeOnPrimary() to accept an optional expectedPrimaryIndex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28186">SERVER-28186</a> Increase slaveDelay in repl10.js test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28326">SERVER-28326</a> Wait for primary to stabilize in initial_sync4.js test after node is added to 1 node replica set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28378">SERVER-28378</a> Extend secondary catch up period in priority_takeover_two_nodes_equal_priority.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28676">SERVER-28676</a> [v3.4] minor_version_tags_old_new_old.js should not use replSetStepUp command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28677">SERVER-28677</a> InitialSyncer::_setup_inlock() should reset last applied and durable optimes.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28751">SERVER-28751</a> Allow stepDown command to work against primary in catchup mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28803">SERVER-28803</a> Increase timeout for clean_shutdown_oplog_state.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28813">SERVER-28813</a> drop collection before doing dummy write in syncFrom helper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28877">SERVER-28877</a> Cancel race in replication executor can cause elections to assert.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28969">SERVER-28969</a> Wait until the voter has the latest optime in case 3 of catchup.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29056">SERVER-29056</a> InitialSyncer::_startupComponent should reset ‘component’ before returning CallbackCanceled due to shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29100">SERVER-29100</a> Wait for the same journaling requirement in get_last_error.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29240">SERVER-29240</a> Add test to ensure valid index creation for capped collections that roll over during initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29382">SERVER-29382</a> Fix cancel race related to the timeout in ReplicationCoordinatorImpl::CatchupState</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29536">SERVER-29536</a> apply_batch_only_goes_forward.js should be configured to use 2 electable nodes instead of 3</li>
</ul>
</div>
<div class="section" id="id152">
<h3>Query<a class="headerlink" href="#id152" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29197">SERVER-29197</a> Dangling index records when initial syncing node clones a capped collection that deletes records during collection scan</p>
</div>
<div class="section" id="id153">
<h3>Aggregation<a class="headerlink" href="#id153" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28717">SERVER-28717</a> $lookup does not expand ‘localField’ as expected when it is a dotted path representing fields within an array</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29001">SERVER-29001</a> Stack overflow in views_test (–dbg=on –opt=off) due to long aggregation pipeline</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29618">SERVER-29618</a> $geoWithin in aggregation pipeline after $lookup and $unwind returns incorrect results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29647">SERVER-29647</a> Avoid moving $match to be before $sort + $limit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29676">SERVER-29676</a> arrayToObject should not error out on explicit value of null for value</li>
</ul>
</div>
<div class="section" id="id154">
<h3>Storage<a class="headerlink" href="#id154" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22322">SERVER-22322</a> Better error message for “no database” from listIndexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27347">SERVER-27347</a> Only close idle cached cursors on the WiredTiger ident that is busy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29011">SERVER-29011</a> Compact Calls to WiredTiger take multiple overlapping WT_SESSION objects</li>
</ul>
</div>
<div class="section" id="id155">
<h3>Operations<a class="headerlink" href="#id155" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29075">SERVER-29075</a> Add remaining client metadata to the currentOp output</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29509">SERVER-29509</a> shell_history.js should tolerate extended file ACLs</li>
</ul>
</div>
<div class="section" id="id156">
<h3>Build and Packaging<a class="headerlink" href="#id156" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27260">SERVER-27260</a> systemd service files should not start mongod with –quiet</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29409">SERVER-29409</a> Reduce Amazon Linux Enterprise build to weekly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29503">SERVER-29503</a> Migrate server build from 10.10 instances to new 10.12 instances</li>
</ul>
</div>
<div class="section" id="id157">
<h3>Internals<a class="headerlink" href="#id157" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28052">SERVER-28052</a> Make SHA1Hash a full fledged class</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28162">SERVER-28162</a> Tests that call getLatestProfilerEntry() should be blacklisted from dynamic initial sync passthrough suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28323">SERVER-28323</a> Don’t pass JavaScript scopes a function ID number</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28864">SERVER-28864</a> Intra-cluster compression on by default</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28960">SERVER-28960</a> Unittest “death tests” should not dump core</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28997">SERVER-28997</a> Limit SCRAM-SHA-1 Cache’s use of Secure Memory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29040">SERVER-29040</a> Remove deprecated “run” argument in rpm systemd service file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29148">SERVER-29148</a> Increase run time for mongos tests in sys-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29237">SERVER-29237</a> Add maxConnecting in asio connpool</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29433">SERVER-29433</a> Improve logging during ReplicaSetFixture initialization</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29485">SERVER-29485</a> Use vendorized YCSB in sys-perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29516">SERVER-29516</a> Tools build on OS X needs to set -mmacosx-version-min in CGO_{C,LD}FLAGS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29527">SERVER-29527</a> Use infrastructure_provisioning.sh and infrastructure_teardown.sh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29646">SERVER-29646</a> hang_analyzer.py should send a SIGUSR1 to resmoke.py before attaching to any processes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29680">SERVER-29680</a> Update perf.yml microbenchmarks replset config</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3219">WT-3219</a> Make the clang-analyzer job fail when lint is introduced</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3297">WT-3297</a> support the gcc/clang -fvisibility=hidden flag</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3327">WT-3327</a> Checkpoints can hang if time runs backward</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3331">WT-3331</a> Test format aborted due to time rollback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3362">WT-3362</a> Cursor opens should never block for the duration of a checkpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3369">WT-3369</a> WT_CURSOR-&gt;uri should always match the URI used to open the cursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3373">WT-3373</a> Access violation due to a bug in internal page splitting</li>
</ul>
</div>
</div>
<div class="section" id="id158">
<span id="id159"></span><h2>3.4.5 Changelog<a class="headerlink" href="#id158" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id160">
<h3>Sharding<a class="headerlink" href="#id160" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28513">SERVER-28513</a> stale_mongos_updates_and_removes.js should only call ensurePrimaryShard once</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28850">SERVER-28850</a> Coverity analysis defect 100646: PW.PARAMETER_HIDDEN</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28854">SERVER-28854</a> Replace msgBase with msg in assertion detail</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28925">SERVER-28925</a> Use listDatabases({‘nameOnly’: true}) in the addShard implementation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29016">SERVER-29016</a> Config primary may hang in shutdown waiting for Balancer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29066">SERVER-29066</a> Sharded findAndModify will not implicitly create the database if it does not exist</li>
</ul>
</div>
<div class="section" id="id161">
<h3>Replication<a class="headerlink" href="#id161" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26360">SERVER-26360</a> After node goes into RECOVERING due to being too stale to sync from its source, it will never recover even if there is a valid sync source it could use</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26741">SERVER-26741</a> “Fatal Assertion 16360” triggered by temporary collections dropped when restarted in standalone mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27966">SERVER-27966</a> last_vote.js should wait for replication before stepping down node 0 pre-reconfig</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28387">SERVER-28387</a> Extend secondary catchup period during stepdown in server-23299-1.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28480">SERVER-28480</a> last_vote.js should use ReplSetTest::stepUp() on node 1 before reconfig</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28490">SERVER-28490</a> Check the state after acquiring the lock in bgsync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28688">SERVER-28688</a> Deadlock between shutdown and stepdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28815">SERVER-28815</a> multi_rs.js - step down primary during upgrade/downgrade without {force:true}</li>
</ul>
</div>
<div class="section" id="id162">
<h3>Query<a class="headerlink" href="#id162" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26765">SERVER-26765</a> Move views tests into jsCore</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28952">SERVER-28952</a> Multikey indexes should not be eligible for DISTINCT_SCAN if distinct key is an array component</li>
</ul>
</div>
<div class="section" id="id163">
<h3>Storage<a class="headerlink" href="#id163" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28038">SERVER-28038</a> Improve WiredTigerRecordStore invariants for capped visiblity</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28357">SERVER-28357</a> MMAPv1 compact operation may trigger “quota exceeded” error (12501)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28427">SERVER-28427</a> GlobalLock with timeout can still block indefinitely</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29088">SERVER-29088</a> Cache uuid in Collection class to fix perf regression</li>
</ul>
</div>
<div class="section" id="id164">
<h3>Operations<a class="headerlink" href="#id164" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-15407">SERVER-15407</a> Set thread name on Mac OS X and Linux</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26634">SERVER-26634</a> Integrate GDB pretty printers for server vocabulary types</li>
</ul>
</div>
<div class="section" id="id165">
<h3>Build and Packaging<a class="headerlink" href="#id165" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29352">SERVER-29352</a> Disable SNMP integration for OS X enterprise builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26781">SERVER-26781</a> Add support for building with openssl 1.1.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27682">SERVER-27682</a> Add SCons variable files for the MongoDB GCC and clang toolchains</li>
</ul>
</div>
<div class="section" id="id166">
<h3>Internals<a class="headerlink" href="#id166" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-19677">SERVER-19677</a> Intel library self-check in unit tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21842">SERVER-21842</a> Generate report.json file and dump stacks on Windows when Event object created by resmoke.py is set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27279">SERVER-27279</a> pthread_setname_np is not supported on SUSE 11.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27281">SERVER-27281</a> pkill/pgrep cannot find mongod on Linux</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27285">SERVER-27285</a> Add a jsCore passthrough with a replset that periodically SIGKILLs a secondary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27408">SERVER-27408</a> burn_in_tests.py doesn’t always exclude tagged tests when generating outfile</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27570">SERVER-27570</a> Enforce stricter checks on top level command BSON objects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27727">SERVER-27727</a> Hide idle threads in hang_analyzer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27869">SERVER-27869</a> Create a build artifact of hang_analyzer.py output and upload it to S3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27870">SERVER-27870</a> Add option to invoke hang_analyzer.py with an explicit list of PIDs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27871">SERVER-27871</a> Add hang_analyzer.py option to produce core dump, default to off</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27873">SERVER-27873</a> Dump a JavaScript backtrace of any code running in SpiderMonkey in hang_analyzer.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27874">SERVER-27874</a> Display locks and generate digraph for threads using LockManager locks and/or pthread_mutexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27877">SERVER-27877</a> hang_analyzer.py should deduplicate stacks from different threads in GDB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28007">SERVER-28007</a> Re-enable support for CRC32 hardware acceleration on s390x</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28132">SERVER-28132</a> Remove sudo from hang_analyzer invocation in evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28291">SERVER-28291</a> mongodb-uniqstack should dedupe based on frame.pc() rather than frame.name()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28348">SERVER-28348</a> Detect single-process deadlocks involving LockManager locks and/or pthread_mutexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28349">SERVER-28349</a> Process output logs generated by hang_analyzer are missing stderr</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28354">SERVER-28354</a> Add new option to supply base process name in hang_analyzer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28400">SERVER-28400</a> Update to Firefox ESR 45.8.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28415">SERVER-28415</a> Run thread backtrace before loading Python modules in hang_analyzer.py on ARM platform</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28416">SERVER-28416</a> Handle GDB error in hang_analyzer.py mongodb-uniqstack module</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28463">SERVER-28463</a> Add set scheduler-locking to Hang Analyzer to prevent threads from running in GDB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28466">SERVER-28466</a> The hang analyzer should not attach to resmoke.py in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28479">SERVER-28479</a> hang_analyzer.py on OS X fails to find Python processes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28584">SERVER-28584</a> Remove initialsync_{WT|MMAPv1}_dr tasks from sys-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28588">SERVER-28588</a> Handle GDB error in hang_analyzer.py find_frame function</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28710">SERVER-28710</a> vectorized send() should handle EWOULDBLOCK</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28760">SERVER-28760</a> Add egress logging to legacy write path</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28868">SERVER-28868</a> Set noCursorTimeout option on oplog cursor in ReplSetTest.prototype.checkOplogs()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28971">SERVER-28971</a> Error in depth_first_search algorithm incorrectly recurses on visited nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28995">SERVER-28995</a> Format string in JstackDumper class of hang_analyzer.py has too few placeholders</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29018">SERVER-29018</a> 3.4: mongos segfault in getMore on view with find batchSize of 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29068">SERVER-29068</a> Retry operations in set_feature_compatibility_version.js after network interruption</li>
</ul>
</div>
</div>
<div class="section" id="id167">
<span id="id168"></span><h2>3.4.4 Changelog<a class="headerlink" href="#id167" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id169">
<h3>Security<a class="headerlink" href="#id169" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27821">SERVER-27821</a> Make <cite>large_role_chain.js</cite> not run on DEBUG systems</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28014">SERVER-28014</a> When SSL mode is preferSSL, log connections that do not use SSL</li>
</ul>
</div>
<div class="section" id="id170">
<h3>Sharding<a class="headerlink" href="#id170" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20854">SERVER-20854</a> Don’t refresh database and collection information from config server while holding a mutex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22611">SERVER-22611</a> ChunkManager refresh can occasionally cause a full reload</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27681">SERVER-27681</a> Better concurrency control on shard metadata refresh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27701">SERVER-27701</a> mongos crashed with “Invariant failure remote.status.isOK()”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28519">SERVER-28519</a> Bump verbosity for mongos and config servers in authCommands.js (v3.4)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28697">SERVER-28697</a> Ignore some NoProgressMade errors in sharding_balance4.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28698">SERVER-28698</a> Use the ‘chunkDataCommitted’ failpoint for migration_critical_section_concurrency.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28807">SERVER-28807</a> parseShardKeyPattern can leak for bad inputs</li>
</ul>
</div>
<div class="section" id="id171">
<h3>Replication<a class="headerlink" href="#id171" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24498">SERVER-24498</a> Write tests for linearizable reads in a sharded system</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26360">SERVER-26360</a> After node goes into RECOVERING due to being too stale to sync from its source, it will never recover even if there is a valid sync source it could use</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26830">SERVER-26830</a> Randomize priority takeover timeout</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27098">SERVER-27098</a> review and fix log levels in DataReplicator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27120">SERVER-27120</a> Increase synchronization between producer/applier threads and stepdown/stepup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27329">SERVER-27329</a> Move BackgroundSync::_rollback into rs_rollback.cpp and unit test it</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27403">SERVER-27403</a> Consider term and rbid when validating the proposed sync source</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27543">SERVER-27543</a> Create new metadata for oplog queries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27834">SERVER-27834</a> Index builds during initial sync should not implicitly create collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27966">SERVER-27966</a> last_vote.js should wait for replication before stepping down node 0 pre-reconfig</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27995">SERVER-27995</a> Make replication naming conventions consistent</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28135">SERVER-28135</a> stepdown.js should always fsyncUnlock() all secondary nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28181">SERVER-28181</a> Deadlock involving the mutexes of oplog fetcher and replication coordinator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28184">SERVER-28184</a> remove election_timing.js (and lib/election_timing_test.js)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28185">SERVER-28185</a> remove reconfig_without_increased_queues.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28272">SERVER-28272</a> extend timeout in step_down_during_draining.js when waiting for new primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28275">SERVER-28275</a> fix misleading log message in ReplicationCoordinatorImpl::_startElectSelfIfEligibleV1()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28278">SERVER-28278</a> Wait for desired sync source to replicate dummy write before running replSetSyncFrom in syncFrom shell helper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28376">SERVER-28376</a> ReplSetTest.initiate() should call awaitReplication before requesting node 0 to step up as primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28377">SERVER-28377</a> Do not check that remote last applied is ahead of local last fetched in OplogFetcher first batch during initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28446">SERVER-28446</a> Blacklist top.js from dynamic initial sync suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28695">SERVER-28695</a> step_down_during_draining.js should wait for writes to be durable before disable replication on secondaries using fail point</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28699">SERVER-28699</a> ReplSetTest should always awaitSecondaryNodes() at the end of initiate</li>
</ul>
</div>
<div class="section" id="id172">
<h3>Query<a class="headerlink" href="#id172" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27711">SERVER-27711</a> createIndexes command no longer supports maxTimeMS option</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27761">SERVER-27761</a> view can be created on top of a view with different collation than underlying view</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27972">SERVER-27972</a> Add a featureCompatibilityVersion op observer for database/collection drop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28121">SERVER-28121</a> DurableViewCatalog shouldn’t throw on null byte in view ns</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28498">SERVER-28498</a> Stop running the rlp* tasks on the “Enterprise RHEL 6.2 DEBUG Code Coverage” builder</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28546">SERVER-28546</a> documents can erroneously be unindexed from a partial index</li>
</ul>
</div>
<div class="section" id="id173">
<h3>Write Operations<a class="headerlink" href="#id173" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26703">SERVER-26703</a> Inserting deeply-nested documents should fail with error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28347">SERVER-28347</a> Prohibit updates that cause documents to exceed the depth limit</li>
</ul>
</div>
<div class="section" id="id174">
<h3>Aggregation<a class="headerlink" href="#id174" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-8433">SERVER-8433</a> Aggregating deeply-nested documents can cause stack overflow</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-18794">SERVER-18794</a> Add an aggregation expression to convert an object to an array of key, value pairs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23310">SERVER-23310</a> Add an expression to convert an array of pairs to an object</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27644">SERVER-27644</a> distinct on a view doesn’t “flatten” array members</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28409">SERVER-28409</a> Decrease verbosity during testshard1.js</li>
</ul>
</div>
<div class="section" id="id175">
<h3>JavaScript<a class="headerlink" href="#id175" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22520">SERVER-22520</a> Educate ASAN leak checker about js allocations</p>
</div>
<div class="section" id="id176">
<h3>Storage<a class="headerlink" href="#id176" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22954">SERVER-22954</a> MigrationDestinationManager should not directly use MMAPv1 durable interface</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28548">SERVER-28548</a> mmap b-tree removals may cause index readers or writers to return invalid data</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28572">SERVER-28572</a> Update test case to use valid custom WiredTiger configuration values</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28645">SERVER-28645</a> Fail commands that require too many locks instead of crashing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28646">SERVER-28646</a> Don’t report ops as passed if logOps causes txn to fail</li>
</ul>
</div>
<div class="section" id="id177">
<h3>Operations<a class="headerlink" href="#id177" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-16821">SERVER-16821</a> Do not abort server when receiving multiple SIGUSR1 in the same second</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28380">SERVER-28380</a> Add a test-only clearLog command for clearing out RamLog, use it in tests when checking for a specific log message</li>
</ul>
</div>
<div class="section" id="id178">
<h3>Build and Packaging<a class="headerlink" href="#id178" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20540">SERVER-20540</a> Support compiling with split DWARF debug info</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28390">SERVER-28390</a> Mark link targets as Precious when incremental linking flags are enabled</li>
</ul>
</div>
<div class="section" id="id179">
<h3>Internals<a class="headerlink" href="#id179" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21539">SERVER-21539</a> Generate report.json file when resmoke.py receives a SIGUSR1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26952">SERVER-26952</a> Cache SCRAM-SHA-1 ClientKey</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27191">SERVER-27191</a> hang analyzer should dump lock manager state</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27684">SERVER-27684</a> Remove the self-imposed 2 minute limit from hang_analyzer.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27687">SERVER-27687</a> ppc64le build incorrectly indicates pointer size of 32</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27691">SERVER-27691</a> ServiceContext::setKillAllOperations should be replaced with an operation that interrupts running operations</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27853">SERVER-27853</a> Fetch debug symbols before invoking hang_analyzer.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27854">SERVER-27854</a> initiate replicasets faster in replicaset.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27866">SERVER-27866</a> The globalLockManager dump should print thread ID in decimal &amp; hex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27868">SERVER-27868</a> Upload debug symbols on all build variants that create separate symbol files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27875">SERVER-27875</a> Dump critical sections on Windows in hang_analyzer.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27876">SERVER-27876</a> hang_analyzer.py should deduplicate stacks from different threads in Windows debugger CDB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28091">SERVER-28091</a> Disk stats collection on OS X only captures I/O utilization averaged over the uptime of the machine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28169">SERVER-28169</a> Set eviction=(threads_min=1) in Microbenchmarks testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28259">SERVER-28259</a> Log time to establish egress connections through NetworkInterfaceASIO</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28329">SERVER-28329</a> Remove comparison tasks from Microbenchmarks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28426">SERVER-28426</a> Update etc/longevity.yml to use run_test.py instead of run-${test}.sh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28430">SERVER-28430</a> Expose dropConnections() method on ConnectionPool through the NetworkInterface</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28462">SERVER-28462</a> Update perf.yml to compare against latest stable release</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28489">SERVER-28489</a> MockStream should handle cancellation while it is paused</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28526">SERVER-28526</a> Update Evergreen API URL in burn_in_tests.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28530">SERVER-28530</a> SSLThreadInfo invokes constructor in destructor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28547">SERVER-28547</a> sharding_continuous_config_stepdown suite doesn’t actually step any nodes down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28586">SERVER-28586</a> “do jepsen setup” function should check out branch before trying to change to subdirectory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28652">SERVER-28652</a> Add logging to track egress connection pool size</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28692">SERVER-28692</a> Move shell tarball generation to compile task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28748">SERVER-28748</a> Set virtual memory ulimit in package smoke testing for mongo shell tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28823">SERVER-28823</a> burn_in_tests.py does not use api server default due to missing <cite>None</cite> check</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-98">WT-98</a> Update the current cursor value without a search</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2439">WT-2439</a> Enhance reconciliation page layout</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2990">WT-2990</a> checkpoint load live_open assertion failure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3136">WT-3136</a> bug fix: WiredTiger doesn’t check sprintf calls for error return</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3155">WT-3155</a> Remove WT_CONN_SERVER_RUN flag</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3182">WT-3182</a> Switch make-check to run the short test suite by default</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3190">WT-3190</a> Enhance eviction thread auto-tuning algorithm</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3191">WT-3191</a> lint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3193">WT-3193</a> Close a race between verify opening a handle and eviction visiting it</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3196">WT-3196</a> Race with LSM and eviction when switching chunks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3199">WT-3199</a> bug: eviction assertion failure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3202">WT-3202</a> wtperf report an error on in_memory=true mode : No such file or directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3203">WT-3203</a> bulk-load state changes can race</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3204">WT-3204</a> eviction changes cost LSM performance</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3207">WT-3207</a> Drops with checkpoint_wait=false should not wait for checkpoints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3208">WT-3208</a> test format hung with 9mb cache</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3211">WT-3211</a> WT_CURSOR.remove cannot always retain its position.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3212">WT-3212</a> ‘wt dump’ crashes when given table with unknown collator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3213">WT-3213</a> generated test/format CONFIG invalid on next run</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3216">WT-3216</a> add support for clang-tidy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3224">WT-3224</a> LSM assertion failure pindex-&gt;entries == 1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3225">WT-3225</a> WiredTiger won’t build with clang on CentOS 7.3.1611</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3227">WT-3227</a> Python test suite inserts unnecessary whitespace in error output.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3228">WT-3228</a> Remove with overwrite shouldn’t return WT_NOTFOUND</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3234">WT-3234</a> Update WiredTiger build for clang 4.0.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3238">WT-3238</a> Java: Cursor.compare and Cursor.equals throw Exceptions for valid return values</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3240">WT-3240</a> Coverity reports</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3243">WT-3243</a> Reorder log slot release so joins don’t wait on IO</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3244">WT-3244</a> metadata operations failing in in-memory configurations</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3249">WT-3249</a> Unit test test_readonly fails as it is unable to open WiredTiger.lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3250">WT-3250</a> Incorrect statistics incremented on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3254">WT-3254</a> test_reconfig02 uses incorrect configuration string</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3262">WT-3262</a> Schema operations shouldn’t wait for cache</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3265">WT-3265</a> Verify hits assertion in eviction when transiting handle to exclusive mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3271">WT-3271</a> Eviction tuning stuck in a loop</li>
</ul>
</div>
</div>
<div class="section" id="id180">
<span id="id181"></span><h2>3.4.3 Changelog<a class="headerlink" href="#id180" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id182">
<h3>Sharding<a class="headerlink" href="#id182" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27382">SERVER-27382</a> Remove usages of DBConfig::reload</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27809">SERVER-27809</a> Move split logic outside of the Chunk class</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27940">SERVER-27940</a> Deadlock ReplicaSetMonitorManager on shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28030">SERVER-28030</a> Move ‘initial chunks’ writes out of ChunkManager</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28098">SERVER-28098</a> Get rid of DBConfig::getAllShardIds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28106">SERVER-28106</a> Cleanup the contract of ChunkManager::findIntersectingChunk</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28111">SERVER-28111</a> Move parallel.h/parallel.cpp to be under mongo/s/client</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28155">SERVER-28155</a> Cleanup sharding library dependencies</li>
</ul>
</div>
<div class="section" id="id183">
<h3>Replication<a class="headerlink" href="#id183" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20844">SERVER-20844</a> Start ReplSetTests faster wrt initial election</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26914">SERVER-26914</a> improve log messages for freshness checking</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26918">SERVER-26918</a> backup_restore.js - nodes should agree on primary before starting FSM clients</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26930">SERVER-26930</a> backup_restore.js should await replication after fsm clients have stopped and hidden node has become secondary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27035">SERVER-27035</a> rs.compareOpTimes() throws exception when comparing with empty OpTime</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27189">SERVER-27189</a> _getLastOpTime / _getDurableOpTime do not handle missing nodes gracefully</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27405">SERVER-27405</a> fix race in read_after_optime.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27488">SERVER-27488</a> Unblacklist bypass_doc_validation.js in static resync passthrough</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27551">SERVER-27551</a> QuorumChecker should retry requests that fail</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27783">SERVER-27783</a> Remove unnecessary lock in SyncSourceFeedback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27791">SERVER-27791</a> increase write concern timeout in gle/block2.js and gle/get_last_error.js from 30 seconds to 5 minutes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27794">SERVER-27794</a> Provide write concern to bulk insert in indexbg_drop.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27799">SERVER-27799</a> apply setParameter for maxSyncSourceLagSecs to slave 2 only in maxSyncSourceLagSecs.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27808">SERVER-27808</a> backup_restore.js should await replication and re-evaluate primary before adding new hidden secondary to replica set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27810">SERVER-27810</a> Guarantee that replicaset is stable with node 0 as primary after ReplSetTest.initiate()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27816">SERVER-27816</a> increase wtimeout in sync2.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27837">SERVER-27837</a> exclude rename collection FSM workload in backup_restore.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27839">SERVER-27839</a> Allow for step downs during reconfig in ReplSetTest initiate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27840">SERVER-27840</a> add wtimeout to write concerns in protocol_version_upgrade_downgrade.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27844">SERVER-27844</a> increase timeout in repl/block2.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27847">SERVER-27847</a> increase timeout in apply_batch_only_goes_forward.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27861">SERVER-27861</a> Make the failover in drain.js more reliable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27889">SERVER-27889</a> Change catchup.js to be resilient to replSetStepUp failing because the node is already a candidate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27905">SERVER-27905</a> fix race in DataReplicatorTest::DataReplicatorReturnsCallbackCanceledIfShutdownImmediatelyAfterStartup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28005">SERVER-28005</a> Oplog query network timeout is less than the maxTimeMs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28013">SERVER-28013</a> Ensure ReplClientInfo’s last opTime can’t be moved backwards</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28037">SERVER-28037</a> Raise default writeConcern wtimeout in db.js to 10 minutes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28041">SERVER-28041</a> remove awaitNodesAgreeOnPrimary() call in sync2.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28047">SERVER-28047</a> ReplSetTest._callIsMaster()  should set slaveOk on primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28050">SERVER-28050</a> Reconnect connection after stepdown in read_committed_stale_history.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28075">SERVER-28075</a> Wait for DB works in simulateSuccessfulV1ElectionAt()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28110">SERVER-28110</a> Set secondaryCatchUpPeriodSecs smaller when requesting remote primary stepdown</li>
</ul>
</div>
<div class="section" id="id184">
<h3>Query<a class="headerlink" href="#id184" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28017">SERVER-28017</a> $ne perform a case sensitive find when it should do a case insensitive find based on collation settings</p>
</div>
<div class="section" id="id185">
<h3>Aggregation<a class="headerlink" href="#id185" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27253">SERVER-27253</a> $lookup and $graphLookup do not increment index stats counters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27362">SERVER-27362</a> MapReduce can attempt to deregister a cursor without holding a collection lock</li>
</ul>
</div>
<div class="section" id="id186">
<h3>Storage<a class="headerlink" href="#id186" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-3181">SERVER-3181</a> Add option to listDatabases to only get db names, not size info</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27807">SERVER-27807</a> creating a snapshot and registering it in the replcoord is not synchronous</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27857">SERVER-27857</a> Rewrite the remove_during_mr.js test as an FSM workload</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27936">SERVER-27936</a> fix improper release of locks in master/slave handleDuplicateDbName</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28049">SERVER-28049</a> List Databases command should apply filter on name only before database locks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28249">SERVER-28249</a> Use TCMalloc MarkThreadTemporarilyIdle instead of MarkThreadIdle</li>
</ul>
<div class="section" id="id187">
<h4>WiredTiger<a class="headerlink" href="#id187" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28026">SERVER-28026</a> Disable auto-tuning of WiredTiger eviction threads</li>
</ul>
</div>
<div class="section" id="mmap">
<h4>MMAP<a class="headerlink" href="#mmap" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24963">SERVER-24963</a> Concurrent collection.drop() and system.indexes.count() can trigger an fassert</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27930">SERVER-27930</a> Accessing cursor with pending data after renaming collection may trigger fassert</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27996">SERVER-27996</a> Accessing system.namespaces cursor with pending data after removing namespaces may cause crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28022">SERVER-28022</a> Accessing cursor with pending data after forcing system.namespaces record move may cause crash</li>
</ul>
</div>
</div>
<div class="section" id="ttl">
<h3>TTL<a class="headerlink" href="#ttl" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28154">SERVER-28154</a> Race condition in ttl_sharded.js</p>
</div>
<div class="section" id="id188">
<h3>Operations<a class="headerlink" href="#id188" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-6065">SERVER-6065</a> db.shutdownServer() does not work as expected when mongod is a Windows Service</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-16796">SERVER-16796</a> Increase logging activity for journal recovery operations</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27863">SERVER-27863</a> Reschedule early alarms in NetworkInterfaceASIO to avoid mongos crash</li>
</ul>
</div>
<div class="section" id="id189">
<h3>Build and Packaging<a class="headerlink" href="#id189" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25309">SERVER-25309</a> Add RHEL 6 zSeries build variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27623">SERVER-27623</a> SLES11 s390x build should target z9-109, not z196</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27836">SERVER-27836</a> Package smoke testing should retry verify step and not call converge</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27856">SERVER-27856</a> Stop running the concurrency suite on the ubuntu1604-arm64-large distro</li>
</ul>
</div>
<div class="section" id="id190">
<h3>Internals<a class="headerlink" href="#id190" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-21675">SERVER-21675</a> Remove ‘legacy’ from Evergreen task names</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23959">SERVER-23959</a> option to allow disabling job object creation in smoke.py for win32</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26522">SERVER-26522</a> CleanEveryN output should be written to logkeeper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26523">SERVER-26523</a> Replace raise errors.TestFailure with raise errors.ServerFailure in passthrough hooks where appropriate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26642">SERVER-26642</a> JS compiled code string length limit on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27091">SERVER-27091</a> Add large dataset initialsync test into system performance test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27234">SERVER-27234</a> Evergreen task disk statistics improvement</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27700">SERVER-27700</a> WT secondary performance drops to near-zero with cache full</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27784">SERVER-27784</a> Remove httpget() from packager.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27858">SERVER-27858</a> Increase the task timeout when running to the concurrency suite to 6 hours</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27920">SERVER-27920</a> Fix incorrect locking of Client context</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27935">SERVER-27935</a> Fix serialization of concurrent fsyncLock execution</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27963">SERVER-27963</a> Disable CRC32 hardware support on s390x builders</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27983">SERVER-27983</a> Move sys-perf state to /data from $HOME</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28000">SERVER-28000</a> sys-perf: Organize all dsi yaml config files under configurations/</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28067">SERVER-28067</a> Update sys-perf.yml to copy over cluster.json</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28086">SERVER-28086</a> Update system-perf.yml tagged commit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28147">SERVER-28147</a> Increase time out on sys-perf shard tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28239">SERVER-28239</a> Fix double ticket holder release in transport layer legacy during primary step down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1605">TOOLS-1605</a> Conditionally create a Windows job object in smoke.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2771">WT-2771</a> Add a statistic to track per-btree dirty cache usage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2790">WT-2790</a> Fix a text case false positive in test_sweep01</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2833">WT-2833</a> improvement: add projections to wt dump utility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2898">WT-2898</a> Improve performance of eviction-heavy workloads by dynamically controlling the number of eviction threads</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2909">WT-2909</a> Create automatable test verifying checkpoint integrity after errors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2994">WT-2994</a> Create documentation describing page sizes and relationships</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3080">WT-3080</a> Python test suite: add timestamp or elapsed time for tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3082">WT-3082</a> Python test suite: shorten default run to avoid pull request timeouts.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3083">WT-3083</a> Fix a bug in wtperf config dump</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3086">WT-3086</a> Add transaction state information to cache stuck diagnostic information</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3088">WT-3088</a> bug: Don’t evict a page with refs visible to readers after a split</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3091">WT-3091</a> Add stats to test_perf0001</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3092">WT-3092</a> Quiet a warning from autogen.sh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3093">WT-3093</a> Padding the WT_RWLOCK structure grew the WT_PAGE structure.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3097">WT-3097</a> Race on reconfigure or shutdown can lead to waiting for statistics log server</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3099">WT-3099</a> lint: static function declarations, non-text characters in documentation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3100">WT-3100</a> test bug: format is weighted to delete, insert, then write operations.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3104">WT-3104</a> Fix wtperf configs for eviction tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3105">WT-3105</a> Fix a deadlock caused by allocating eviction thread sessions dynamically</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3106">WT-3106</a> Add truncate support to command line wt utility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3108">WT-3108</a> Also dump disk page size as part of metadata information</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3109">WT-3109</a> wording fix in transaction doc</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3110">WT-3110</a> Add more test cases for the WT command line utility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3111">WT-3111</a> util_create() doesnt free memory assigned to “uri”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3112">WT-3112</a> Handle list lock statistic not incremented in eviction server</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3113">WT-3113</a> Add a verbose mode to dump the cache when eviction is stuck</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3114">WT-3114</a> Avoid archiving log files immediately after recovery</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3115">WT-3115</a> Change the dhandle lock to a read/write lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3116">WT-3116</a> Python style testing in s_all may not execute correctly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3118">WT-3118</a> Protect random-abort test against unexpectedly slow child start</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3120">WT-3120</a> Fix ordering problem in connection_close for filesystem loaded in an extension</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3121">WT-3121</a> In test suite create standard way to load extensions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3126">WT-3126</a> bug: dist/s_all script has misplaced quote causing bad error reporting</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3127">WT-3127</a> bug: CPU yield calls don’t necessarily imply memory barriers</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3128">WT-3128</a> wt printlog returns operation-not-supported if it doesn’t find any log files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3130">WT-3130</a> Ensure extensions have access to database home directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3134">WT-3134</a> Coverity scan reports 1368529 and 1368528</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3135">WT-3135</a> search_near() for index with custom collator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3137">WT-3137</a> Hang in __log_slot_join/__log_slot_switch_internal</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3139">WT-3139</a> Enhance wtperf to support periodic table scans</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3143">WT-3143</a> Coverity scan report 1369053</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3144">WT-3144</a> bug fix: random cursor returns not-found when descending to an empty page</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3148">WT-3148</a> Improve eviction efficiency with many small trees</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3149">WT-3149</a> Change eviction to start new walks from a random place in the tree</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3150">WT-3150</a> Reduce impact of checkpoints on eviction server</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3152">WT-3152</a> Convert table lock from a spinlock to a read write lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3156">WT-3156</a> Assertion in log_write fires after write failure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3157">WT-3157</a> checkpoint/transaction integrity issue when writes fail.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3159">WT-3159</a> Incorrect key for index containing multiple variable sized entries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3161">WT-3161</a> checkpoint hang after write failure injection.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3164">WT-3164</a> Ensure all relevant btree fields are reset on checkpoint error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3170">WT-3170</a> Clear the eviction walk point while populating from a tree</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3173">WT-3173</a> Add runtime detection for s390x CRC32 hardware support</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3174">WT-3174</a> Coverity/lint cleanup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3175">WT-3175</a> New hang in internal page split</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3179">WT-3179</a> test bug: clang sanitizer failure in fail_fs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3180">WT-3180</a> fault injection tests should only run as “long” tests and should not create core files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3184">WT-3184</a> Problem duplicating index cursor with custom collator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3186">WT-3186</a>  Fix error path and panic detection in logging loops</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3187">WT-3187</a> Hang on shutdown with a busy cache pool</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3188">WT-3188</a> Fix error handling in logging where fatal errors could lead to a hang</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3189">WT-3189</a> Fix a segfault in the eviction server random positioning</li>
</ul>
</div>
</div>
<div class="section" id="id191">
<span id="id192"></span><h2>3.4.2 Changelog<a class="headerlink" href="#id191" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id193">
<h3>Sharding<a class="headerlink" href="#id193" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26562">SERVER-26562</a> Move CommitChunkMigration command implementation into a Catalog function and unit test it</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26785">SERVER-26785</a> rewrite addshard2.js to be able to unblacklist it from the last_stable suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26791">SERVER-26791</a> move/split/mergeChunk commands do a full metadata refresh on the shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26903">SERVER-26903</a> ShardingTest is failing non-retriable writes when the primary steps down because the stepdown suite turns the electionTimeoutMillis down from 10,000 ms to 5,000 ms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27146">SERVER-27146</a> Enforce maxStalenessSeconds &gt;= 90</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27258">SERVER-27258</a> A v3.4 config server can crash with a core dump if it gets an unsupported shard key from mongo S.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27321">SERVER-27321</a> Rename ScopedChunkManager::getExisting to refreshAndGet</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27364">SERVER-27364</a> Remove DBConfig::setPrimary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27366">SERVER-27366</a> Remove DBConfig::enableSharding</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27381">SERVER-27381</a> Remove DBConfig::dropDatabase</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27393">SERVER-27393</a> Balancer taking 100% CPU due to large number of dropped sharded collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27419">SERVER-27419</a> Move cluster ‘drop’ command to a separate file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27428">SERVER-27428</a> MigrationChunkClonerSourceLegacy’s unit-tests do not wait for the onCommand handler thread to complete</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27460">SERVER-27460</a> RouterStageMerge::kill() can crash during mongos shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27466">SERVER-27466</a> move transitionToPrimaryHangBeforeInitializingConfigDatabase to before taking the global exclusive lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27473">SERVER-27473</a> Remove writes from DBConfig</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27480">SERVER-27480</a> Get rid of ConfigServer class</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27510">SERVER-27510</a> Compare only epochs instead of full chunk versions in CollectionMetadata::checkChunkIsValid()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27526">SERVER-27526</a> Get rid of all non-metadata usages of DBConfig::isShardingEnabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27556">SERVER-27556</a> Cleanup sharding request processing code</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27613">SERVER-27613</a> Remove unused ‘chunkVersion’ field sent in splitChunk command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27667">SERVER-27667</a> Get rid of the sharding Request class</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27726">SERVER-27726</a> Split ShardingCatalogManagerImpl into multiple .cpp files by category of operation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27736">SERVER-27736</a> DBConfig should not store unsharded collections</li>
</ul>
</div>
<div class="section" id="id194">
<h3>Replication<a class="headerlink" href="#id194" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23759">SERVER-23759</a> shutting down a node while replication is initializing can crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25860">SERVER-25860</a> Flatten / optimize fixup_info</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26528">SERVER-26528</a> Add additional logging when sync source is changed or cleared</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26773">SERVER-26773</a> two_initsync.js should check that inserts succeed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26945">SERVER-26945</a> master-slave ReplSource::resyncDrop should not assume database name obtained from listDatabases result exists locally</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26951">SERVER-26951</a> remove or improve replset9.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27046">SERVER-27046</a> race between CollectionCloner::_findCallback and CollectionCloner::_insertDocuments</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27050">SERVER-27050</a> Ensure upstream node doesn’t roll back after checking minvald</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27052">SERVER-27052</a> Add asynchronous operation support to DataReplicator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27056">SERVER-27056</a> Don’t enforce data freshness for step-up command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27079">SERVER-27079</a> DataReplicator should wait for last oplog fetcher to finish before starting next initial sync attempt</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27118">SERVER-27118</a> Default shutdown command’s ‘timeoutSecs’ argument to 10 seconds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27123">SERVER-27123</a> Only update commit point via spanning tree</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27125">SERVER-27125</a> Arbiters in pv1 should vote no in elections if they can see a healthy primary of equal or greater priority to the candidate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27154">SERVER-27154</a> replSetRequestVotes command should wait for durability</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27155">SERVER-27155</a> replSetRequestVotes records dryRun votes as real</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27157">SERVER-27157</a> replSetRequestVotes doesn’t synchronize between processing and recording request</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27216">SERVER-27216</a> Increase catchup timeout to 300 seconds in catchup.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27231">SERVER-27231</a> add failpoint to turn off re-evaluating sync sources, for jstests that manipulate chaining</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27282">SERVER-27282</a> Clean up and fix bugs in RS rollback error handling</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27295">SERVER-27295</a> always set slaveOk to true on remote commands in the old initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27301">SERVER-27301</a> converted OpObserver into an interface. ServiceContext should always return a valid OpObserver implementation.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27323">SERVER-27323</a> Use stopOplogFetcher failpoint instead of rsSyncApplyStop failpoint in write_concern_after_stepdown_and_stepup.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27352">SERVER-27352</a> Fix stepdown command in double_rollback.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27365">SERVER-27365</a> reconfig_without_increased_queues.js should initiate node 2 of its replicaset with priority 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27397">SERVER-27397</a> Disable OplogFetcher sync source re-evaluation during initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27409">SERVER-27409</a> zbigMapReduce.js should use a write concern for inserts so it does not roll over its oplog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27446">SERVER-27446</a> operation_latency_histogram.js fails in initial sync passthrough due to reads performed by the repl system</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27461">SERVER-27461</a> Retry connecting to shut down primary until failure in shutdown_primary.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27468">SERVER-27468</a> Do not run dynamic initial sync passthroughs on 3dot2 initial sync variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27523">SERVER-27523</a> geo_s2cursorlimitskip.js fails in initial sync passthrough due to reads performed by the repl system</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27544">SERVER-27544</a> shutdown_primary.js shouldn’t try to disable rsSyncStopApply failpoint on primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27582">SERVER-27582</a> lastVote is not properly initialized</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27583">SERVER-27583</a> SyncSourceFeedback should be shut down outside ReplicationCoordinatorExternalStateImpl lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27611">SERVER-27611</a> DatabaseCloner::shutdown() does not shut down CollectionCloner</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27624">SERVER-27624</a> SyncSourceFeedback should check for shutdown before setting _reporter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27656">SERVER-27656</a> Ensure node 0 is not primary during reconfig in last_vote.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27657">SERVER-27657</a> last_vote.js should wait for reconfig to reach all nodes before continuing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27677">SERVER-27677</a> CollectionBulkLoader::_releaseResources() should ensure there is a Client available</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27678">SERVER-27678</a> CollectionCloner should call _finishCallback at most once</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27680">SERVER-27680</a> Make bgsync check stopOplogFetcher failpoint before scheduling new OplogFetcher</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27712">SERVER-27712</a> Do not specify _id field in user_defined_roles_on_secondaries.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27741">SERVER-27741</a> fix race in DataReplicatorTest::DataReplicatorResetsOnCompletionCallbackFunctionPointerUponCompletion</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27775">SERVER-27775</a> fix race in collection_cloner_test CollectionClonerTest::CollectionClonerCannotBeRestartedAfterPreviousFailure</li>
</ul>
</div>
<div class="section" id="id195">
<h3>Query<a class="headerlink" href="#id195" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24027">SERVER-24027</a> The planner does not consider reversing index scan direction in order to obtain a SORT_MERGE plan</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26734">SERVER-26734</a> indexStats action is not sufficient privileges for $indexStats operator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27042">SERVER-27042</a> Fix and modernize currentop.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27438">SERVER-27438</a> Legacy query via mongos drops $comment</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27449">SERVER-27449</a> set_feature_compatibility_version.js should not give votes to replica set members expected to crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27465">SERVER-27465</a> rewrite killop.js using setYieldAllLocksHang failpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27525">SERVER-27525</a> collation.js should use test-specific database</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27584">SERVER-27584</a> Add support for filter to listDatabases</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27649">SERVER-27649</a> Don’t error on serialization of $elemMatch with $regex</li>
</ul>
</div>
<div class="section" id="id196">
<h3>Write Operations<a class="headerlink" href="#id196" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24563">SERVER-24563</a> Secondary crash when inserting document into db with different case</p>
</div>
<div class="section" id="id197">
<h3>Aggregation<a class="headerlink" href="#id197" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25535">SERVER-25535</a> Remove injectExpressionContext() methods from pipeline directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27288">SERVER-27288</a> DocumentSourceSkip and DocumentSourceMatch getNext() should release GetNextResult reference prior to subsequent underlying source getNext() call</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27304">SERVER-27304</a> Create setParameter to make all aggregations which require merging select the primary shard as the merger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27307">SERVER-27307</a> DocumentSourceCursor should store namespace as NamespaceString</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27406">SERVER-27406</a> Reduce DocumentSourceCursor batch size from 16MB to 4MB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27420">SERVER-27420</a> Aggregation should explicitly parse apart BSON Arrays</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27527">SERVER-27527</a> Remove explicit shardingEnabled check for databases in M/R and aggregation</li>
</ul>
</div>
<div class="section" id="id198">
<h3>Storage<a class="headerlink" href="#id198" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25286">SERVER-25286</a> Remove drop2.js dependency on count scan yield behavior</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27243">SERVER-27243</a> Upgrade to 3.4 ‘create collection’ fails in Backup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27256">SERVER-27256</a> Run getMore test in sharded configuration in views_authz.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27418">SERVER-27418</a> [trivial] Enable noPassthrough/index_version_v2.js test for MongoRocks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27512">SERVER-27512</a> queryable_mmapv1 can encounter larger blocks than the default page size</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27591">SERVER-27591</a> Need to abandonSnapshot after unlocking in TTLMonitor</li>
</ul>
<div class="section" id="id199">
<h4>WiredTiger<a class="headerlink" href="#id199" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26545">SERVER-26545</a> Remove fixed-size limitation on WiredTiger hazard pointers</li>
</ul>
</div>
</div>
<div class="section" id="id200">
<h3>Operations<a class="headerlink" href="#id200" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26960">SERVER-26960</a> Consider improving error message when attempting $natural sort on a view</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27289">SERVER-27289</a> Shell: mongo –host replSet/Host:Port no longer works</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27576">SERVER-27576</a> MongoDB 3.4 ‘mongo’ shell quit() not working</li>
</ul>
</div>
<div class="section" id="id201">
<h3>Build and Packaging<a class="headerlink" href="#id201" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27450">SERVER-27450</a> Add i386 architecture to repo config yaml for debian and ubuntu.</p>
</div>
<div class="section" id="id202">
<h3>Tools<a class="headerlink" href="#id202" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1553">TOOLS-1553</a> PreProcessing is failling with “got invalid document size”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1569">TOOLS-1569</a> mongo-replay crashes during playback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1576">TOOLS-1576</a> nil pointer derereference when error occurs</li>
</ul>
</div>
<div class="section" id="id203">
<h3>Internals<a class="headerlink" href="#id203" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-24695">SERVER-24695</a> burn_in_tests.py should have a mechanism for blacklisting tests and suites similar to resmoke.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26308">SERVER-26308</a> Decrease number of jobs for sharding-related suites on Windows DEBUG and PPC variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26525">SERVER-26525</a> Factor out identical jstest checkLog functions and increase timeout</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26806">SERVER-26806</a> Randomly restart initial sync in the dynamic initial sync passthrough</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26860">SERVER-26860</a> add more unittests for compatible-first locking policy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27126">SERVER-27126</a> Remove reference to mongodb-mongo-master Evergreen project in burn_in_tests.py script</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27175">SERVER-27175</a> Address slowness in Explain::getPlanSummary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27208">SERVER-27208</a> Update microbenchmarks to use next mongo-perf release</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27232">SERVER-27232</a> Refresh and Setup timeouts in the ASIO connpool can prematurely time out an operation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27306">SERVER-27306</a> Remove AutoGetCollection* methods that take std::string namespace</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27339">SERVER-27339</a> ReplSetTest shouldn’t inspect TestData directly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27343">SERVER-27343</a> Reduce Frequency of sys-perf runs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27350">SERVER-27350</a> Enable access control for microbenchmarks in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27370">SERVER-27370</a> MongoDB 3.4.0  with –rest segfaults if the route /isMaster is called</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27456">SERVER-27456</a> Microbenchmarks: Increase inMemorySizeGB and oplogSize</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27459">SERVER-27459</a> dbtest should set featureCompatibilityVersion to the most recent value during global initialization</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27568">SERVER-27568</a> mongo-perf: Release 2017-01</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27605">SERVER-27605</a> Reduce concurrency for jsCore_small_oplog_rs_resync_static, jsCore_small_oplog_rs_initsync and jsCore_small_oplog_rs_initsync_static</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27618">SERVER-27618</a> Make NetworkInterfaceASIO stress test less stressful</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27653">SERVER-27653</a> Blacklist Concurrency suite in burn_in_tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27754">SERVER-27754</a> Use requests instead of httplib2 in packager.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1541">TOOLS-1541</a> support exporting views</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1549">TOOLS-1549</a> –gssapiServiceName should not require –gssapiHostName in the tools</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1559">TOOLS-1559</a> TestCommandOpGetMoreLiveDB is failing after upgrade to 3.4 in evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1579">TOOLS-1579</a> Progress bar exceeding 100%</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-283">WT-283</a> Add a way to change persistent object settings</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2336">WT-2336</a> Add a test validating schema operations via file system call monitoring</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2402">WT-2402</a> Misaligned structure accesses lead to undefined behavior</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2670">WT-2670</a> Inefficient I/O when read full DB (poor readahead)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2960">WT-2960</a> Inserting multi-megabyte values can cause pathological lookaside usage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-2969">WT-2969</a> Possible snapshot corruption during compaction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3014">WT-3014</a> Add GCC/clang support for ELF symbol visibility.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3021">WT-3021</a> Fixes needed for Java log cursor example, Java raw mode cursors, log cursors in raw mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3025">WT-3025</a> fix error path in log_force_sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3028">WT-3028</a> Workloads with all dirty pages could trigger diagnostic stuck check</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3030">WT-3030</a> Test failure indicating invalid key order during traversal</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3034">WT-3034</a> Add support for single-writer named snapshots.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3037">WT-3037</a> Fix some outdated comments in logging</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3048">WT-3048</a> WiredTiger maximum size warning uses the wrong format.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3051">WT-3051</a> Remove external __wt_hex symbol.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3052">WT-3052</a> Improve search if an index hint is wrong</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3053">WT-3053</a> Review Python and Java calls to internal WiredTiger functions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3054">WT-3054</a> Java PackTest, PackTest03 do not compile</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3055">WT-3055</a> Java AsyncTest faults</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3056">WT-3056</a> For cursors with projections, keys should be allowed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3057">WT-3057</a> WiredTiger hazard pointers should use the WT_REF, not the WT_PAGE.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3061">WT-3061</a> syscall test runs with checkpoint_sync=false and doesn’t acknowledge pwrite64</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3064">WT-3064</a> minor tree cleanups: .gitignore, NEWS misspelling</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3066">WT-3066</a> lint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3068">WT-3068</a> Copy wtperf artifacts when running Jenkins tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3069">WT-3069</a> Fix build failures in LevelDB APIs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3070">WT-3070</a> Fix search_near() for index cursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3071">WT-3071</a> Java: fix build with -Werror=sign-conversion</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3075">WT-3075</a> Document and enforce that WiredTiger now depends on Python 2.7</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3078">WT-3078</a> Fix a hang in the reconfiguration test.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-3084">WT-3084</a> Fix Coverity resource leak complaint.</li>
</ul>
</div>
</div>
<div class="section" id="id204">
<span id="id205"></span><h2>3.4.1 Changelog<a class="headerlink" href="#id204" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id206">
<h3>Security<a class="headerlink" href="#id206" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27194">SERVER-27194</a> Views should require both “viewOn” and “pipeline” to be specified if modifying view when auth is enabled</p>
</div>
<div class="section" id="id207">
<h3>Sharding<a class="headerlink" href="#id207" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-22657">SERVER-22657</a> Add invariants and write unit-tests for the legacy migration chunk cloner</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26832">SERVER-26832</a> Add tests for shell commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26849">SERVER-26849</a> Should join balancer thread on shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27071">SERVER-27071</a> ensure config.version doc cannot replicate to secondaries in config_version_rollback.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27078">SERVER-27078</a> Race in ShardRegistry initialization causes it to not update the config server connection string</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27102">SERVER-27102</a> force a ShardRegistry reload in the beginning of addShard to ensure a removed shard’s ReplicaSetMonitor has been detached</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27215">SERVER-27215</a> Some invariants in MigrationChunkClonerSourceLegacy are not applicable to broadcast multi-update and multi-delete</li>
</ul>
</div>
<div class="section" id="id208">
<h3>Replication<a class="headerlink" href="#id208" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27024">SERVER-27024</a> Write additional test for new replSetStepDown behavior</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27092">SERVER-27092</a> blacklist apply_ops1.js from dynamic initial sync passthroughs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27110">SERVER-27110</a> clear OplogBuffer at the end of initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27117">SERVER-27117</a> set writeConcernMajorityJournalDefault to false in nojournal, inmem, and ephemeralForTest variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27124">SERVER-27124</a> Disallow readConcern:majority reads on pv0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27164">SERVER-27164</a> Deadlock during oplog application when implicitly creating multiple collections on the same DB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27176">SERVER-27176</a> Improve performance of command writeConcern parsing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27196">SERVER-27196</a> add timeouts to stepdown_needs_electable_secondary.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27206">SERVER-27206</a> blacklist tests involving MapReduce from initial sync dynamic passthroughs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27214">SERVER-27214</a> Disallow chaining in stepdown_needs_electable_secondary.js and stepdown_needs_majority.js</li>
</ul>
</div>
<div class="section" id="id209">
<h3>Query<a class="headerlink" href="#id209" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27197">SERVER-27197</a> Code BSON type should not be compared using a collation-aware string comparator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27200">SERVER-27200</a> Comparison of the scope object in a BSON element of type CodeWScope should not respect the collation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27207">SERVER-27207</a> Find on view with sort through mongos may incorrectly return empty result set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27300">SERVER-27300</a> Disallow indexing of BSONType::Symbol with a non-simple collation</li>
</ul>
</div>
<div class="section" id="id210">
<h3>Aggregation<a class="headerlink" href="#id210" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27201">SERVER-27201</a> $graphLookup triggers null pointer dereference</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27213">SERVER-27213</a> Two $match stages combine incorrectly, yielding incorrect results.</li>
</ul>
</div>
<div class="section" id="id211">
<h3>Storage<a class="headerlink" href="#id211" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27203">SERVER-27203</a> Queryable WT incorrectly read config string</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27217">SERVER-27217</a> Allow nopreallocj to be specified in YAML config file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27246">SERVER-27246</a> Running applyOps with an op on a nonexistent database using mmapv1 will crash mongod</li>
</ul>
<div class="section" id="id212">
<h4>WiredTiger<a class="headerlink" href="#id212" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26870">SERVER-26870</a> Sometimes collection data file is not removed even though collection is dropped</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27218">SERVER-27218</a> Startup warning recommending the use of XFS isn’t displayed properly in Mongo Shell</li>
</ul>
</div>
</div>
<div class="section" id="id213">
<h3>Operations<a class="headerlink" href="#id213" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27210">SERVER-27210</a> 3.4.0 mongo shell unable to connect using MongoURI with “ssl=true”</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27271">SERVER-27271</a> rolesInfo command raises System.InvalidOperationException : Duplicate element name ‘roles’.</li>
</ul>
</div>
<div class="section" id="id214">
<h3>Build and Packaging<a class="headerlink" href="#id214" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-17368">SERVER-17368</a> Create windows SSL zip file with OpenSSL files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27130">SERVER-27130</a> Switch mongo-rocks to v3.4 branch for 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27241">SERVER-27241</a> Cannot write pid file to /var/run/mongodb/mongod.pid: No such file or directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27377">SERVER-27377</a> Dynamic builds should use –no-as-needed for executables, not just libraries</li>
</ul>
</div>
<div class="section" id="id215">
<h3>Tools<a class="headerlink" href="#id215" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1498">TOOLS-1498</a> Stats collection has large playback performance impact</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1501">TOOLS-1501</a> Add option to set capture buffer size to avoid packet loss</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1502">TOOLS-1502</a> Playback file contains full reply payload</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1516">TOOLS-1516</a> mongoreplay: out of bounds error in “shortenreply” during record</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1535">TOOLS-1535</a> Add test for restoring a collection with a default collation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1561">TOOLS-1561</a> nil pointer dereference in mongoreplay when error on new playback file creation</li>
</ul>
</div>
<div class="section" id="id216">
<h3>Internals<a class="headerlink" href="#id216" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-20447">SERVER-20447</a> Add concurrency workload that tests distributed lock code</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26445">SERVER-26445</a> resmoke.py’s LoggerPipe threads can stop consuming output from their pipes for long periods</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26940">SERVER-26940</a> Network Interface ASIO Integration Test stress test opens too many connections on windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26981">SERVER-26981</a> Update mongo-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27141">SERVER-27141</a> Update perf.yml, system-perf.yml, and longevity.yml on 3.4 branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27145">SERVER-27145</a> Shard name from a single node mongod not used as shard index in getSerializedCluster concurrency suite file cluster.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27171">SERVER-27171</a> Add operator&lt;&lt;(bool) to StringBuilderImpl</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27202">SERVER-27202</a> Mark sys-perf cluster idle after regression runs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27223">SERVER-27223</a> Make Command::parseNs() more efficient</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27240">SERVER-27240</a> ConnectBG must not close() while the background thread is active</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27275">SERVER-27275</a> Longevity uploads compiled mongod archive to different url than sys-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27358">SERVER-27358</a> Socket::connect expects _timeout field to be in milliseconds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27363">SERVER-27363</a> Typo in packaging script</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-27388">SERVER-27388</a> Handle exceeded time limit in NI connection hook</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1541">TOOLS-1541</a> support exporting views</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1558">TOOLS-1558</a> use mongodb 3.4 “current” tests in master</li>
</ul>
</div>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="3.4.html" title="Previous Section: Release Notes for MongoDB 3.4"><span>Release Notes for MongoDB 3.4</span></a>
      <a class="btn-next-text" href="3.4-compatibility.html" title="Next Section: Compatibility Changes in MongoDB 3.4"><span>Compatibility Changes in MongoDB 3.4</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id='mongodb-docs-1'>
   <script type='text/javascript'>
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops='{"links": [{"url": "https://www.mongodb.com/docs/manual/","text": "Server","active": true},{"url": "https://www.mongodb.com/docs/drivers/","text": "Drivers"},{"url": "https://www.mongodb.com/docs/cloud/","text": "Cloud"},{"url": "https://www.mongodb.com/docs/tools/","text": "Tools"},{"url": "https://www.mongodb.com/docs/guides/","text": "Guides"}], "baseUrl": "https://www.mongodb.com/docs"}'></div>

  

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = ['/administration', '/administration/production-checklist', '/administration/indexes-management', '/aggregation', '/applications/geospatial-indexes', '/applications/indexes', '/contributors/getting-started', '/core/2d', '/core/2dsphere', '/core/auditing', '/core/authentication', '/core/authorization', '/core/backups', '/core/read-isolation-consistency-recency', '/core/databases-and-collections', '/core/geohaystack', '/core/index-single', '/core/index-compound', '/core/index-creation', '/core/index-hashed', '/core/index-multikey', '/core/index-partial', '/core/index-sparse', '/core/index-text', '/core/index-ttl', '/core/index-unique', '/core/journaling', '/core/kerberos', '/core/map-reduce', '/core/operational-segregation', '/core/query-optimization', '/core/replica-set-architectures', '/core/replica-set-high-availability', '/core/replica-set-members', '/core/replica-set-secondary', '/core/transactions', '/geospatial-queries', '/replication', '/core/sharded-cluster-components', '/core/wiredtiger', '/core/write-operations-atomicity', '/crud', '/indexes', '/installation', '/introduction', '/mongo', '/products/bi-connector', '/reference/command', '/reference/collation', '/text-search', '/tutorial/manage-the-database-profiler', '/core/index-text', '/reference/configuration-options', '/reference/indexes', '/reference/method', '/reference/operator/aggregation', '/reference/operator/query', '/reference/operator/query-modifier', '/reference/operator/update', '/reference/replication', '/reference/read-concern', '/reference/security', '/reference/sharding', '/reference/write-concern', '/release-notes/2.4', '/release-notes/2.6', '/release-notes/2.8', '/release-notes/3.0', '/release-notes/3.2', '/release-notes/3.4', '/release-notes/3.6', '/release-notes/4.0', '/security', '/sharding', '/changeStreams', '/core/zone-sharding', '/core/hashed-sharding', '/core/ranged-sharding', '/storage', '/tutorial/change-sharded-cluster-wiredtiger', '/tutorial/insert-documents', '/tutorial/query-documents', '/tutorial/remove-documents', '/tutorial/update-documents', '/tutorial/enable-authentication', '/tutorial/install-mongodb-on-ubuntu', '/tutorial/install-mongodb-on-windows', '/tutorial/install-mongodb-on-red-hat', '/tutorial/install-mongodb-on-debian', '/tutorial/install-mongodb-on-suse', '/tutorial/install-mongodb-on-amazon', '/tutorial/install-mongodb-enterprise-on-ubuntu', '/tutorial/install-mongodb-enterprise-on-windows', '/tutorial/install-mongodb-enterprise-on-red-hat', '/tutorial/install-mongodb-enterprise-on-debian', '/tutorial/install-mongodb-enterprise-on-suse', '/tutorial/install-mongodb-enterprise-on-amazon', '/tutorial/install-mongodb-on-os-x'];
  </script></body>
</html>