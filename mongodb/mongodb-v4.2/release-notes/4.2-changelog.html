<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css' /><title>4.2 Changelog &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/release-notes/4.2-changelog/" /><meta name="robots" content="index" />
  <meta name="release" content="4.2.18"/>
  <meta name="version" content="4.2"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/v4.2/source/release-notes/4.2-changelog.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css" />
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Release Notes for MongoDB 4.2" href="4.2.html" />
<link rel="next" title="Release Notes for MongoDB 4.0" href="4.0.html" />
<link rel="prev" title="Downgrade 4.2 Sharded Cluster to 4.0" href="4.2-downgrade-sharded-cluster.html" /><script type='text/javascript'>
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script></head>
<body data-project="manual" data-project-title="MongoDB Manual" data-branch="v4.2" data-enable-marian=1 data-eol="True">
  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" style="margin-top: 0;">

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown" disabled aria-disabled="disabled">
          
          
          Version 4.2
        </button>
        <a href="https://www.mongodb.com/docs/legacy">&larr; Return to Documentation</a>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started</a></li><li class="toctree-l2"><a class="reference external" href="https://docs.atlas.mongodb.com/getting-started/">Create an Atlas Free Tier Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../core/databases-and-collections.html">Databases and Collections</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/views.html">Views</a></li><li class="toctree-l3"><a class="reference internal" href="../core/materialized-views.html">On-Demand Materialized Views</a></li><li class="toctree-l3"><a class="reference internal" href="../core/views/join-collections-with-view.html">Use a View to Join Two Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/capped-collections.html">Capped Collections</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/document.html">Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/bson-types.html">BSON Types</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/bson-type-comparison-order.html">Comparison/Sort Order</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON (v2)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodb-extended-json-v1.html">MongoDB Extended JSON (v1)</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/install-community.html">Install MongoDB Community Edition</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/install-on-linux.html">Install on Linux</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat.html">Install on Red Hat</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install on Ubuntu</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu-tarball.html">Install using .tgz Tarball</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/installation-ubuntu-community-troubleshooting.html">Troubleshoot Ubuntu Installation</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install on Debian</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-debian-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-suse.html">Install on SUSE</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-suse-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-amazon.html">Install on Amazon</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-amazon-tarball.html">Install using .tgz Tarball</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install on macOS</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install on Windows</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-windows-unattended.html">Install using msiexec.exe</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/install-enterprise.html">Install MongoDB Enterprise</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/install-enterprise-linux.html">Install on Linux</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-red-hat.html">Install on Red Hat</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-red-hat-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-ubuntu.html">Install on Ubuntu</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-ubuntu-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-debian.html">Install on Debian</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-debian-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-suse.html">Install on SUSE</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-suse-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-amazon.html">Install on Amazon</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-amazon-tarball.html">Install using .tgz Tarball</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-os-x.html">Install on macOS</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-windows.html">Install on Windows</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-windows-unattended.html">Install using msiexec.exe</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-with-docker.html">Install with Docker</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/upgrade-community-to-enterprise.html">Upgrade MongoDB Community to MongoDB Enterprise</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-standalone.html">Upgrade to MongoDB Enterprise (Standalone)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-replica-set.html">Upgrade to MongoDB Enterprise (Replica Set)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-sharded-cluster.html">Upgrade to MongoDB Enterprise (Sharded Cluster)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/verify-mongodb-packages.html">Verify Integrity of MongoDB Packages</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../mongo.html">The <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-mongo-shell.html">Configure the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../core/shell-types.html">Data Types in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../crud.html">MongoDB CRUD Operations</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/insert-documents.html">Insert Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/insert-methods.html">Insert Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/query-documents.html">Query Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-embedded-documents.html">Query on Embedded/Nested Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-arrays.html">Query an Array</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-array-of-documents.html">Query an Array of Embedded Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/project-fields-from-query-results.html">Project Fields to Return from Query</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-for-null-fields.html">Query for Null or Missing Fields</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/iterate-a-cursor.html">Iterate a Cursor in the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/update-documents.html">Update Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/update-documents-with-aggregation-pipeline.html">Updates with Aggregation Pipeline</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/update-methods.html">Update Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/remove-documents.html">Delete Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/delete-methods.html">Delete Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/bulk-write-operations.html">Bulk Write Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/retryable-writes.html">Retryable Writes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/retryable-reads.html">Retryable Reads</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../text-search.html">Text Search</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/link-text-indexes.html">Text Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/text-search-operators.html">Text Search Operators</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/text-search-in-aggregation.html">Text Search in the Aggregation Pipeline</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/text-search-languages.html">Text Search Languages</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../geospatial-queries.html">Geospatial Queries</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/geospatial-tutorial.html">Find Restaurants with Geospatial Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/geojson.html">GeoJSON Objects</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/read-concern.html">Read Isolation (Read Concern)</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-local.html">Read Concern <code class="docutils literal"><span class="pre">&quot;local&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-available.html">Read Concern <code class="docutils literal"><span class="pre">&quot;available&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-majority.html">Read Concern <code class="docutils literal"><span class="pre">&quot;majority&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-linearizable.html">Read Concern <code class="docutils literal"><span class="pre">&quot;linearizable&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-snapshot.html">Read Concern <code class="docutils literal"><span class="pre">&quot;snapshot&quot;</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/write-concern.html">Write Acknowledgement (Write Concern)</a></li><li class="toctree-l2"><a class="reference internal" href="../core/crud.html">MongoDB CRUD Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/write-operations-atomicity.html">Atomicity and Transactions</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-isolation-consistency-recency.html">Read Isolation, Consistency, and Recency</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/causal-consistency-read-write-concerns.html">Causal Consistency and Read and Write Concerns</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/distributed-queries.html">Distributed Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-findAndModify-linearizable-reads.html">Linearizable Reads via <code class="docutils literal"><span class="pre">findAndModify</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../core/query-plans.html">Query Plans</a></li><li class="toctree-l3"><a class="reference internal" href="../core/query-optimization.html">Query Optimization</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/evaluate-operation-performance.html">Evaluate Performance of Current Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/optimize-query-performance-with-indexes-and-projections.html">Optimize Query Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../core/write-performance.html">Write Operation Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/explain-results.html">Explain Results</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/analyze-query-plan.html">Analyze Query Performance</a></li><li class="toctree-l3"><a class="reference internal" href="../core/tailable-cursors.html">Tailable Cursors</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/aggregation-pipeline.html">Aggregation Pipeline</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-optimization.html">Aggregation Pipeline Optimization</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-limits.html">Aggregation Pipeline Limits</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-sharded-collections.html">Aggregation Pipeline and Sharded Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-zip-code-data-set.html">Example with ZIP Code Data</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-with-user-preference-data.html">Example with User Preference Data</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/map-reduce.html">Map-Reduce</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce-sharded-collections.html">Map-Reduce and Sharded Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce-concurrency.html">Map-Reduce Concurrency</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/map-reduce-examples.html">Map-Reduce Examples</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-incremental-map-reduce.html">Perform Incremental Map-Reduce</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-map-function.html">Troubleshoot the Map Function</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-reduce-function.html">Troubleshoot the Reduce Function</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../meta/aggregation-quick-reference.html">Aggregation Pipeline Quick Reference</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/interface.html">Aggregation Commands</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-commands-comparison.html">Aggregation Commands Comparison</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-variables.html">Variables in Aggregation Expressions</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l3"><a class="reference external" href="https://www.practical-mongodb-aggregations.com">Practical MongoDB Aggregations (e-book)</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Models</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/data-modeling-introduction.html">Data Modeling Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/schema-validation.html">Schema Validation</a></li><li class="toctree-l2"><a class="reference internal" href="../core/data-models.html">Data Modeling Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/data-model-design.html">Data Model Design</a></li><li class="toctree-l3"><a class="reference internal" href="../core/data-model-operations.html">Operational Factors and Data Models</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/data-models.html">Data Model Examples and Patterns</a><ul><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-relationships.html">Model Relationships Between Documents</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model One-to-One Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Document References</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-tree-structures.html">Model Tree Structures</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-applications.html">Model Specific Application Contexts</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-schema-versioning.html">Model Data for Schema Versioning</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-monetary-data.html">Model Monetary Data</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-time-data.html">Model Time Data</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-computed-data.html">Model Computed Data</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/data-models.html">Data Model Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/database-references.html">Database References</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../core/transactions.html">Transactions</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/transactions-in-applications.html">Drivers API</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-production-consideration.html">Production Considerations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-sharded-clusters.html">Production Considerations (Sharded Clusters)</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-operations.html">Transactions and Operations</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/index-single.html">Single Field Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-compound.html">Compound Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-multikey.html">Multikey Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/multikey-index-bounds.html">Multikey Index Bounds</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-text.html">Text Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/specify-language-for-text-index.html">Specify a Language for Text Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/avoid-text-index-name-limit.html">Specify Name for <code class="docutils literal"><span class="pre">text</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/control-results-of-text-search.html">Control Search Results with Weights</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/limit-number-of-items-scanned-for-text-search.html">Limit the Number of Entries Scanned</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-wildcard.html">Wildcard Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/index-wildcard-restrictions.html">Wildcard Index Restrictions</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/2dsphere.html"><code class="docutils literal"><span class="pre">2dsphere</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-2dsphere-index.html">Query a <code class="docutils literal"><span class="pre">2dsphere</span></code> Index</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/2d.html"><code class="docutils literal"><span class="pre">2d</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-a-2d-index.html">Create a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-2d-index.html">Query a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../core/geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Index Internals</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/calculate-distances-using-spherical-geometry-with-2d-geospatial-indexes.html">Calculate Distance Using Spherical Geometry</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/geohaystack.html"><code class="docutils literal"><span class="pre">geoHaystack</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-a-geohaystack-index.html">Create a Haystack Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-geohaystack-index.html">Query a Haystack Index</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-hashed.html">Hashed Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-properties.html">Index Properties</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/index-ttl.html">TTL Indexes</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/index-unique.html">Unique Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-partial.html">Partial Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-case-insensitive.html">Case Insensitive Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-sparse.html">Sparse Indexes</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-creation.html">Index Builds on Populated Collections</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-indexes-on-replica-sets.html">Build Indexes on Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-indexes-on-sharded-clusters.html">Build Indexes on Sharded Clusters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-intersection.html">Index Intersection</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-indexes.html">Manage Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/measure-index-use.html">Measure Index Use</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/equality-sort-range-rule.html">The ESR (Equality, Sort, Range) Rule</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-indexes-to-support-queries.html">Create Indexes to Support Your Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sort-results-with-indexes.html">Use Indexes to Sort Query Results</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/ensure-indexes-fit-ram.html">Ensure Indexes Fit in RAM</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-queries-that-ensure-selectivity.html">Create Queries that Ensure Selectivity</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/indexes.html">Indexing Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/security-checklist.html">Security Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/enable-authentication.html">Enable Access Control</a></li><li class="toctree-l2"><a class="reference internal" href="../core/authentication.html">Authentication</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-users.html">Users</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-users.html">Add Users</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/authentication-mechanisms.html">Authentication Mechanisms</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/security-scram.html">SCRAM</a></li><li class="toctree-l4"><a class="reference internal" href="../core/security-x.509.html">x.509</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/configure-x509-client-authentication.html">Use x.509 Certificates to Authenticate Clients</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/authentication-mechanisms-enterprise.html">Enterprise Authentication Mechanisms</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/kerberos.html">Kerberos Authentication</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-kerberos-authentication.html">Configure MongoDB with Kerberos Authentication on Linux</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/control-access-to-mongodb-windows-with-kerberos-authentication.html">Configure MongoDB with Kerberos Authentication on Windows</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/troubleshoot-kerberos.html">Troubleshoot Kerberos Authentication</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/kerberos-auth-activedirectory-authz.html">Configure MongoDB with Kerberos Authentication and Active Directory Authorization</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/security-ldap.html">LDAP Proxy Authentication</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/configure-ldap-sasl-activedirectory.html">Authenticate Using SASL and LDAP with ActiveDirectory</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/configure-ldap-sasl-openldap.html">Authenticate Using SASL and LDAP with OpenLDAP</a></li><li class="toctree-l5"><a class="reference internal" href="../tutorial/authenticate-nativeldap-activedirectory.html">Authenticate and Authorize Users Using Active Directory via Native LDAP</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/security-ldap-external.html">LDAP Authorization</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-internal-authentication.html">Internal/Membership Authentication</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-replica-set-with-keyfile-access-control.html">Deploy Replica Set With Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-replica-set.html">Update Replica Set to Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-replica-set-without-downtime.html">Update Replica Set to Keyfile Authentication (No Downtime)</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-key-replica-set.html">Rotate Keys for Replica Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-sharded-cluster-with-keyfile-access-control.html">Deploy Sharded Cluster with Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-sharded-cluster.html">Update Sharded Cluster to Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-sharded-cluster-no-downtime.html">Update Sharded Cluster to Keyfile Authentication (No Downtime)</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-key-sharded-cluster.html">Rotate Keys for Sharded Clusters</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-x509-member-authentication.html">Use x.509 Certificate for Membership Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/upgrade-keyfile-to-x509.html">Upgrade from Keyfile Authentication to x.509 Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-x509-membership-certificates.html">Rolling Update of x.509 Cluster Certificates that Contain New DN</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/authorization.html">Role-Based Access Control</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/built-in-roles.html">Built-In Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-user-defined-roles.html">User-Defined Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-users-and-roles.html">Manage Users and Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-own-password-and-custom-data.html">Change Your Password and Custom Data</a></li><li class="toctree-l3"><a class="reference internal" href="../core/collection-level-access-control.html">Collection-Level Access Control</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-transport-encryption.html">TLS/SSL (Transport Encryption)</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-ssl.html">Configure <code class="docutils literal"><span class="pre">mongod</span></code> and <code class="docutils literal"><span class="pre">mongos</span></code> for TLS/SSL</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-ssl-clients.html">TLS/SSL Configuration for Clients</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-cluster-to-ssl.html">Upgrade a Cluster to Use TLS/SSL</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-fips.html">Configure MongoDB for FIPS</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-encryption-at-rest.html">Encryption at Rest</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-encryption.html">Configure Encryption</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rotate-encryption-key.html">Rotate Encryption Keys</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-client-side-encryption.html">Client-Side Field Level Encryption</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-automatic-client-side-encryption.html">Automatic Client-Side Field Level Encryption</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/security-client-side-automatic-json-schema.html">Automatic Encryption Rules</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/security-client-side-query-aggregation-support.html">Read/Write Support with Automatic Field Level Encryption</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/security-client-side-encryption-appendix.html">Appendix</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-explicit-client-side-encryption.html">Explicit (Manual) Client-Side Field Level Encryption</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-client-side-encryption-key-management.html">Master Key and Data Encryption Key Management</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-client-side-encryption-data-keys.html">Manage Data Encryption Keys</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/security-client-side-encryption-limitations.html">Limitations</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/auditing.html">Auditing</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-auditing.html">Configure Auditing</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-audit-filters.html">Configure Audit Filters</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/audit-message.html">System Event Audit Messages</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-hardening.html">Network and Configuration Hardening</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-mongodb-configuration.html">IP Binding</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/implement-field-level-redaction.html">Implement Field Level Redaction</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/security.html">Security Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/system-roles-collection.html"><code class="docutils literal"><span class="pre">system.roles</span></code> Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/system-users-collection.html"><code class="docutils literal"><span class="pre">system.users</span></code> Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/resource-document.html">Resource Document</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/privilege-actions.html">Privilege Actions</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-a-vulnerability-report.html">Create a Vulnerability Report</a></li><li class="toctree-l2"><a class="reference internal" href="../appendix/security.html">Appendix</a><ul><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixA-openssl-ca.html">Appendix A - OpenSSL CA Certificate for Testing</a></li><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixB-openssl-server.html">Appendix B - OpenSSL Server Certificates for Testing</a></li><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixC-openssl-client.html">Appendix C - OpenSSL Client Certificates for Testing</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../changeStreams.html">Change Streams</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/change-streams-production-recommendations.html">Change Streams Production Recommendations</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/change-events.html">Change Events</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/delete.html">delete</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/drop.html">drop</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/dropDatabase.html">dropDatabase</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/insert.html">insert</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/invalidate.html">invalidate</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/rename.html">rename</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/replace.html">replace</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/change-events/update.html">update</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-members.html">Replica Set Members</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-primary.html">Replica Set Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-secondary.html">Replica Set Secondary Members</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-priority-0-member.html">Priority 0 Replica Set Members</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-hidden-member.html">Hidden Replica Set Members</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-delayed-member.html">Delayed Replica Set Members</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-arbiter.html">Replica Set Arbiter</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-oplog.html">Replica Set Oplog</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-sync.html">Replica Set Data Synchronization</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-architectures.html">Replica Set Deployment Architectures</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architecture-three-members.html">Three Member Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architecture-geographically-distributed.html">Replica Sets Distributed Across Two or More Data Centers</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-high-availability.html">Replica Set High Availability</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-elections.html">Replica Set Elections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-rollbacks.html">Rollbacks During Replica Set Failover</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Read and Write Semantics</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-write-concern.html">Write Concern for Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-preference.html">Read Preference</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-tags.html">Tag Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-staleness.html">maxStalenessSeconds</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-use-cases.html">Read Preference Use Cases</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/read-preference-mechanics.html">Server Selection Algorithm</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-deployment.html">Replica Set Deployment Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-replica-set-for-testing.html">Deploy a Replica Set for Testing and Development</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Redundant Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/add-replica-set-arbiter.html">Add an Arbiter to Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-replica-set-member.html">Remove Members from Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/replace-replica-set-member.html">Replace a Replica Set Member</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-member-configuration.html">Member Configuration Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/adjust-replica-set-member-priority.html">Adjust Priority for Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-secondary-only-replica-set-member.html">Prevent Secondary from Becoming Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-hidden-replica-set-member.html">Configure a Hidden Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-delayed-replica-set-member.html">Configure a Delayed Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-non-voting-replica-set-member.html">Configure Non-Voting Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-maintenance.html">Replica Set Maintenance Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-maintence-on-replica-set-members.html">Perform Maintenance on Replica Set Members</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/resync-replica-set-member.html">Resync a Member of a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-replica-set-tag-sets.html">Configure Replica Set Tag Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-chained-replication.html">Manage Chained Replication</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-replica-set-secondary-sync-target.html">Configure a Secondarys Sync Target</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rename-unsharded-replica-set.html">Rename a Replica Set</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication.html">Replication Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-set-protocol-versions.html">Replica Set Protocol Version</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-replica-sets.html">Troubleshoot Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-states.html">Replica Set Member States</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/sharded-cluster-components.html">Sharded Cluster Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-shards.html">Shards</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-config-servers.html">Config Servers (metadata)</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-query-router.html">Router (mongos)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-shard-key.html">Shard Keys</a></li><li class="toctree-l2"><a class="reference internal" href="../core/hashed-sharding.html">Hashed Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../core/ranged-sharding.html">Ranged Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../core/zone-sharding.html">Zones</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-segmenting-data-by-location.html">Segmenting Data by Location</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-tiered-hardware-for-varying-slas.html">Tiered Hardware for Varying SLA or SLO</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-segmenting-shards.html">Segmenting Data by Application or Customer</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-high-availability-writes.html">Distributed Local Writes for Insert Only Workloads</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-data-partitioning.html">Data Partitioning with Chunks</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-chunks-in-sharded-cluster.html">Create Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/split-chunks-in-sharded-cluster.html">Split Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/merge-chunks-in-sharded-cluster.html">Merge Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/modify-chunk-size-in-sharded-cluster.html">Modify Chunk Size in a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-balancer-administration.html">Balancer</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/migrate-chunks-in-sharded-cluster.html">Migrate Chunks in a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-cluster-administration.html">Administration</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/sharded-cluster-config-servers.html">Config Server Administration</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/replace-config-server.html">Replace a Config Server</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/restart-sharded-cluster.html">Restart a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/migrate-sharded-cluster-to-new-hardware.html">Migrate a Sharded Cluster to Different Hardware</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/clear-jumbo-flag.html">Clear <code class="docutils literal"><span class="pre">jumbo</span></code> Flag</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-sharded-cluster-metadata.html">Back Up Cluster Metadata</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-sharded-cluster-to-replica-set.html">Convert Sharded Cluster to Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding.html">Sharding Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-requirements.html">Operational Restrictions</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-sharded-clusters.html">Troubleshoot Sharded Clusters</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/config-database.html">Config Database</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-checklist-operations.html">Operations Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-checklist-development.html">Development Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/analyzing-mongodb-performance.html">Performance</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/connection-pool-overview.html">Connection Pool Overview</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/connection-pool-performance-tuning.html">Tuning Your Connection Pool Settings</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Database Profiler</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/transparent-huge-pages.html">Disable Transparent Huge Pages (THP)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/configuration-and-maintenance.html">Configuration and Maintenance</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-revision.html">Upgrade to the Latest Revision of MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/terminate-running-operations.html">Terminate Running Operations</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../data-center-awareness.html">Data Center Awareness</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/workload-isolation.html">Workload Isolation in MongoDB Deployments</a></li><li class="toctree-l3"><a class="reference internal" href="../core/zone-sharding.html">Zones</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-segmenting-data-by-location.html">Segmenting Data by Location</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-tiered-hardware-for-varying-slas.html">Tiered Hardware for Varying SLA or SLO</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-segmenting-shards.html">Segmenting Data by Application or Customer</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-high-availability-writes.html">Distributed Local Writes for Insert Only Workloads</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/backups.html">MongoDB Backup Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-with-filesystem-snapshots.html">Back Up and Restore with Filesystem Snapshots</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-and-restore-tools.html">Back Up and Restore with MongoDB Tools</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/restore-replica-set-from-backup.html">Restore a Replica Set from MongoDB Backups</a></li><li class="toctree-l3"><a class="reference internal" href="../administration/backup-sharded-clusters.html">Backup and Restore Sharded Clusters</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Back Up a Sharded Cluster with File System Snapshots</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Back Up a Sharded Cluster with Database Dumps</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore a Sharded Cluster</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover a Standalone after an Unexpected Shutdown</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/monitoring.html">Monitoring for MongoDB</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/free-monitoring.html">Free Monitoring</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/monitor-with-snmp.html">Monitor MongoDB With SNMP on Linux</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/monitor-with-snmp-on-windows.html">Monitor MongoDB Windows with SNMP</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-snmp.html">Troubleshoot SNMP</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../storage.html">Storage</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/storage-engines.html">Storage Engines</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/wiredtiger.html">WiredTiger Storage Engine</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-standalone-wiredtiger.html">Change Standalone to WiredTiger</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-replica-set-wiredtiger.html">Change Replica Set to WiredTiger</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-sharded-cluster-wiredtiger.html">Change Sharded Cluster to WiredTiger</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/inmemory.html">In-Memory Storage Engine</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/journaling.html">Journaling</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-journaling.html">Manage Journaling</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/gridfs.html">GridFS</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul><li class="toctree-l2"><a class="reference internal" href="../faq/fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/replica-sets.html">FAQ: Replication and Replica Sets</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a><ul><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query.html">Query and Projection Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-comparison.html">Comparison Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/eq.html">$eq</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-logical.html">Logical Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-element.html">Element Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-evaluation.html">Evaluation Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/expr.html">$expr</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/jsonSchema.html">$jsonSchema</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/text.html">$text</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-geospatial.html">Geospatial Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoIntersects.html">$geoIntersects</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoWithin.html">$geoWithin</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geometry.html">$geometry</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/minDistance.html">$minDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-array.html">Array Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-bitwise.html">Bitwise Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAllClear.html">$bitsAllClear</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAllSet.html">$bitsAllSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAnyClear.html">$bitsAnyClear</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAnySet.html">$bitsAnySet</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query/comment.html">$comment</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/projection.html">Projection Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/meta.html">$meta</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update.html">Update Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-field.html">Field Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/currentDate.html">$currentDate</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/min.html">$min</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/max.html">$max</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/mul.html">$mul</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/setOnInsert.html">$setOnInsert</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-array.html">Array Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional.html">$ (update)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional-all.html">$[]</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional-filtered.html">$[&lt;identifier&gt;]</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/position.html">$position</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/slice.html">$slice</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/sort.html">$sort</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-bitwise.html">Bitwise Update Operator</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation-pipeline.html">Aggregation Pipeline Stages</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/addFields.html">$addFields (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bucket.html">$bucket (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bucketAuto.html">$bucketAuto (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/changeStream.html">$changeStream (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/collStats.html">$collStats (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/count.html">$count (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/currentOp.html">$currentOp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/facet.html">$facet (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/geoNear.html">$geoNear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/graphLookup.html">$graphLookup (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexStats.html">$indexStats (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/listLocalSessions.html">$listLocalSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/listSessions.html">$listSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lookup.html">$lookup (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/merge.html">$merge (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/out.html">$out (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/planCacheStats.html">$planCacheStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/redact.html">$redact (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceRoot.html">$replaceRoot (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceWith.html">$replaceWith (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sample.html">$sample (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/search.html">$search (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/set.html">$set (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sortByCount.html">$sortByCount (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unset.html">$unset (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation.html">Aggregation Pipeline Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/abs.html">$abs (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/acos.html">$acos (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/acosh.html">$acosh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/allElementsTrue.html">$allElementsTrue (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/anyElementTrue.html">$anyElementTrue (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/arrayElemAt.html">$arrayElemAt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/arrayToObject.html">$arrayToObject (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/asin.html">$asin (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/asinh.html">$asinh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/atan.html">$atan (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/atan2.html">$atan2 (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/atanh.html">$atanh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ceil.html">$ceil (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/concat.html">$concat (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/concatArrays.html">$concatArrays (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/convert.html">$convert (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cos.html">$cos (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateFromParts.html">$dateFromParts (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateToParts.html">$dateToParts (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateFromString.html">$dateFromString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateToString.html">$dateToString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/degreesToRadians.html">$degreesToRadians (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/exp.html">$exp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/filter.html">$filter (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/floor.html">$floor (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/in.html">$in (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfArray.html">$indexOfArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfBytes.html">$indexOfBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfCP.html">$indexOfCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isArray.html">$isArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoDayOfWeek.html">$isoDayOfWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoWeek.html">$isoWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoWeekYear.html">$isoWeekYear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/let.html">$let (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/literal.html">$literal (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ln.html">$ln (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/log.html">$log (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/log10.html">$log10 (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ltrim.html">$ltrim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/map.html">$map (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/mergeObjects.html">$mergeObjects (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/meta.html">$meta (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/millisecond.html">$millisecond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/objectToArray.html">$objectToArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/pow.html">$pow (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/radiansToDegrees.html">$radiansToDegrees (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/range.html">$range (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/reduce.html">$reduce (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/regexFind.html">$regexFind (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/regexFindAll.html">$regexFindAll (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/regexMatch.html">$regexMatch (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/reverseArray.html">$reverseArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/round.html">$round (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/rtrim.html">$rtrim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setDifference.html">$setDifference (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setEquals.html">$setEquals (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setIntersection.html">$setIntersection (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setIsSubset.html">$setIsSubset (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setUnion.html">$setUnion (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/size.html">$size (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sin.html">$sin (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/slice.html">$slice (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/split.html">$split (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sqrt.html">$sqrt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/stdDevPop.html">$stdDevPop (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/stdDevSamp.html">$stdDevSamp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strLenBytes.html">$strLenBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strLenCP.html">$strLenCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substrBytes.html">$substrBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substrCP.html">$substrCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/switch.html">$switch (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/tan.html">$tan (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toBool.html">$toBool (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDate.html">$toDate (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDecimal.html">$toDecimal (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDouble.html">$toDouble(aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toInt.html">$toInt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toLong.html">$toLong (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toObjectId.html">$toObjectId (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toString.html">$toString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/trim.html">$trim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/trunc.html">$trunc (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/type.html">$type (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/zip.html">$zip (aggregation)</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query-modifier.html">Query Modifiers</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/comment.html">$comment</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/explain.html">$explain</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/hint.html">$hint</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/max.html">$max</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/maxTimeMS.html">$maxTimeMS</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/min.html">$min</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/orderby.html">$orderby</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/query.html">$query</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/returnKey.html">$returnKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/showDiskLoc.html">$showDiskLoc</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-aggregation.html">Aggregation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-geospatial.html">Geospatial Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-crud.html">Query and Write Operation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/delete.html">delete</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/find.html">find</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getMore.html">getMore</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/insert.html">insert</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/update.html">update</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-plan-cache.html">Query Plan Cache Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheClear.html">planCacheClear</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheClearFilters.html">planCacheClearFilters</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListFilters.html">planCacheListFilters</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListPlans.html">planCacheListPlans</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListQueryShapes.html">planCacheListQueryShapes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheSetFilter.html">planCacheSetFilter</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-authentication.html">Authentication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getnonce.html">getnonce</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logout.html">logout</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-user-management.html">User Management Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/createUser.html">createUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropAllUsersFromDatabase.html">dropAllUsersFromDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropUser.html">dropUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantRolesToUser.html">grantRolesToUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokeRolesFromUser.html">revokeRolesFromUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateUser.html">updateUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/usersInfo.html">usersInfo</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-role-management.html">Role Management Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/createRole.html">createRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropRole.html">dropRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropAllRolesFromDatabase.html">dropAllRolesFromDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantPrivilegesToRole.html">grantPrivilegesToRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantRolesToRole.html">grantRolesToRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/invalidateUserCache.html">invalidateUserCache</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokePrivilegesFromRole.html">revokePrivilegesFromRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokeRolesFromRole.html">revokeRolesFromRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/rolesInfo.html">rolesInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateRole.html">updateRole</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-replication.html">Replication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/applyOps.html">applyOps</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hello.html">hello</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isMaster.html">isMaster</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetAbortPrimaryCatchUp.html">replSetAbortPrimaryCatchUp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetConfig.html">replSetGetConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetResizeOplog.html">replSetResizeOplog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sharding.html">Sharding Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShardToZone.html">addShardToZone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStart.html">balancerStart</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStatus.html">balancerStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStop.html">balancerStop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/clearJumboFlag.html">clearJumboFlag</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cleanupOrphaned.html">cleanupOrphaned</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/medianKey.html">medianKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mergeChunks.html">mergeChunks</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShardFromZone.html">removeShardFromZone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setAllowMigrations.html">setAllowMigrations</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateZoneKeyRange.html">updateZoneKeyRange</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sessions.html">Sessions Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/abortTransaction.html">abortTransaction</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/commitTransaction.html">commitTransaction</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/endSessions.html">endSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killAllSessions.html">killAllSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killAllSessionsByPattern.html">killAllSessionsByPattern</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killSessions.html">killSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/refreshSessions.html">refreshSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/startSession.html">startSession</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-administration.html">Administration Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollection.html">cloneCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/createIndexes.html">createIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/currentOp.html">currentOp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropConnections.html">dropConnections</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsyncUnlock.html">fsyncUnlock</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killCursors.html">killCursors</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killOp.html">killOp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCollections.html">listCollections</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listIndexes.html">listIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setFeatureCompatibilityVersion.html">setFeatureCompatibilityVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-diagnostic.html">Diagnostic Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/availableQueryOptions.html">availableQueryOptions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connectionStatus.html">connectionStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbHash.html">dbHash</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/explain.html">explain</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/features.html">features</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hostInfo.html">hostInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isSelf.html">isSelf</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/lockInfo.html">lockInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/netstat.html">netstat</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardConnPoolStats.html">shardConnPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-free-monitoring.html">Free Monitoring Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/getFreeMonitoringStatus.html">getFreeMonitoringStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setFreeMonitoring.html">setFreeMonitoring</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-auditing.html">System Events Auditing Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/logApplicationMessage.html">logApplicationMessage</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-collection.html">Collection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.bulkWrite.html">db.collection.bulkWrite()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.copyTo.html">db.collection.copyTo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.countDocuments.html">db.collection.countDocuments()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.estimatedDocumentCount.html">db.collection.estimatedDocumentCount()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndexes.html">db.collection.createIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.deleteOne.html">db.collection.deleteOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.deleteMany.html">db.collection.deleteMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.explain.html">db.collection.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndDelete.html">db.collection.findOneAndDelete()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndReplace.html">db.collection.findOneAndReplace()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndUpdate.html">db.collection.findOneAndUpdate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insertOne.html">db.collection.insertOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insertMany.html">db.collection.insertMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.latencyStats.html">db.collection.latencyStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.replaceOne.html">db.collection.replaceOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.save.html">db.collection.save()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.updateOne.html">db.collection.updateOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.updateMany.html">db.collection.updateMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.watch.html">db.collection.watch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-cursor.html">Cursor Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.allowPartialResults.html">cursor.allowPartialResults()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.close.html">cursor.close()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.isClosed.html">cursor.isClosed()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.collation.html">cursor.collation()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.comment.html">cursor.comment()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.isExhausted.html">cursor.isExhausted()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.itcount.html">cursor.itcount()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.maxTimeMS.html">cursor.maxTimeMS()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.noCursorTimeout.html">cursor.noCursorTimeout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.pretty.html">cursor.pretty()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readConcern.html">cursor.readConcern()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.returnKey.html">cursor.returnKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.showRecordId.html">cursor.showRecordId()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.tailable.html">cursor.tailable()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-database.html">Database Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.adminCommand.html">db.adminCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.aggregate.html">db.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createView.html">db.createView()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.eval.html">db.eval()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionInfos.html">db.getCollectionInfos()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLastError.html">db.getLastError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLastErrorObj.html">db.getLastErrorObj()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLogComponents.html">db.getLogComponents()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingLevel.html">db.getProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hello.html">db.hello()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hostInfo.html">db.hostInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.isMaster.html">db.isMaster()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSecondaryReplicationInfo.html">db.printSecondaryReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverCmdLineOpts.html">db.serverCmdLineOpts()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setLogLevel.html">db.setLogLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.watch.html">db.watch()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-plan-cache.html">Query Plan Cache Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getPlanCache.html">db.collection.getPlanCache()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.clear.html">PlanCache.clear()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.clearPlansByQuery.html">PlanCache.clearPlansByQuery()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.getPlansByQuery.html">PlanCache.getPlansByQuery()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.help.html">PlanCache.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.listQueryShapes.html">PlanCache.listQueryShapes()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-bulk.html">Bulk Operation Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.initializeOrderedBulkOp.html">db.collection.initializeOrderedBulkOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.initializeUnorderedBulkOp.html">db.collection.initializeUnorderedBulkOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.html">Bulk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.execute.html">Bulk.execute()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.html">Bulk.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.arrayFilters.html">Bulk.find.arrayFilters()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.collation.html">Bulk.find.collation()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.hint.html">Bulk.find.hint()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.remove.html">Bulk.find.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.removeOne.html">Bulk.find.removeOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.replaceOne.html">Bulk.find.replaceOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.updateOne.html">Bulk.find.updateOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.update.html">Bulk.find.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.upsert.html">Bulk.find.upsert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.getOperations.html">Bulk.getOperations()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.insert.html">Bulk.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.tojson.html">Bulk.tojson()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.toString.html">Bulk.toString()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-user-management.html">User Management Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.changeUserPassword.html">db.changeUserPassword()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createUser.html">db.createUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropUser.html">db.dropUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropAllUsers.html">db.dropAllUsers()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getUser.html">db.getUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getUsers.html">db.getUsers()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantRolesToUser.html">db.grantRolesToUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokeRolesFromUser.html">db.revokeRolesFromUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.updateUser.html">db.updateUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/passwordPrompt.html">passwordPrompt()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-role-management.html">Role Management Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createRole.html">db.createRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropRole.html">db.dropRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropAllRoles.html">db.dropAllRoles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getRole.html">db.getRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getRoles.html">db.getRoles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantPrivilegesToRole.html">db.grantPrivilegesToRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokePrivilegesFromRole.html">db.revokePrivilegesFromRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantRolesToRole.html">db.grantRolesToRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokeRolesFromRole.html">db.revokeRolesFromRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.updateRole.html">db.updateRole()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-replication.html">Replication Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printReplicationInfo.html">rs.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printSecondaryReplicationInfo.html">rs.printSecondaryReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printSlaveReplicationInfo.html">rs.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.secondaryOk.html">rs.secondaryOk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-sharding.html">Sharding Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/convertShardKeyToHashed.html">convertShardKeyToHashed</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardToZone.html">sh.addShardToZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableAutoSplit.html">sh.disableAutoSplit</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableAutoSplit.html">sh.enableAutoSplit</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeRangeFromZone.html">sh.removeRangeFromZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardFromZone.html">sh.removeShardFromZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeTagRange.html">sh.removeTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.updateZoneKeyRange.html">sh.updateZoneKeyRange()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-free-monitoring.html">Free Monitoring Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.disableFreeMonitoring.html">db.disableFreeMonitoring()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.enableFreeMonitoring.html">db.enableFreeMonitoring()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getFreeMonitoringStatus.html">db.getFreeMonitoringStatus</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-constructor.html">Object Constructors and Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/BinData.html">BinData()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/BulkWriteResult.html">BulkWriteResult()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.html">ObjectId()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/UUID.html">UUID()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.html">WriteResult()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.hasWriteError.html">WriteResult.hasWriteError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.hasWriteConcernError.html">WriteResult.hasWriteConcernError()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-connection.html">Connection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefMode.html">Mongo.getReadPrefMode()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefTagSet.html">Mongo.getReadPrefTagSet()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getSecondaryOk.html">Mongo.getSecondaryOk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.isCausalConsistency.html">Mongo.isCausalConsistency()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setCausalConsistency.html">Mongo.setCausalConsistency()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setReadPref.html">Mongo.setReadPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setSecondaryOk.html">Mongo.setSecondaryOk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.startSession.html">Mongo.startSession()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.watch.html">Mongo.watch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Session.html">Session</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.abortTransaction.html">Session.abortTransaction()</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.commitTransaction.html">Session.commitTransaction()</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.startTransaction.html">Session.startTransaction()</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/SessionOptions.html">SessionOptions</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-native.html">Native Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/isInteractive.html">isInteractive()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sleep.html">sleep()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/setVerboseShell.html">setVerboseShell()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/version.html">version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rand.html">_rand()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-client-side-field-level-encryption.html">Client-Side Field Level Encryption Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/getKeyVault.html">getKeyVault()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.createKey.html">KeyVault.createKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.deleteKey.html">KeyVault.deleteKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.getKey.html">KeyVault.getKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.getKeys.html">KeyVault.getKeys()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.addKeyAlternateName.html">KeyVault.addKeyAlternateName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.removeKeyAlternateName.html">KeyVault.removeKeyAlternateName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.getKeyByAltName.html">KeyVault.getKeyByAltName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getClientEncryption.html">getClientEncryption()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ClientEncryption.encrypt.html">ClientEncryption.encrypt()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ClientEncryption.decrypt.html">ClientEncryption.decrypt()</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/program.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongo.html"><code class="docutils literal"><span class="pre">mongo</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongodump.html"><code class="docutils literal"><span class="pre">mongodump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongorestore.html"><code class="docutils literal"><span class="pre">mongorestore</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/bsondump.html"><code class="docutils literal"><span class="pre">bsondump</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoimport.html"><code class="docutils literal"><span class="pre">mongoimport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoexport.html"><code class="docutils literal"><span class="pre">mongoexport</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongostat.html"><code class="docutils literal"><span class="pre">mongostat</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongotop.html"><code class="docutils literal"><span class="pre">mongotop</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoreplay.html"><code class="docutils literal"><span class="pre">mongoreplay</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoldap.html"><code class="docutils literal"><span class="pre">mongoldap</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongofiles.html"><code class="docutils literal"><span class="pre">mongofiles</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/install_compass.html"><code class="docutils literal"><span class="pre">install_compass</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/expansion-directives.html">Externally Sourced Configuration File Values</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-command-line-options-to-yaml.html">Convert Command-Line Options to YAML</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/configuration-file-settings-command-line-options-mapping.html">Configuration File Settings and Command-Line Options Mapping</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/parameters.html">MongoDB Server Parameters</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/explain-results.html">Explain Results</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collation.html">Collation</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/collation-locales-defaults.html">Collation Locales and Default Parameters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-wire-protocol.html">MongoDB Wire Protocol</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/log-messages.html">Log Messages</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/default-mongodb-port.html">Default MongoDB Port</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-defaults.html">Default MongoDB Read Concerns/Write Concerns</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-sessions.html">Server Sessions</a></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../release-notes.html">Release Notes</a><ul class="current"><li class="toctree-l2 current"><a class="reference internal" href="4.2.html">Release Notes for MongoDB 4.2</a><ul class="current"><li class="toctree-l3"><a class="reference internal" href="4.2-compatibility.html">Compatibility Changes in MongoDB 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-upgrade-standalone.html">Upgrade a Standalone to 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-upgrade-replica-set.html">Upgrade a Replica Set to 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-downgrade.html">Downgrade 4.2 to 4.0</a><ul><li class="toctree-l4"><a class="reference internal" href="4.2-downgrade-standalone.html">Downgrade 4.2 Standalone to 4.0</a></li><li class="toctree-l4"><a class="reference internal" href="4.2-downgrade-replica-set.html">Downgrade 4.2 Replica Set to 4.0</a></li><li class="toctree-l4"><a class="reference internal" href="4.2-downgrade-sharded-cluster.html">Downgrade 4.2 Sharded Cluster to 4.0</a></li></ul></li><li class="toctree-l3 current"><a class="reference internal current" href="">4.2 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="4.0.html">Release Notes for MongoDB 4.0</a><ul><li class="toctree-l3"><a class="reference internal" href="4.0-compatibility.html">Compatibility Changes in MongoDB 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-standalone.html">Upgrade a Standalone to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-replica-set.html">Upgrade a Replica Set to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-standalone.html">Downgrade 4.0 Standalone to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-replica-set.html">Downgrade 4.0 Replica Set to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-sharded-cluster.html">Downgrade 4.0 Sharded Cluster to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-changelog.html">4.0 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.6.html">Release Notes for MongoDB 3.6</a><ul><li class="toctree-l3"><a class="reference internal" href="3.6-changelog.html">3.6 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-compatibility.html">Compatibility Changes in MongoDB 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-standalone.html">Upgrade a Standalone to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-replica-set.html">Upgrade a Replica Set to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-standalone.html">Downgrade 3.6 Standalone to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-replica-set.html">Downgrade 3.6 Replica Set to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-sharded-cluster.html">Downgrade 3.6 Sharded Cluster to 3.4</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.4.html">Release Notes for MongoDB 3.4</a><ul><li class="toctree-l3"><a class="reference internal" href="3.4-changelog.html">3.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-compatibility.html">Compatibility Changes in MongoDB 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-standalone.html">Upgrade a Standalone to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-replica-set.html">Upgrade a Replica Set to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-downgrade.html">Downgrade MongoDB 3.4 to 3.2</a><ul><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-standalone.html">Downgrade 3.4 Standalone to 3.2</a></li><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-replica-set.html">Downgrade 3.4 Replica Set to 3.2</a></li><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-sharded-cluster.html">Downgrade 3.4 Sharded Cluster to 3.2</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.2.html">Release Notes for MongoDB 3.2</a><ul><li class="toctree-l3"><a class="reference internal" href="3.2-changelog.html">3.2 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.2-compatibility.html">Compatibility Changes in MongoDB 3.2</a><ul><li class="toctree-l4"><a class="reference internal" href="3.2-javascript.html">JavaScript Changes in MongoDB 3.2</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="3.2-upgrade.html">Upgrade MongoDB to 3.2</a></li><li class="toctree-l3"><a class="reference internal" href="3.2-downgrade.html">Downgrade MongoDB from 3.2</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.0.html">Release Notes for MongoDB 3.0</a><ul><li class="toctree-l3"><a class="reference internal" href="3.0-changelog.html">3.0 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-compatibility.html">Compatibility Changes in MongoDB 3.0</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-upgrade.html">Upgrade MongoDB to 3.0</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-scram.html">Upgrade to SCRAM</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-downgrade.html">Downgrade MongoDB from 3.0</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.6.html">Release Notes for MongoDB 2.6</a><ul><li class="toctree-l3"><a class="reference internal" href="2.6-changelog.html">2.6 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-compatibility.html">Compatibility Changes in MongoDB 2.6</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-upgrade.html">Upgrade MongoDB to 2.6</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-upgrade-authorization.html">Upgrade User Authorization Data to 2.6 Format</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-downgrade.html">Downgrade MongoDB from 2.6</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.4.html">Release Notes for MongoDB 2.4</a><ul><li class="toctree-l3"><a class="reference internal" href="2.4-changelog.html">2.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-javascript.html">JavaScript Changes in MongoDB 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-upgrade.html">Upgrade MongoDB to 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-index-types.html">Compatibility and Index Type Changes in MongoDB 2.4</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.2.html">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/versioning.html">MongoDB Versioning</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../support.html">Technical Support</a></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
            <div class="alert alert-warning">
              <span class="alert-message">This version of the documentation is archived and no longer supported.</span>
            </div>
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="release-notes/4.2-changelog">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/v4.2/source/release-notes/4.2-changelog.txt" target="_blank" title="Edit release-notes/4.2-changelog.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../release-notes.html">Release Notes</a><span class="bcpoint"> > </span></li>
            
          <li><a href="4.2.html">Release Notes for MongoDB 4.2</a><span class="bcpoint"> > </span></li>
            <li>4.2 Changelog</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="changelog">
<h1>4.2 Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline"></a></h1>
<div class="contents singlecol local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id197">4.2.24 Changelog</a></li>
<li><a class="reference internal" href="#id3" id="id198">4.2.23 Changelog</a></li>
<li><a class="reference internal" href="#id7" id="id199">4.2.22 Changelog</a></li>
<li><a class="reference internal" href="#id11" id="id200">4.2.21 Changelog</a></li>
<li><a class="reference internal" href="#id15" id="id201">4.2.20 Changelog</a></li>
<li><a class="reference internal" href="#id20" id="id202">4.2.19 Changelog</a></li>
<li><a class="reference internal" href="#id25" id="id203">4.2.18 Changelog</a></li>
<li><a class="reference internal" href="#id31" id="id204">4.2.17 Changelog</a></li>
<li><a class="reference internal" href="#id35" id="id205">4.2.16 Changelog</a></li>
<li><a class="reference internal" href="#id42" id="id206">4.2.15 Changelog</a></li>
<li><a class="reference internal" href="#id51" id="id207">4.2.14 Changelog</a></li>
<li><a class="reference internal" href="#id60" id="id208">4.2.13 Changelog</a></li>
<li><a class="reference internal" href="#id68" id="id209">4.2.12 Changelog</a></li>
<li><a class="reference internal" href="#id77" id="id210">4.2.11 Changelog</a></li>
<li><a class="reference internal" href="#id89" id="id211">4.2.10 Changelog</a></li>
<li><a class="reference internal" href="#id99" id="id212">4.2.9 Changelog</a></li>
<li><a class="reference internal" href="#id109" id="id213">4.2.8 Changelog</a></li>
<li><a class="reference internal" href="#id118" id="id214">4.2.7 Changelog</a></li>
<li><a class="reference internal" href="#id129" id="id215">4.2.6 Changelog</a></li>
<li><a class="reference internal" href="#id141" id="id216">4.2.5 Changelog</a></li>
<li><a class="reference internal" href="#id147" id="id217">4.2.4 Changelog</a></li>
<li><a class="reference internal" href="#id159" id="id218">4.2.3 Changelog</a></li>
<li><a class="reference internal" href="#id171" id="id219">4.2.2 Changelog</a></li>
<li><a class="reference internal" href="#id184" id="id220">4.2.1 Changelog</a></li>
</ul>
</div>
<div class="section" id="id1">
<span id="id2"></span><h2>4.2.24 Changelog<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<div class="section" id="sharding">
<h3>Sharding<a class="headerlink" href="#sharding" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68361">SERVER-68361</a> LogTransactionOperationsForShardingHandler::commit
misses transferring documents from prepared and non-prepared
transactions changing a documents shard key value</p>
</div>
<div class="section" id="aggregation">
<h3>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49214">SERVER-49214</a> Add $toHashedIndexKey expression</p>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52545">SERVER-52545</a> Specify input/output to listIndexes command in
IDL</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58047">SERVER-58047</a> $toHashedIndexKey expression doesnt add any
dependencies</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58673">SERVER-58673</a> Enable featureFlagPerShardCursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61032">SERVER-61032</a> Convert all references to
/opt/mongodbtoolchain/gdb to a versioned equivalent</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62201">SERVER-62201</a> Remove all outdated entries from
backports_required_for_multiversion_tests.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62400">SERVER-62400</a> Add $_passthroughToShard parameter to
AggregateCommandRequest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62681">SERVER-62681</a> Create change streams per shard cursor
passthrough suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62738">SERVER-62738</a> Give mongos the ability to passthrough to a
specific shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63772">SERVER-63772</a> Post Batch Resume token not sent on initial
batch from per shard cursor change stream</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63773">SERVER-63773</a> Per Shard cursor post batch resume token not set
in getMore responses</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63774">SERVER-63774</a> Pass optional dbVersion to
runPipelineOnSpecificShard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63781">SERVER-63781</a> $sortKey not filtered out in initial batch from
post batch resume token</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68115">SERVER-68115</a> Bug fix for elemMatchRootLength &gt; 0 invariant
trigger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68126">SERVER-68126</a> Check for negative maxChunkSize input value in
AutoSplitVector</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68470">SERVER-68470</a> Amazon Linux 4.2/4.4 RPMs fail to install due to
missing shadow-utils</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68901">SERVER-68901</a> Incorrect $elemMatch query analysis in
mongocryptd if document contains 2 different fields with the same name</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69001">SERVER-69001</a> Initial sync should set the minValid document to
the stopTimestamp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69004">SERVER-69004</a> [4.2] backport pm-2419 Per Shard Cursors via
mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69348">SERVER-69348</a> Commands must declare empty auth checks to be
universally callable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69569">SERVER-69569</a> Python scripts failing in Evergreen tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69785">SERVER-69785</a> robustify change_streams_per_shard_cursor.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69944">SERVER-69944</a> Resmokes globstar.py does not properly parse *
before **</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70299">SERVER-70299</a> Remove JSON.send command usage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70348">SERVER-70348</a> Remove EAGAIN for queryable WT and retry
internally</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70427">SERVER-70427</a> Remove chef+kitchen package test infrastructure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70469">SERVER-70469</a> Use virtual env python in watchdog tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70483">SERVER-70483</a> Update Resmoke to pass evergreen_execution up
to logkeeper.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70484">SERVER-70484</a> Remove signal processing module from perf.yml
and sys_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70553">SERVER-70553</a> Add module support to the mongo test runner</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70633">SERVER-70633</a> Make per shard cursors suite actually run tests
in 5.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-70938">SERVER-70938</a> Remove system-site-packages from virtual env
setup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71389">SERVER-71389</a> [v4.2] Add bsonUnorderedFieldsCompare</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71424">SERVER-71424</a> Fix failures in lint_fuzzer_sanity</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71471">SERVER-71471</a> Improve jstestfuzz deployment to work with new
node run/install</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71533">SERVER-71533</a> Update legacy task generation to use new test
stats location</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71534">SERVER-71534</a> lint_fuzzer_sanity_all regression caused by
running multiple instances of npm</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71624">SERVER-71624</a> Remove lint_fuzzer_sanity_patch in favor of
lint_fuzzer_sanity_all</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71759">SERVER-71759</a> dataSize command doesnt yield</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71772">SERVER-71772</a> Update ARM builds to target armv8.2-a on older
branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71875">SERVER-71875</a> Stop run jstestfuzz on rhel62</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-71950">SERVER-71950</a> Fail and log the operation when out-of-order
keys are detected in WiredTiger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-72137">SERVER-72137</a> Handle case when test stats are not available</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-72276">SERVER-72276</a> Remove all outdated entries from
backports_required_for_multiversion_tests.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-72288">SERVER-72288</a> microbenchmark tests fail after Enable M1 Mac
support for DSI</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-72294">SERVER-72294</a> Upgrade all uses of sus12 to suse12-sp5</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-72512">SERVER-72512</a> Indexes reported as valid when unable to return
inconsistencies due to memory limit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-72535">SERVER-72535</a> Sharded clusters allow creating the admin,
local, and config databases with alternative casings</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-73481">SERVER-73481</a> Validate does not detect out-of-order keys with
{full: false}</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-73636">SERVER-73636</a> Coverity analysis defect 135025: Inefficient
vector resizing with reserve.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-73706">SERVER-73706</a> Save WTRecordStoreUassertOutOfOrder fail point
state to prevent concurrency bugs in testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-73986">SERVER-73986</a> [v4.2] Skip running validate_out_of_order.js on
ephemeralForTest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-9477">WT-9477</a> Dont allow checkpoint triggering internal page split
which leads to corrupted internal page in the checkpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-10461">WT-10461</a> Fix key out of order in skip list on weakly ordered
architecture</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-10584">WT-10584</a> Add missing read barriers in __cursor_skip_prev</li>
</ul>
</div>
</div>
<div class="section" id="id3">
<span id="id4"></span><h2>4.2.23 Changelog<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h2>
<div class="section" id="id5">
<h3>Sharding<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56127">SERVER-56127</a> Retryable update may execute more than once if chunk is migrated and shard key pattern uses nested fields</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63732">SERVER-63732</a> Add new implicitlyCreateIndex and enforceUniquenessCheck to shardCollection command</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Internals<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61275">SERVER-61275</a> Destruct the size storer after the session cache has shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64573">SERVER-64573</a> Make implicitlyCreateIndex and enforceUniquenessCheck fields optional</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64659">SERVER-64659</a> Report in serverStatus number of file descriptors used during index builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64741">SERVER-64741</a> Create mongos appendOplogNote command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66310">SERVER-66310</a> Make  ExpressionSetUnion::isCommutative() collation aware</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66726">SERVER-66726</a> Fix serialization in killAllSessionsByPattern</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68158">SERVER-68158</a> serverstatus_indexbulkbuilder.js should run listIndexes on primary after creating indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68359">SERVER-68359</a> Prevent TTLMonitor from processing index if expireAfterSeconds is NaN</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68487">SERVER-68487</a> add BSONElement method to check for NaN field values</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68574">SERVER-68574</a> Switch to the new logkeeper cluster</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68691">SERVER-68691</a> $graphLookup does not report variable references for restrictSearchWithMatch filter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68714">SERVER-68714</a> NaN issues in secure random number generator in mongo shell</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68925">SERVER-68925</a> Reintroduce check table logging settings at startup (revert SERVER-43664)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-69611">SERVER-69611</a> Set the -ffp-contract=off compiler option by default</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<span id="id8"></span><h2>4.2.22 Changelog<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h2>
<div class="section" id="id9">
<h3>Sharding<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58747">SERVER-58747</a> The ShardServerCatalogCacheLoader doesnt interrupt ongoing operations on step up</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62272">SERVER-62272</a> Adding schema validation to a collection can prevent chunk migrations of failing documents</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62656">SERVER-62656</a> Decouple mongos-to-config-server connection pool sizing from mongos-to-shard-server connection pool sizing</li>
</ul>
</div>
<div class="section" id="build-and-packaging">
<h3>Build and Packaging<a class="headerlink" href="#build-and-packaging" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61894">SERVER-61894</a> Support the showRawUpdateDescription option in change stream specs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63159">SERVER-63159</a> Implement the $_internalApplyOplogUpdate aggregation stage</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Internals<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55173">SERVER-55173</a> Segmentation fault in WiredTigerSession::releaseCursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59658">SERVER-59658</a> Improve logging to reflect that sharding metadata refresh waiting on replication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60334">SERVER-60334</a> Avoid caching the cursor and session in WiredTigerSizeStorer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60607">SERVER-60607</a> improve handling of large/NaN values for geo index version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61321">SERVER-61321</a> Improve handling of large/NaN values for text index version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64403">SERVER-64403</a> Find queries with SORT_MERGE collation-encode the missing sort attribute</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66418">SERVER-66418</a> Bad projection created during dependency analysis due to string order assumption</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66461">SERVER-66461</a> Run notarization earlier in the build process</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66556">SERVER-66556</a> Prevent potential race when releasing cursors during shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-67993">SERVER-67993</a> fix 4.4 pylinters errors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68130">SERVER-68130</a> AutoSplitVector could generate response bigger than BSONObjMaxUserSize</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-68199">SERVER-68199</a> An active index build on the existing target collection of a renameCollection command can fail the mongod</li>
</ul>
</div>
</div>
<div class="section" id="id11">
<span id="id12"></span><h2>4.2.21 Changelog<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h2>
<div class="section" id="id13">
<h3>Build and Packaging<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64332">SERVER-64332</a> Notarize MongoDB builds for macos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-67139">SERVER-67139</a> Update rhel6 package test ami</li>
</ul>
</div>
<div class="section" id="id14">
<h3>Internals<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58506">SERVER-58506</a> Command to expose settability for Server Parameters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61097">SERVER-61097</a> SizeStorer can cause deadlocks with cache eviction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64184">SERVER-64184</a> Track usage of allowDiskUse:true in agg command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-65166">SERVER-65166</a> Use compareOptimes in abort_in_progress_transactions_on_step_up.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-65244">SERVER-65244</a> Add RHEL 7 s390x to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66176">SERVER-66176</a> [v4.4/v4.2] Minimize work under CollectionCatalog mutex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66559">SERVER-66559</a> Expand the internalQueryMaxAddToSetBytes param from 32 to 64 bits</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66799">SERVER-66799</a> Fix getParameterWithDetails.js failure on ephemeralForTest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-66955">SERVER-66955</a> Remove JSON.send usage in perf projects</li>
</ul>
</div>
</div>
<div class="section" id="id15">
<span id="id16"></span><h2>4.2.20 Changelog<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h2>
<div class="section" id="id17">
<h3>Sharding<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64903">SERVER-64903</a> Make cancel_coordinate_txn_commit_with_tickets_exhausted.js robust to ShardServerCatalogCacheLoader performing deletes</p>
</div>
<div class="section" id="id18">
<h3>Aggregation<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41714">SERVER-41714</a> $facet operator duplicates documents in the pipeline when preceded by $addFields and $match operators (in this exact order)</p>
</div>
<div class="section" id="id19">
<h3>Internals<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53726">SERVER-53726</a> Platform Support: Remove RHEL6 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57000">SERVER-57000</a> Fix handling of correlated pipeline with facet</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57676">SERVER-57676</a> Wait for a checkpoint before releasing the hangOplogCapMaintainerThread in oplog_rollover.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59435">SERVER-59435</a> Fix a double free inside DocumentSource::optimizeAt()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60412">SERVER-60412</a> Host memory limit check does not honor cgroups v2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62242">SERVER-62242</a> $indexOfArray does not work with duplicate values in array</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63141">SERVER-63141</a> Difference in $lookup/$redact/$let behaviour with pipeline optimization</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64642">SERVER-64642</a> Fix error where mongos returns CallbackCanceled and not InterruptedAtShutdown on shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64983">SERVER-64983</a> Release Client lock before rolling back WT transaction in TransactionParticipant::_resetTransactionState</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-65421">SERVER-65421</a> Fix package test failures on RHEL 6/7</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-65422">SERVER-65422</a> Fix package test failures on Ubuntu 16.04</li>
</ul>
</div>
</div>
<div class="section" id="id20">
<span id="id21"></span><h2>4.2.19 Changelog<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h2>
<div class="section" id="id22">
<h3>Sharding<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26755">SERVER-26755</a> Collection chunk loading is aborted entirely if fetching all the chunks takes more than 30 seconds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45149">SERVER-45149</a> replSetStepDown command in txn_two_phase_commit_failover.js should not timeout</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53335">SERVER-53335</a> Queries, updates, and deletes with non-simple collations may miss documents when using hashed sharding</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59929">SERVER-59929</a> unexpected slower update/insert operation bease of splitchunk and moveChunk</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60682">SERVER-60682</a> TransactionCoordinator may block acquiring WiredTiger write ticket to persist its decision, prolonging transactions being in the prepared state</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61816">SERVER-61816</a> cancel_coordinate_txn_commit_with_tickets_exhausted.js can hang forever due to race condition between transaction reaper and transaction coordinator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61924">SERVER-61924</a> retryable_mongos_write_errors.js fails in 4.2 multiversion suites due to missing failpoint command in 4.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62065">SERVER-62065</a> Upgrade path from 3.6 to 4.0 can leave chunk entries without history on the shards</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62739">SERVER-62739</a> cancel_coordinate_txn_commit_with_tickets_exhausted.js test should not be run with the ephemeral storage engine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62906">SERVER-62906</a> Add a check in the createCollection/shardCollection path verifying the collection name length</li>
</ul>
</div>
<div class="section" id="query">
<h3>Query<a class="headerlink" href="#query" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23664">SERVER-23664</a> $mod match expression should raise an error when the remainder is not a number</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40691">SERVER-40691</a> $nin:[[],] queries are not indexed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57588">SERVER-57588</a> Inconsistent query results when an array position is indexed whose value is an array</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59754">SERVER-59754</a> Incorrect logging of queryHash/planCacheKey for operations that share the same $lookup shape</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62147">SERVER-62147</a> Exhaust query using the OP_QUERY protocol is broken when more than one getMore batch is required</li>
</ul>
</div>
<div class="section" id="id23">
<h3>Aggregation<a class="headerlink" href="#id23" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44484">SERVER-44484</a> Changestream with updateLookup uasserts on updates from before collection was sharded</p>
</div>
<div class="section" id="storage">
<h3>Storage<a class="headerlink" href="#storage" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55483">SERVER-55483</a> Add a new startup parameter that skips verifying the table log settings</p>
</div>
<div class="section" id="id24">
<h3>Internals<a class="headerlink" href="#id24" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51087">SERVER-51087</a> Add testing utility for creating an empty sharded collection with the specified bounds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53726">SERVER-53726</a> Platform Support: Remove RHEL6 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57312">SERVER-57312</a> Pin transitive Python dependencies and use the pinned file for installation in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60392">SERVER-60392</a> Fix timing in priority_takeover_two_nodes_equal_priority test.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60685">SERVER-60685</a> TransactionCoordinator may interrupt locally executing update with non-Interruption error category, leading to server crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61662">SERVER-61662</a> SCons configure checks should always run with verbosity</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61743">SERVER-61743</a> The -fno-builtin-memcmp flag shouldnt be applied except on x86_64 platforms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62005">SERVER-62005</a> [4.2] Add requires_document_locking to unique_index_insert_during_collection_scan.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62164">SERVER-62164</a> Remove several obsoleted build variants across all stable branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62320">SERVER-62320</a> (v4.2) Fix use after std::move in find command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62668">SERVER-62668</a> Synchronize access to ImpersonatedUserMetadata  in OperationContext.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62825">SERVER-62825</a> Robustify causally_consistent_index_builds.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63197">SERVER-63197</a> Pin microbenchmarks genny version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63203">SERVER-63203</a> Chunk splitter never splits if more than 8192 split points are found</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7993">WT-7993</a> If gathering handles and not in aggressive eviction mode, have eviction sleep to let checkpoint grab a contentious spinlock.</li>
</ul>
</div>
</div>
<div class="section" id="id25">
<span id="id26"></span><h2>4.2.18 Changelog<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h2>
<div class="section" id="id27">
<h3>Sharding<a class="headerlink" href="#id27" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48504">SERVER-48504</a> Combination of StaleShardVersion and ShardNotFound exception make the ChunkManagerTargeter crash</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54064">SERVER-54064</a> Sessions on arbiters accumulate and cannot be cleared out</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54623">SERVER-54623</a> Decrease number of jobs in causal consistency passthrough suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56226">SERVER-56226</a> [v4.4] Introduce permitMigrations field on config.collections entry to prevent chunk migrations from committing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56227">SERVER-56227</a> Add user-facing command to set allowMigrations to false for a sharded collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58985">SERVER-58985</a> Re-enable retryable_mongos_write_errors.js in multiversion suite once SERVER-55648 is backported to v4.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59160">SERVER-59160</a> Disable balancer in test_stacked_migration_cleanup.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59916">SERVER-59916</a> T{1, 2}Starts{First, Second}AndWins In WriteConflictHelpers Does Not Synchronize Committing Of Failed Transaction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60653">SERVER-60653</a> Backport the autoSplitVector logic to v4.2</li>
</ul>
</div>
<div class="section" id="replication">
<h3>Replication<a class="headerlink" href="#replication" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50241">SERVER-50241</a> PeriodicShardedIndexConsistencyChecker should skip dropped collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56096">SERVER-56096</a> Invariant failure in ReplicationRecoveryImpl::recoverFromOplog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58988">SERVER-58988</a> Avoid sync source selection cycle during primary catchup.</li>
</ul>
</div>
<div class="section" id="id28">
<h3>Aggregation<a class="headerlink" href="#id28" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59613">SERVER-59613</a> $range expression should error if it exceeds memory limit</p>
</div>
<div class="section" id="id29">
<h3>Storage<a class="headerlink" href="#id29" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45953">SERVER-45953</a> Exempt oplog readers from acquiring read tickets</p>
</div>
<div class="section" id="operations">
<h3>Operations<a class="headerlink" href="#operations" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28953">SERVER-28953</a> Capture df (disk full) statistics in FTDC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53242">SERVER-53242</a> Always log collmod command</li>
</ul>
</div>
<div class="section" id="id30">
<h3>Internals<a class="headerlink" href="#id30" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52976">SERVER-52976</a> [4.2] collection_validation.cpp isnt used anywhere in the 4.2 branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53726">SERVER-53726</a> Platform Support: Remove RHEL6 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55589">SERVER-55589</a> replSetMaintenance command does not take the RSTL</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56326">SERVER-56326</a> Add a round() method to the Decimal128 class</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56602">SERVER-56602</a> Track usage of match expressions in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57557">SERVER-57557</a> [v4.4] Support running checkFCV() shell helper with mongos connection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57605">SERVER-57605</a> Expose Decimal128 equality comparison helper to shell</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58104">SERVER-58104</a> config.system.sessions collection can end up with invalid chunks if it is dropped and re-sharded with a shard key other than _id</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58119">SERVER-58119</a> single_node_set_new_hostname.js needs to call replSetReconfig with an assert.soonNoExcept</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58183">SERVER-58183</a> _applyPrepareTransaction does not ensure prepareConflictBehavior is kIgnoreConflictAcceptWrites on retry attempts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58192">SERVER-58192</a> Use more unique_ptrs in QueryPlannerAnalysis::analyzeSort()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58780">SERVER-58780</a> [v4.4] Ensure that _shouldSetStableTimestamp gets restored to true if replSetInitiate fails</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59108">SERVER-59108</a> Resolve race with transaction operation not killed after step down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59120">SERVER-59120</a> Create unit tests for commitChunksMerge</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59191">SERVER-59191</a> SPIKE: git.get_project fails to clone</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59226">SERVER-59226</a> Deadlock when stepping down with a profile session marked as uninterruptible</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59294">SERVER-59294</a> Check action type for oidReset</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59459">SERVER-59459</a> mongodb fails to build with glibc-2.34</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59725">SERVER-59725</a> Remove push task from extra RHEL 6.2 variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59804">SERVER-59804</a> Using a separate branch for YCSB in system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59879">SERVER-59879</a> Adjust maxTimeMS value to allow for slower execution in the parallel test suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60080">SERVER-60080</a> [v4.2] Disable tests incompatible with ephemeralForTest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60085">SERVER-60085</a> Cap number of fallback test suites at number of tests in suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60149">SERVER-60149</a> Add RRFaM build variant to mongocryptd list on v4.2 branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60290">SERVER-60290</a> Update Windows external auth test distro</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60299">SERVER-60299</a> Backport PCRE bugfix for Bugzilla #2613</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60456">SERVER-60456</a> LDAPBindOptions go out of scope during heavily delayed binds on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60496">SERVER-60496</a> Resmoke Misinterprets Quotes In Evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60582">SERVER-60582</a> [v4.4] initiate_emrc_false.js needs to wait for the initial checkpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60588">SERVER-60588</a> $multiply incorrectly throws an error in some cases in the classic engine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60670">SERVER-60670</a> use a separate branch instead of a specific commit for TPCC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60671">SERVER-60671</a> Remove dagger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60897">SERVER-60897</a> [4.2] mongod may loop forever when attempting to upsert invalid BSON</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60898">SERVER-60898</a> [v4.2] Exclude stepdown_race_with_transaction.js from running on ephemeralForTest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60961">SERVER-60961</a> Add exclude tags to old branches not generating multiversion_exclude_tags.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60971">SERVER-60971</a> Remove calls to BF suggestion service</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61164">SERVER-61164</a> Accept error code 48 (Inappropriate authentication) as a valid response for LDAP liveness check</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61427">SERVER-61427</a> Unique index builds can cause a loss of availability during commit due to checking many false duplicates</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61544">SERVER-61544</a> [4.2] Fix exclusion tag for stepdown_race_with_transaction.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61550">SERVER-61550</a> Modify auto_workload_path in perf.yml to be relative to cwd</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61791">SERVER-61791</a> pin pymongo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7566">WT-7566</a> Resolve write after free for dead dhandle</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7858">WT-7858</a> Fix malloc writing out of bounds for overflow keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7984">WT-7984</a> Fix a bug that could cause a checkpoint to omit a page of data</li>
</ul>
</div>
</div>
<div class="section" id="id31">
<span id="id32"></span><h2>4.2.17 Changelog<a class="headerlink" href="#id31" title="Permalink to this headline"></a></h2>
<div class="section" id="id33">
<h3>Storage<a class="headerlink" href="#id33" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49521">SERVER-49521</a> fix tests in core/txn to use write concern majority for createIndexes commands run before starting transactions</p>
</div>
<div class="section" id="id34">
<h3>Internals<a class="headerlink" href="#id34" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48090">SERVER-48090</a> Support python 3.6 for evergreen.py and shrub.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50549">SERVER-50549</a> Transform connection-related error codes in proxied commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53726">SERVER-53726</a> Platform Support: Remove RHEL6 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59456">SERVER-59456</a> Start the LDAPReaper threadpool</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59876">SERVER-59876</a> Large delays in returning from libcrypto.so while establishing egress connections</li>
</ul>
</div>
</div>
<div class="section" id="id35">
<span id="id36"></span><h2>4.2.16 Changelog<a class="headerlink" href="#id35" title="Permalink to this headline"></a></h2>
<div class="section" id="security">
<h3>Security<a class="headerlink" href="#security" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57727">SERVER-57727</a> Race conditions in x509_invalid.js</p>
</div>
<div class="section" id="id37">
<h3>Sharding<a class="headerlink" href="#id37" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55648">SERVER-55648</a> Mongos doesnt return top-level batch-write error in case of shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58909">SERVER-58909</a> Missing versions for admin and config databases migrating to version 4.2</li>
</ul>
</div>
<div class="section" id="id38">
<h3>Replication<a class="headerlink" href="#id38" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34938">SERVER-34938</a> Secondary slowdown or hang due to content pinned in cache by single oplog batch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36263">SERVER-36263</a> Bypassing operation validation in applyOps should require special privilege</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37904">SERVER-37904</a> Allow a node to override the cluster chaining (enabled/disabled) setting</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39621">SERVER-39621</a> Disabled chaining should enforce sync source change when the primary steps down even if the oplog fetcher isnt killed on sync source</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41875">SERVER-41875</a> Should ban emptyCapped commands  on  jstestfuzz_concurrent_replication_continuous__stepdown suite for WiredTiger Storage.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50486">SERVER-50486</a> invokeWithSessionCheckedOut being called on prepared transactions on secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55465">SERVER-55465</a> Fix Invariant upon failed request for a vote from the current primary in the election dry-run of catchup takeover</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58258">SERVER-58258</a> Wait for initial sync to clear state before asserting replSetGetStatus reply has no initialSync field</li>
</ul>
</div>
<div class="section" id="id39">
<h3>Query<a class="headerlink" href="#id39" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55319">SERVER-55319</a> [4.2] Invariant failure isVersionInitialized() src/mongo/db/server_options.h 217 after index build completes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58127">SERVER-58127</a> Fix benchRun() memory leak for parsing benchRun() args under exception</li>
</ul>
</div>
<div class="section" id="id40">
<h3>Build and Packaging<a class="headerlink" href="#id40" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54729">SERVER-54729</a> MongoDB Enterprise Debian/Ubuntu packages should depend on libsasl2-modules and libsasl2-modules-gssapi-mit</p>
</div>
<div class="section" id="id41">
<h3>Internals<a class="headerlink" href="#id41" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49237">SERVER-49237</a> Add a way for OperationContexts to opt-in to always getting interrupted at stepdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50547">SERVER-50547</a> Explore aggregation pipeline length limit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52728">SERVER-52728</a> Upgrade path from MongoDB 2.4 to 4.2 causes config servers to go down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53431">SERVER-53431</a> Server should respond running operations with appropriate topologyVersion on stepdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53726">SERVER-53726</a> Platform Support: Remove RHEL6 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55649">SERVER-55649</a> Sharding messages being logged for non-sharded clusters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56489">SERVER-56489</a> New pass-through test with random hello server-side delays</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56516">SERVER-56516</a> Fix undefined behaviour in parsing code for $slice projectional operator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56839">SERVER-56839</a> Index seeks concurrent with recently-committed prepared transactions can return wrong results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57033">SERVER-57033</a> The AuthorizationManager Cache in 4.2 should use roles as cache key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57064">SERVER-57064</a> Log create index and dropIndex(es) on mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57360">SERVER-57360</a> Log additional debug info for the invariant (_requests.empty()); in ~LockerImpl</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57642">SERVER-57642</a> Invariant Failure on src/mongo/db/query/plan_yield_policy.cpp 75 | Aborting</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57650">SERVER-57650</a> Make MigrationChunkClonerSource interruptible when waiting response to recipient commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57798">SERVER-57798</a> Direct user to MongoDB Compass download page when failing to install MongoDB Compass due to a connection issue using ./install_compass</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57983">SERVER-57983</a> Integer overflow for $range in Classic Engine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58169">SERVER-58169</a> Log timestamps info on hitting invariants around stable timestamp calculation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58187">SERVER-58187</a> Improve Connection Reaper and MongoLDAP performance</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58191">SERVER-58191</a> [Migrate Protocol] Allow delete_during_migrate.js to tolerate chunk migration failures due to timeout in catchup phase in slow variants.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58283">SERVER-58283</a> Add a new versioning file to set MONGO_VERSION and MONGO_GIT_HASH</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58313">SERVER-58313</a> Fix package test failure caused by SERVER-55460 backport to v4.2 and v4.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58402">SERVER-58402</a> Increase timeout of shutdown command in shutdown_primary.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58623">SERVER-58623</a> Shorten the mongos RSM refresh interval in delayed Hello tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58826">SERVER-58826</a> [4.2] Disallow compact_keeps_indexes.js and explain_shell_helpers .js to run concurrently on parallel suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59074">SERVER-59074</a> Do not acquire storage tickets just to set/wait on oplog visibility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59135">SERVER-59135</a> Make mongocryptd targets in MSIs depend on libsasl2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59197">SERVER-59197</a> Delete fam image entries when the corresponding session documents are deleted</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59242">SERVER-59242</a> update to snmp 5.9.1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59262">SERVER-59262</a> Remove burn_in_tests tasks from storeFindAndModifyImagesInSideCollection build variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59388">SERVER-59388</a> Revert BACKPORT-10185</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59414">SERVER-59414</a> Retry curator setup in powercycle on older branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6568">WT-6568</a> Fix split generation use</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6926">WT-6926</a> Update WiredTiger source code to include 2021 copyright notices</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7065">WT-7065</a> Add check for WT_DHANDLE_DEAD to assertion</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7135">WT-7135</a> Additional checks to detect when writing corrupted metadata</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7437">WT-7437</a> Upgrade documentation to doxygen 1.8.17</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7675">WT-7675</a> Query last ckpt timestamp changes without taking checkpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7721">WT-7721</a> Update test-format to reopen an existing database with different config</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7776">WT-7776</a> Add a hard limit on the number of modify updates before we instantiate a complete update</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7871">WT-7871</a> Remove comment that is no longer true</li>
</ul>
</div>
</div>
<div class="section" id="id42">
<span id="id43"></span><h2>4.2.15 Changelog<a class="headerlink" href="#id42" title="Permalink to this headline"></a></h2>
<div class="section" id="id44">
<h3>Security<a class="headerlink" href="#id44" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56240">SERVER-56240</a> Turn on checkpointing for the keystore Data Store</p>
</div>
<div class="section" id="id45">
<h3>Sharding<a class="headerlink" href="#id45" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46811">SERVER-46811</a> multi=true updates can modify the shard key of orphan documents and cause them to become owned</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47534">SERVER-47534</a> Unblacklist mongos_dataSize.js from sharding_last_stable_mongos_and_mixed_shards suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47699">SERVER-47699</a> Change yield type used by range deleter from YIELD_MANUAL to YIELD_AUTO</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48648">SERVER-48648</a> Return updated ShardVersion in _configsvrCommitChunkMerge to avoid blind metadata refresh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48653">SERVER-48653</a> Return updated ShardVersion in _configsvrCommitChunkSplit to avoid blind metadata refresh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51170">SERVER-51170</a> Ensure database refreshes are performed after ShardingState initialization</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53029">SERVER-53029</a> Port the changes for SERVER-52955 to later branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56515">SERVER-56515</a> Chunk merge doesnt consider the incrementChunkMajorVersionOnChunkSplits parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56654">SERVER-56654</a> Do not use the collection distributed lock for chunk splits</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56779">SERVER-56779</a> Do not use the collection distributed lock for chunk merges</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56786">SERVER-56786</a> There are three routing info refreshes and two chunk scans on the mergeChunks path</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57009">SERVER-57009</a> Additional debugging information in case of crash during FCV change</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57055">SERVER-57055</a> delete_during_migrate.js is consistently failing in test suites with Code Coverage enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57102">SERVER-57102</a> Fixing invariants on ShardServerCatalogCacheLoader to consider different terms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58109">SERVER-58109</a> The new _configsvrMergeChunks path is more expensive than the old one</li>
</ul>
</div>
<div class="section" id="id46">
<h3>Replication<a class="headerlink" href="#id46" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44316">SERVER-44316</a> Log message in InitialSyncer for setting begin applying timestamp is incorrect</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45919">SERVER-45919</a> replSetReconfig should be allowed to fail with InterruptedDueToReplStateChange when racing with an election</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53447">SERVER-53447</a> Blacklist insert1.js with from transaction passthrough tests with failures</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55465">SERVER-55465</a> Fix Invariant upon failed request for a vote from the current primary in the election dry-run of catchup takeover</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55766">SERVER-55766</a> Introduce an optimized for restore startup replication recovery mechanism</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56054">SERVER-56054</a> Change minThreads value for replication writer thread pool to 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56415">SERVER-56415</a> AwaitNodesAgreeOnPrimary doesnt work when given non-default set of nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56937">SERVER-56937</a> upgradeSet() in multi_rs.js may lose authentication state while upgrading primary</li>
</ul>
</div>
<div class="section" id="write-operations">
<h3>Write Operations<a class="headerlink" href="#write-operations" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38909">SERVER-38909</a> Permit empty update modifiers, treating as a no-op rather than an error</p>
</div>
<div class="section" id="id47">
<h3>Storage<a class="headerlink" href="#id47" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51699">SERVER-51699</a> index_build_restart_secondary.js (indexbg_restart_secondary.js) should handle exceptions when checking indexes after restarting node</p>
</div>
<div class="section" id="id48">
<h3>Operations<a class="headerlink" href="#id48" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48567">SERVER-48567</a> Warnings while processing snmpwalk</p>
</div>
<div class="section" id="id49">
<h3>Build and Packaging<a class="headerlink" href="#id49" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50568">SERVER-50568</a> Platform Support: Remove Ubuntu18.04 zSeries from 5.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55460">SERVER-55460</a> Fix RPM packaging and testing for SLES 12</li>
</ul>
</div>
<div class="section" id="id50">
<h3>Internals<a class="headerlink" href="#id50" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37125">SERVER-37125</a> Powercycle should ignore a process reference if it no longer exists</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43617">SERVER-43617</a> Add metrics on the mongos to indicate the number of shards targeted for the commands (find, aggregate, etc)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45153">SERVER-45153</a> Ignore metrics temp files in FTDCFileManager</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47509">SERVER-47509</a> resmoke accepts multiple mongodSetParameters options but only uses the last one</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47720">SERVER-47720</a> Clarify RecordId() not found in the index for key log message</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48636">SERVER-48636</a> Increase assertEventDoesNotWakeCursor getMore timeout in only_wake_getmore_for_relevant_changes.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48890">SERVER-48890</a> allow $addFields with empty document and have it be a no-op</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49336">SERVER-49336</a> Set client metadata if it is missing during failCommand</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50955">SERVER-50955</a> oplog_rollover.js pauses the OplogCapMaintainerThread until truncation is needed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53334">SERVER-53334</a> Hitting unexpected invariant failure, causing server shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53643">SERVER-53643</a> Startup can see old version of featureCompatibilityVersion document</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53726">SERVER-53726</a> Platform Support: Remove RHEL6 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53728">SERVER-53728</a> Platform Support: Remove SLES12 zSeries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53841">SERVER-53841</a> Additional logging for oplog_rollover.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54489">SERVER-54489</a> Full validation can append errors without bound</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54897">SERVER-54897</a> Adding the shard-single config to etc/system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55019">SERVER-55019</a> install_compass does not run on all supported platforms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55119">SERVER-55119</a> Create startup warning indicating that X.509 certificates without SANs are deprecated</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55316">SERVER-55316</a> Disconnect LDAP connections out of line</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55742">SERVER-55742</a> Define kmipClientCertificateSelector config on windows/macOS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56062">SERVER-56062</a> Restart index builds after CappedPositionLost errors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56164">SERVER-56164</a> All performance projects use the master DSI branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56273">SERVER-56273</a> Update curator hash in powercycle remote host setup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56307">SERVER-56307</a> The chunk migration convergence algorithm is very primitive</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56310">SERVER-56310</a> Use w: majority for createCollection command in kill_sessions_with_prepared_transaction.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56325">SERVER-56325</a> Wait for failpoint in server_transaction_metrics.js to be hit so that a valid serverStatus is received</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56347">SERVER-56347</a> Enable LSE intrinsics in release</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56372">SERVER-56372</a> Add retryableFindAndModifyStorageLocation server parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56373">SERVER-56373</a> [RRFaM] When writing FaM images to txn table, write oplog entries with needsRetryImage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56374">SERVER-56374</a> [RRFaM] Have update path write to config.image_collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56375">SERVER-56375</a> [RRFaM] Have delete path write to config.transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56376">SERVER-56376</a> [RRFaM] Add jstest that exercises both retryable FaM behaviors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56377">SERVER-56377</a> [RRFaM] Add FSM test to perform retryable FaM while flipping server parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56452">SERVER-56452</a> Self anchor in PooledLDAPConnection::setups callback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56468">SERVER-56468</a> Incorrect plan cache entry for {$ne: null} predicate, leads to missing query results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56501">SERVER-56501</a> Add op counters for legacy op codes (OP_QUERY, OP_INSERT, etc.)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56563">SERVER-56563</a> [RRFaM] Forge noop image oplog entries for chunk migration</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56630">SERVER-56630</a> Unittest OpObserverImpl::onDelete/onUpdate paths for retryable findAndModify</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56713">SERVER-56713</a> [RRFaM] Avoid creating images while in initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56715">SERVER-56715</a> Using incorrect var name for logkeeper dataset on 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56819">SERVER-56819</a> $indexOfCP returns incorrect result when searching for empty string inside empty string with non-zero start index (classic execution engine only)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56952">SERVER-56952</a> [4.4] Add new build variant with storeFindAndModifyImagesInSideCollection=true</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57015">SERVER-57015</a> [RRFaM] Writing to the image collection must be in an UnreplicatedWriteBlock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57036">SERVER-57036</a> Pin MarkupSafe == 1.1.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57043">SERVER-57043</a> Test for Branching</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57053">SERVER-57053</a> Rewriting $nor with a $text predicate to $not is invalid</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57057">SERVER-57057</a> Reduce routing info refreshes on the mergeChunks path</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57091">SERVER-57091</a> Infinite loop in GranularityRounderPreferredNumbers::roundDown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57145">SERVER-57145</a> Invariant failure at OCSPManager::requestStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57157">SERVER-57157</a> assert serverStatus command works in getBinVersion() jstest helper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57172">SERVER-57172</a> Do json.send before DSI post_run</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57173">SERVER-57173</a> Write invalidated image for retryable findAndModify when secondaries apply operations earlier than minValid</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57233">SERVER-57233</a> Reap LDAP connections inline if multithreading is not enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57273">SERVER-57273</a> remove the flow_control_replica_set.js test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57275">SERVER-57275</a> Update kmip_server.py to be more verbose</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57299">SERVER-57299</a> Need to wait for failed exit code in startup_recovery_for_restore_needs_rollback.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57328">SERVER-57328</a> Make ReplsetTest.upgradeSet() tolerant of reelections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57330">SERVER-57330</a> Update perf yaml configs for perf and sys-perf to use perf.send</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57476">SERVER-57476</a> Operation may block on prepare conflict while holding oplog slot, stalling replication indefinitely</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57490">SERVER-57490</a> [v4.2] Add storeFindAndModify build variant name to mongodcryptd list in etc/evergreen.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57497">SERVER-57497</a> store_retryable_find_and_modify_images_in_side_collection.js should account for a later clustertime in retried findAndModify responses</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57544">SERVER-57544</a> Also backport store_retryable_find_and_modify_images_in_side_collection.js to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57564">SERVER-57564</a> Increase system timeout duration to &gt;2 hours to allow fio to copy over all files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57708">SERVER-57708</a> ClientMetadata Parsing errors can leave ClientMetadataState decoration in invalid state</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57768">SERVER-57768</a> Deprecated counters arent reset to zero on wrap</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57897">SERVER-57897</a> Add readPrefMode option to benchRun find/findOne ops</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57954">SERVER-57954</a> Update TPC-C version in sys-perf.yml</li>
</ul>
</div>
</div>
<div class="section" id="id51">
<span id="id52"></span><h2>4.2.14 Changelog<a class="headerlink" href="#id51" title="Permalink to this headline"></a></h2>
<div class="section" id="id53">
<h3>Sharding<a class="headerlink" href="#id53" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52564">SERVER-52564</a> Deadlock between step down and MongoDOperationContextSession</p>
</div>
<div class="section" id="id54">
<h3>Replication<a class="headerlink" href="#id54" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50412">SERVER-50412</a> Change not master error messages to not primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50414">SERVER-50414</a> Change not master or secondary; cannot currently read from this replSet member to not primary or secondary; cannot currently read from this replSet member</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54180">SERVER-54180</a> ReplSetTests stepUp function only waits 6 seconds for nodes to agree on primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55007">SERVER-55007</a> Deadlock between step down and MongoDOperationContextSession</li>
</ul>
</div>
<div class="section" id="id55">
<h3>Query<a class="headerlink" href="#id55" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54710">SERVER-54710</a> Large number of $or clauses can create profiling entry exceeding max BSON size, causing the query to fail when it should not</p>
</div>
<div class="section" id="id56">
<h3>Storage<a class="headerlink" href="#id56" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44821">SERVER-44821</a> retrieving storage stats for currentOp blocked by slow oplog application</p>
</div>
<div class="section" id="id57">
<h3>Operations<a class="headerlink" href="#id57" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54770">SERVER-54770</a> Add /proc/meminfo MemAvailable to FTDC</p>
</div>
<div class="section" id="id58">
<h3>Build and Packaging<a class="headerlink" href="#id58" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54031">SERVER-54031</a> errorcodes.py doesnt check embedded C++ code in Python scripts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54057">SERVER-54057</a> Mongodb-org-server el8 package has dependency on python2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54386">SERVER-54386</a> mongodb 3.6.22 install fails if systemctl daemon is not running</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55067">SERVER-55067</a> Migrate Windows builds to VS Current distro</li>
</ul>
</div>
<div class="section" id="id59">
<h3>Internals<a class="headerlink" href="#id59" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-5722">SERVER-5722</a> Support a sort field in ops array for JS Benchmarking Harness</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42944">SERVER-42944</a> scons compiledb exits with a stack trace</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49054">SERVER-49054</a> Server MSI should install Compass instead of Compass Community</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51465">SERVER-51465</a> Update package tests after compass installer update</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52610">SERVER-52610</a> Verify installation prefix is added to correct location in the RPM</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52833">SERVER-52833</a> Capped collections can contain too many documents after replication recovery</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52953">SERVER-52953</a> $geoNear does not always match coordinate given to near when maxDistance is set to 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53566">SERVER-53566</a> Investigate and reproduce opCtx != nullptr &amp;&amp; _opCtx == nullptr invariant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54136">SERVER-54136</a> Make the authenticate command respect enforceUserClusterSeparation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55038">SERVER-55038</a> Collect data files if zbigMapReduce.js fails</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55189">SERVER-55189</a> Call awaitReplication() before returning from syncFrom() in rslib.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55225">SERVER-55225</a> [v4.2] Collect data files for incremental_backup_rollback.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55395">SERVER-55395</a> 4.0.23 does not build with gcc 10</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55602">SERVER-55602</a> Relax non-read-only invariant in WiredTigerKVEngine::makeTemporaryRecordStore when recoverToOplogTimestamp is specified</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-55753">SERVER-55753</a> Use w: majority for createCollection command in transactions_committed_with_tickets_exhausted.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56164">SERVER-56164</a> All performance projects use the master DSI branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56371">SERVER-56371</a> Upgrade timelib to 2021.06</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-56451">SERVER-56451</a> [4.2] update test for backup API to retry on conflict with checkpoint thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7373">WT-7373</a> Improve slow random cursor operations on oplog</li>
</ul>
</div>
</div>
<div class="section" id="id60">
<span id="id61"></span><h2>4.2.13 Changelog<a class="headerlink" href="#id60" title="Permalink to this headline"></a></h2>
<div class="section" id="id62">
<h3>Sharding<a class="headerlink" href="#id62" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53236">SERVER-53236</a> Disable merge_with_move_primary.js from running on the sharding_csrs_continuous_config_stepdown suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53651">SERVER-53651</a> Just search for user-issued profiled aggregation in read_pref_cmd.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54014">SERVER-54014</a> Define a reasonable maxTimeMsOverride for the checkOID requests</li>
</ul>
</div>
<div class="section" id="id63">
<h3>Replication<a class="headerlink" href="#id63" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51163">SERVER-51163</a> Mark nodes returning InvalidReplicaSetConfig in heartbeats as down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53248">SERVER-53248</a> call awaitLastOpCommitted before committing transaction in retryable_prepared_commit_transaction_after_failover.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53609">SERVER-53609</a> lastCommittedTransaction section causes frequent schema changes that limit FTDC retention</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53666">SERVER-53666</a> curSecondary in rollback test fixture not guaranteed to be in SECONDARY state after restart</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54339">SERVER-54339</a> Prevent spontaneous elections in rollback_crud_op_sequences.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54648">SERVER-54648</a> Add correct log verbosity to disallow_adding_initialized_node2.js</li>
</ul>
</div>
<div class="section" id="id64">
<h3>Query<a class="headerlink" href="#id64" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47869">SERVER-47869</a> Add diagnostic logging to ClusterCursorManager</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48442">SERVER-48442</a> Fix change_streams.js to test events in any order</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50073">SERVER-50073</a> Error message when creating a mixed hashed/not hashed index does not state the problem</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54660">SERVER-54660</a> Make jstests/sharding/kill_pinned_cursor.js more robust</li>
</ul>
</div>
<div class="section" id="id65">
<h3>Storage<a class="headerlink" href="#id65" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46876">SERVER-46876</a> During the eviction pressure, we should&nbsp;quit&nbsp;the compact operation instead of crashing the process</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54760">SERVER-54760</a> (4.2) Ghost timestamps can cause concurrent causal snapshot reads to not read their own writes</li>
</ul>
</div>
<div class="section" id="id66">
<h3>Build and Packaging<a class="headerlink" href="#id66" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52705">SERVER-52705</a> Rebuilding mongodb according to building.md failed because python3 is an alias/link (led to ModuleNotFoundError)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54058">SERVER-54058</a> Update Debian 10 AMI for package testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54255">SERVER-54255</a> Update RHEL 7 AMI for package testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54858">SERVER-54858</a> Update Amazon Linux AMI for package testing</li>
</ul>
</div>
<div class="section" id="id67">
<h3>Internals<a class="headerlink" href="#id67" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35649">SERVER-35649</a> Nodes removed due to isSelf failure should re-attempt to find themselves</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43904">SERVER-43904</a> When stepping down, step up doesnt filter out frozen nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44132">SERVER-44132</a> DataBuilder move assignment computes size incorrectly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45836">SERVER-45836</a> Provide more LDAP details (like server IP) at default log level</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46686">SERVER-46686</a> Explain does not respect maxTimeMS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46740">SERVER-46740</a> establishCursors() must always drain the AsyncRequestsSender::_baton</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47030">SERVER-47030</a> Fix date_time_support code to not produce exceptions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49222">SERVER-49222</a> ARM64 support on Amazon Linux 2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50592">SERVER-50592</a> Update mypy pip requirement</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51038">SERVER-51038</a> resmoke.py cant be run on python 3.8</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51722">SERVER-51722</a> Ensure that MongoDB builds with ARM LSE atomics</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52884">SERVER-52884</a> Remove race in reconstruct_prepared_transactions_initial_sync.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53196">SERVER-53196</a> Fail to generate tasks if a large distro is specified but not available</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53394">SERVER-53394</a> Make ShardingTaskExecutorPoolReplicaSetMatching default to disabled for MongoD</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53579">SERVER-53579</a> pythons dev-requirements.txt is incompatible with pip 20.3.3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53612">SERVER-53612</a> StepDown hangs until timeout if all nodes are caught up but none is immediately electable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53717">SERVER-53717</a> Dynamically split large concurrency tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53780">SERVER-53780</a> Fix missing quote in test  parameters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53831">SERVER-53831</a> Force SpiderMonkey to garbage collect in ReplSetTest.checkOplogs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53836">SERVER-53836</a> Add multiversion-related expansions on Enterprise Ubuntu 16.04 (with {taskExecutorPoolSize=4}) build variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53932">SERVER-53932</a> Multikey write during recovery of prepared transaction could use commit timestamp &lt; stable timestamp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53992">SERVER-53992</a> Remove calls to detect-outliers from performance tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54091">SERVER-54091</a> Update assertion messages for dbhash check run by resmoke.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54134">SERVER-54134</a> Ignore newer mongo versions on older branches of setup_multiversion_mongodb.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54139">SERVER-54139</a> Remove CURL share support from HTTP curl client</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54278">SERVER-54278</a> Add feature flag to disable Opportunistic Reads by default</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54366">SERVER-54366</a> Wait for node to start stepdown before killing shutdown operation in force_shutdown_primary.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54369">SERVER-54369</a> Update Jasper gRPC to latest version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54458">SERVER-54458</a> updated vendored scons to use uuid for cache tmpfiles</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54484">SERVER-54484</a> resmoke/util/archival.py relies on deprecated and now removed thread.isAlive</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54505">SERVER-54505</a> Fix logic for ignored large distro build variants in 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54684">SERVER-54684</a> Decreased JS performance on arm64 due to mising init function</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54685">SERVER-54685</a> wrong definition of MONGO_YIELD_CORE_FOR_SMT for arm64</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54733">SERVER-54733</a> Enterprise Ubuntu 16.04 arm64  aggregation_multiversion_fuzzer failures</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6309">WT-6309</a> Add support for start/stop arguments to wt printlog command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6430">WT-6430</a> Move WT_CONN_SERVER flags into their own field</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6844">WT-6844</a> Make force stop durable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7026">WT-7026</a> Atomically read and set ref-&gt;addr in case of race</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7027">WT-7027</a> Run the metadata checkpoint for force_stop at read-committed isolation for incremental backup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7028">WT-7028</a> Sweep thread shouldnt lock during checkpoint gathering handles</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7104">WT-7104</a> Redact user data from printlog output</li>
</ul>
</div>
</div>
<div class="section" id="id68">
<span id="id69"></span><h2>4.2.12 Changelog<a class="headerlink" href="#id68" title="Permalink to this headline"></a></h2>
<div class="section" id="id70">
<h3>Sharding<a class="headerlink" href="#id70" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46393">SERVER-46393</a> Always check client last operation time when computing operationTime to append to the response</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50900">SERVER-50900</a> Disable PeriodicShardedIndexConsistencyChecker for cursor_valid_after_shard_stepdown.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52732">SERVER-52732</a> Uptime reporter disables autosplit during ShardingTest initialization</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53444">SERVER-53444</a> Make tests that run removeShard in assert.soon to wait for the state to become completed not error on ShardNotFound</li>
</ul>
</div>
<div class="section" id="id71">
<h3>Replication<a class="headerlink" href="#id71" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49187">SERVER-49187</a>  Make ReplSetTest .stepUp() robust to election failures.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50049">SERVER-50049</a> assert.soonNoExcept() should not access TestData.traceExceptions for non-resmoke tests.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50416">SERVER-50416</a> Change notMasterLegacyUnacknowledgedWrites to notPrimaryLegacyUnacknowledgedWrites in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50417">SERVER-50417</a> Change notMasterUnacknowledgedWrites to notPrimaryUnacknowledgedWrites in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50869">SERVER-50869</a> Background sync may erroneously set applied-through during step-up</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50901">SERVER-50901</a> RollbackTest should wait for secondaries before doing data consistency checks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52560">SERVER-52560</a> oplog_writes_only_permitted_on_standalone.js must wait for insert to be in stable checkpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52680">SERVER-52680</a> Removed node on startup stuck in STARTUP2 after being re-added into the replica set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52744">SERVER-52744</a> rollback nodes lastApplied &gt; sync sources lastApplied in rollback_after_enabling_majority_reads.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53026">SERVER-53026</a> Secondary cannot restart replication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53345">SERVER-53345</a> Excuse arbiter_new_hostname.js from multiversion tests</li>
</ul>
</div>
<div class="section" id="id72">
<h3>Query<a class="headerlink" href="#id72" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32960">SERVER-32960</a> $mod has inconsistent rounding/truncation behavior</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40361">SERVER-40361</a> Reduce memory footprint of plan cache entries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50769">SERVER-50769</a> server restarted after expr{expr:_currentApplyOps.getArrayLength() &gt; 0,file:src/mongo/db/pipeline/document_source_change_stream_transform.cpp,line:535}}</li>
</ul>
</div>
<div class="section" id="id73">
<h3>Aggregation<a class="headerlink" href="#id73" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34741">SERVER-34741</a> Move $match in front of $group if condition is on group key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40090">SERVER-40090</a> DISTINCT_SCAN in agg is only used when certain format of _id is specified</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51886">SERVER-51886</a> $lookup + $merge pipeline may fail to resolve views correctly when collection names collide</li>
</ul>
</div>
<div class="section" id="id74">
<h3>Storage<a class="headerlink" href="#id74" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47812">SERVER-47812</a> Secondaries persist wildcard multikeypaths out of order</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48471">SERVER-48471</a> Hashed indexes may be incorrectly marked multikey and be ineligible as a shard key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51858">SERVER-51858</a> Investigate queryable issue on 4.0.20</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52950">SERVER-52950</a> recoverOplogAsStandalone mode must not start oplog truncater thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53703">SERVER-53703</a> [4.2] Opening a transaction at the all durable timestamp can go backwards</li>
</ul>
</div>
<div class="section" id="id75">
<h3>Build and Packaging<a class="headerlink" href="#id75" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52891">SERVER-52891</a> Run PPC builds less frequently</p>
</div>
<div class="section" id="id76">
<h3>Internals<a class="headerlink" href="#id76" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41836">SERVER-41836</a> Log thread ID as part of error in FSM tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43739">SERVER-43739</a> SNI name is not set on OSX if allowInvalidHostnames is enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44375">SERVER-44375</a> fix merge_with_drop_shard.js when the curop command fails due to ShardNotFound</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47863">SERVER-47863</a> Initial Sync Progress Metrics</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48742">SERVER-48742</a> Log whenever profiler settings are changed via setProfilingLevel</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50267">SERVER-50267</a> Set output limit for rawMongoProgramOutput()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50445">SERVER-50445</a> Return the value as double when NumberLong subtraction overflows in ExpressionSubtract</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51526">SERVER-51526</a> Hybrid index builds can miss writes and crash in the event of a well-timed WriteConflictException</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51607">SERVER-51607</a> Upgrade Twisted dependency to at least twisted-19.7.0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52618">SERVER-52618</a> Sparse hash index should not be used for equality to null match</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52646">SERVER-52646</a> Validate and possibly fix edge cases in regex rewrite rules for userToDNMapping</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52654">SERVER-52654</a> new signing keys not generated by the monitoring-keys-for-HMAC thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52806">SERVER-52806</a> deb install files assume systemd</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52879">SERVER-52879</a> Periodic operation latency spikes every 5 minutes due to closing idle cached WT sessions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52919">SERVER-52919</a> Wire compression not enabled for initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52929">SERVER-52929</a> Correctly handle compound indexes with 32 keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52969">SERVER-52969</a> Disable Powercyle on non-master branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-52975">SERVER-52975</a> Fix use of onRollback callback for collection validator options in collection_impl.cpp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53233">SERVER-53233</a> Fix change_streams_update_lookup_shard_metadata_missing.js [4.2, 4.0]</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-53234">SERVER-53234</a> jstests/core/profile2.js fails when background operations are run against test database</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6835">WT-6835</a> Add API to allow consolidating incremental backup info</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6839">WT-6839</a> Add API to query existing incremental backup IDs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6882">WT-6882</a> Files created during incremental backup should be copied in full</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6922">WT-6922</a> Add random consolidate testing to incr_backup</li>
</ul>
</div>
</div>
<div class="section" id="id77">
<span id="id78"></span><h2>4.2.11 Changelog<a class="headerlink" href="#id77" title="Permalink to this headline"></a></h2>
<div class="section" id="id79">
<h3>Security<a class="headerlink" href="#id79" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45938">SERVER-45938</a> Allow matching O/OU/DC in client x509 cert if clusterMode:keyFile</p>
</div>
<div class="section" id="id80">
<h3>Sharding<a class="headerlink" href="#id80" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36739">SERVER-36739</a> Use the mongos_manual_intervention_action hook in concurrency stepdown suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47616">SERVER-47616</a> Improve error when logical sessions cannot have more than one user authenticated on a single connection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51808">SERVER-51808</a> invariant failure: readConcern level != Available</li>
</ul>
</div>
<div class="section" id="id81">
<h3>Replication<a class="headerlink" href="#id81" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33747">SERVER-33747</a> Arbiter tries to start data replication if cannot find itself in config after restart</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50116">SERVER-50116</a> Forbid oplog writes when replication is enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50415">SERVER-50415</a> Rename waitInIsMaster failpoint to waitInHello</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50527">SERVER-50527</a> Change NotMasterError category to NotPrimaryError</li>
</ul>
</div>
<div class="section" id="id82">
<h3>Query<a class="headerlink" href="#id82" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51120">SERVER-51120</a> Find queries with SORT_MERGE incorrectly sort the results when the collation is specified</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51853">SERVER-51853</a> Always initialize the numInserted out-parameter in AbstractIndexAccessMethod::insertKeys</li>
</ul>
</div>
<div class="section" id="id83">
<h3>Write Operations<a class="headerlink" href="#id83" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44586">SERVER-44586</a> add metrics to serverStatus to track type of update command</p>
</div>
<div class="section" id="id84">
<h3>Aggregation<a class="headerlink" href="#id84" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48523">SERVER-48523</a> Unconditionally check the first entry in the oplog when attempting to resume a change stream</p>
</div>
<div class="section" id="id85">
<h3>Storage<a class="headerlink" href="#id85" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43664">SERVER-43664</a> Speedup WiredTiger storage engine startup for many tables by optimizing WiredTigerUtil::setTableLogging()</p>
</div>
<div class="section" id="id86">
<h3>Operations<a class="headerlink" href="#id86" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46729">SERVER-46729</a> Make Windows shell soft-fail for unavailable OCSP responder</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51757">SERVER-51757</a> Collect /proc/vmstat numa_pages_migrated statistics in FTDC</li>
</ul>
</div>
<div class="section" id="id87">
<h3>Build and Packaging<a class="headerlink" href="#id87" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46342">SERVER-46342</a> DEB installs of MDB do not issue systemctl daemon-reload on install</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50016">SERVER-50016</a> Fail on missing variable customization files</li>
</ul>
</div>
<div class="section" id="id88">
<h3>Internals<a class="headerlink" href="#id88" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43973">SERVER-43973</a> jsTestName() should return a unique name for each thread in the parallel suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45992">SERVER-45992</a> InMemory engine startupwarnings confusing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46625">SERVER-46625</a> Improve diagnostics when mongocryptd requests are sent to non-mongocryptd daemon</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48078">SERVER-48078</a> Remove OpDebug invariant that relies on monotonic clock source</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48502">SERVER-48502</a> Tighten $currentOp and pinned cursor checks in kill_pinned_cursor.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49165">SERVER-49165</a> endSessions command in Client.Disconnect causes an authorization failure for an unauthed connection on a host that requires authentication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49957">SERVER-49957</a> Read out of bounds in getPrevAndNextUUIDs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50072">SERVER-50072</a> Check _isWindows() when initializing MongoRunner.EXIT_ABORT</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50123">SERVER-50123</a> Record number of physical cores on all platforms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50216">SERVER-50216</a> Adjust sys-perf frequencies</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50365">SERVER-50365</a> Stuck with long-running transactions that cant be timed out</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50605">SERVER-50605</a> Add {logMessage: msg} test-only command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50647">SERVER-50647</a> Fix OCSP HTTP Client timeout for Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50736">SERVER-50736</a> Make OpenSSL explicitly accept SNIs presented in ClientHello</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50818">SERVER-50818</a> Coverity analysis defect 114987: Wrapper object use after free</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51004">SERVER-51004</a> Disable WT-Develop sys-perf build variants on sys-perf-4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51058">SERVER-51058</a> log_remote_op_wait.js misuses rawMongoProgramOutput</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51106">SERVER-51106</a> Make the isMaster command a derived class of hello</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51220">SERVER-51220</a> Handle auditing attribution in indirect drops</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51303">SERVER-51303</a> Lookup stage followed by $match on type uses wrong field in matching condition</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51840">SERVER-51840</a> Reduce dbtest jobs on 4.2 on Windows debug</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2588">TOOLS-2588</a> [v4.2] sslAllowInvalidHostnames bypass ssl/tls server certification validation entirely</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6160">WT-6160</a> Fix format failure caused by stack overwrite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6507">WT-6507</a> Exit cache eviction worker after our operation has timed out</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6602">WT-6602</a> Allow operation timeout ms to be passed to commit and rollback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6666">WT-6666</a> Start op timer when we configure it in rollback and commit</li>
</ul>
</div>
</div>
<div class="section" id="id89">
<span id="id90"></span><h2>4.2.10 Changelog<a class="headerlink" href="#id89" title="Permalink to this headline"></a></h2>
<div class="section" id="id91">
<h3>Security<a class="headerlink" href="#id91" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50463">SERVER-50463</a> Make PooledLDAPConnection::refresh take self-ownership</p>
</div>
<div class="section" id="id92">
<h3>Sharding<a class="headerlink" href="#id92" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37422">SERVER-37422</a> Log balancer start and stop events in the actionlog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48601">SERVER-48601</a> ChunkSplitter should use the same chunk bounds for splitVector and splitChunk</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48679">SERVER-48679</a> flushRoutingTableCacheUpdates should block on critical section with kWrite, not kRead</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50889">SERVER-50889</a> migration_failure.js should run setFCV through the router instead of the config server</li>
</ul>
</div>
<div class="section" id="id93">
<h3>Replication<a class="headerlink" href="#id93" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47263">SERVER-47263</a> Inaccurate log message when losing dry run election</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47645">SERVER-47645</a> Must invalidate all sessions on step down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48518">SERVER-48518</a> Rollback via refetch (EMRC = false) can make readers to see the rolled back data even after the rollback node catches up to primary.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48928">SERVER-48928</a> Allow primary-elect to complete drain mode even if it is stepping down unconditionally</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49986">SERVER-49986</a> Convert isMaster command to hello and add aliases</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49987">SERVER-49987</a> Rename response fields if hello is sent on mongod</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49988">SERVER-49988</a> Rename response fields if hello is sent on mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49989">SERVER-49989</a> Add db.hello() shell helper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49990">SERVER-49990</a> Alias setSlaveOk() and getSlaveOk() shell helpers</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49991">SERVER-49991</a> Alias printSlaveReplicationInfo() shell helper</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50405">SERVER-50405</a> Alias isMaster in mongocryptd and attach appropriate response field</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50607">SERVER-50607</a> Must hold mutex when calling _checkForShutdownAndConvertStatus_inlock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50626">SERVER-50626</a> Race in read_concern_majority_getmore_secondaries.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50640">SERVER-50640</a> listCommands should return isMaster alias in addition to hello command name</li>
</ul>
</div>
<div class="section" id="id94">
<h3>Query<a class="headerlink" href="#id94" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47469">SERVER-47469</a> applyOps does not take exclusive lock for views operation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50291">SERVER-50291</a> Add query knob to enumerate $or children in a different order</li>
</ul>
</div>
<div class="section" id="id95">
<h3>Aggregation<a class="headerlink" href="#id95" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31368">SERVER-31368</a> Log time spent waiting for other shards in merge cursors aggregation stage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40317">SERVER-40317</a> $facet execution has no limit on how much memory it can consume</li>
</ul>
</div>
<div class="section" id="id96">
<h3>Operations<a class="headerlink" href="#id96" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-26726">SERVER-26726</a> Check number of arguments for createIndex() and throw error if more than two arguments</p>
</div>
<div class="section" id="id97">
<h3>Build and Packaging<a class="headerlink" href="#id97" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-23668">SERVER-23668</a> scons abbreviated options do not work properly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44632">SERVER-44632</a> Platform Support: Remove Community zSeries from 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47138">SERVER-47138</a> MSI installer produces incorrect config file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50078">SERVER-50078</a> Compile bypass applied when it should not have</li>
</ul>
</div>
<div class="section" id="id98">
<h3>Internals<a class="headerlink" href="#id98" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42852">SERVER-42852</a> buildStages() STAGE_SHARDING_FILTER block should hold child stage tree by unique_ptr</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43233">SERVER-43233</a> Add ability to request only specific attribute(s) for the LDAP groups</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45202">SERVER-45202</a> Improve Command alias infrastructure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47428">SERVER-47428</a> Move concurrency_sharded* Evergreen tasks to -large distros</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48048">SERVER-48048</a> Use resmoke tag files for multiversion blacklisting</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48410">SERVER-48410</a> Signed integer overflow fix for datetime library</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48709">SERVER-48709</a> signing key generator thread on config server not waken up as expected</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49054">SERVER-49054</a> Server MSI should install Compass instead of Compass Community</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49438">SERVER-49438</a> Allow memory.js tests to accept $where timeout interruption</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49766">SERVER-49766</a> Indexed and non-indexed collections return different results for null query</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49786">SERVER-49786</a> Freeze DSI and Genny for non-master perf projects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49922">SERVER-49922</a> Make schema_validator_with_expr_variables.js less heavy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50183">SERVER-50183</a> Copy _awaitPrimaryAppliedSurpassesRollbackApplied function from RollbackTest to RollbackTestDeluxe</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50326">SERVER-50326</a> Restrict sharding in agg_out.js workload to a single thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50394">SERVER-50394</a> mongod audit log attributes DDL operations to the __system user in a sharded environment</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50403">SERVER-50403</a> Build server on combined visual studio image</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50760">SERVER-50760</a> [v4.2] Switch MultiOplogEntrySyncTailTest to use wiredTiger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50822">SERVER-50822</a> [4.2] dont_read_oplog_hole_on_step_up.js should wait for all nodes to agree on a primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51041">SERVER-51041</a> Throttle starting transactions for secondary reads</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6000">WT-6000</a> Enhance incremental backup testing in format to support restart</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6215">WT-6215</a> Clear backup block information on rename: Reverted</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6421">WT-6421</a> Avoid parsing metadata checkpoint for clean files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6539">WT-6539</a> Fix backup and rename memory leak</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6559">WT-6559</a> Use the session ID from the new session to determine statistics bucket</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6598">WT-6598</a> Add new API allowing changing dhandle hash bucket size</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6610">WT-6610</a> Fix incremental backup checkpoint parsing to handle upgrades</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6611">WT-6611</a> Revert enhancement allowing rename and incremental backup</li>
</ul>
</div>
</div>
<div class="section" id="id99">
<span id="id100"></span><h2>4.2.9 Changelog<a class="headerlink" href="#id99" title="Permalink to this headline"></a></h2>
<div class="section" id="id101">
<h3>Security<a class="headerlink" href="#id101" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47733">SERVER-47733</a> SymmetricEncryptorWindows shouldnt pad when update is called</p>
</div>
<div class="section" id="id102">
<h3>Sharding<a class="headerlink" href="#id102" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40441">SERVER-40441</a> Arbiter nodes log error messages when try to create  session collection or check if it exists</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46194">SERVER-46194</a> Applying transfer mods in a migration does not handle write conflicts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48096">SERVER-48096</a> PeriodicShardedIndexConsistencyChecker thread on jstests can cause unintended shard refreshes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48229">SERVER-48229</a> Shutdown PeriodicShardedIndexConsistencyChecker after ReplicationCoordinator so no thread will try to pause the job after it has stopped</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48491">SERVER-48491</a> Add requires_document_locking tag to sessions_collection_reaping.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48674">SERVER-48674</a> Check if replication is enabled before checking if the node is an arbiter in LogicalSessionCacheImpl</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48926">SERVER-48926</a> Fix remaining sharding tests that incorrectly set votes to 0 on shard secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49233">SERVER-49233</a> Introduce a flag to toggle the logic for bumping collections major version during split</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49311">SERVER-49311</a> PeriodicShardedIndexConsistencyChecker might cause failures on stale_mongos_and_restarted_shards_agree_on_shard_version.js</li>
</ul>
</div>
<div class="section" id="id103">
<h3>Replication<a class="headerlink" href="#id103" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44779">SERVER-44779</a> Invariant internal operations that hit a prepareConflict must be marked killable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45610">SERVER-45610</a> Some reads work while system is RECOVERING</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47849">SERVER-47849</a> Add more logging to shutdownTask</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48525">SERVER-48525</a> Forbid dropping config.transactions when there are prepared transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48527">SERVER-48527</a> Aborting in-progress transactions on step-up should clear session state before returning</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48576">SERVER-48576</a> Fix the election race in change_stream_stepdown.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48611">SERVER-48611</a> speculative_majority_find.js should call awaitLastOpCommitted before running majority read that is expected to succeed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48712">SERVER-48712</a> Race in write_concern_after_stepdown.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48778">SERVER-48778</a> Make reconstruct_prepared_transactions_initial_sync.js robust to election failures.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48967">SERVER-48967</a> Prevent replicated writes on empty namespaces on secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48979">SERVER-48979</a> Race between config propagation and election in change_stream_stepdown.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49471">SERVER-49471</a> Retry on WT_ROLLBACK when applying prepareTransaction oplog entry</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50039">SERVER-50039</a> Timing error in dbadmin.js test</li>
</ul>
</div>
<div class="section" id="id104">
<h3>Query<a class="headerlink" href="#id104" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35921">SERVER-35921</a> Index scan uses incorrect bounds for MinKey and MaxKey</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44273">SERVER-44273</a> Failure to parse certain time zone specifications on windows platforms.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45233">SERVER-45233</a> Indexed inequalities to arrays return incorrect results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47223">SERVER-47223</a> geoNear/$geoNear does not apply index hints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48614">SERVER-48614</a> Plan cache key computation for wildcard indexes with partialIndexFilter is incorrect, leading to incorrect query results</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48950">SERVER-48950</a> Enhance explain for $search to expose stats from mongot</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48993">SERVER-48993</a> explodeForSort can produce incorrect query plan</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49527">SERVER-49527</a> recoverFromOplogAsStandalone does not relax index constraints</li>
</ul>
</div>
<div class="section" id="catalog">
<h3>Catalog<a class="headerlink" href="#catalog" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47714">SERVER-47714</a> Secondary asserts on system.profile collection with WiredTigerRecordStore::insertRecord 95: Operation not supported</p>
</div>
<div class="section" id="id105">
<h3>Storage<a class="headerlink" href="#id105" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44529">SERVER-44529</a> Re-acquiring locks after a yield and step down results in wrong parameters on recoveryUnit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48274">SERVER-48274</a> Remove readOnly mode for queryable restores of encrypted sharded clusters</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48453">SERVER-48453</a> Lazily initialize a record stores auto incrementing counter on deletes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48695">SERVER-48695</a> setAppliedThrough must set orderedCommit=false on the recovery unit</li>
</ul>
</div>
<div class="section" id="id106">
<h3>Operations<a class="headerlink" href="#id106" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44051">SERVER-44051</a> getShardDistribution() does not report Collection XYZ is not sharded on dropped but previously sharded collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48244">SERVER-48244</a> Shell should not hard-code the allowed explain levels and let the server reject it instead</li>
</ul>
</div>
<div class="section" id="id107">
<h3>Build and Packaging<a class="headerlink" href="#id107" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42042">SERVER-42042</a> Warn or fail early on dynamic builds with toolchain compiler and tcmalloc</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46445">SERVER-46445</a> MongoDB MSI installer showing irrelevant error message while installing in server configuration window</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48329">SERVER-48329</a> Adjust naming of action_type.h on either master or all stable branches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48640">SERVER-48640</a> Update RHEL 6.2 AMI for package tests</li>
</ul>
</div>
<div class="section" id="id108">
<h3>Internals<a class="headerlink" href="#id108" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33229">SERVER-33229</a> Overload startParallelShell in auto_retry_on_network_error.js to connect after loading the auto_retry_on_network_error.js override</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41070">SERVER-41070</a> Add blockConnection mode to failCommand</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43490">SERVER-43490</a> Validate if we can perform TODO listed in SERVER-38686</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46721">SERVER-46721</a> Step up may cause reads at PIT with holes after yielding</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46854">SERVER-46854</a> Disable periodic index consistency checker on config servers in jstests/sharding/lookup_mongod_unaware.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47195">SERVER-47195</a> Allow failCommand failpoint to trigger only on a specific MongoClient</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47883">SERVER-47883</a> Newly-elected primaries do not wait for single-phase background index builds to complete before accepting writes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47930">SERVER-47930</a> Ubuntu 20.04 - ldap_authz_authn.js fails to load test certificate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48032">SERVER-48032</a> Update references of community mailing-lists to MongoDB Developer Community Forums</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48058">SERVER-48058</a> Make sure abort_transactions_on_step_up waits for optime to be applied</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48067">SERVER-48067</a> Reduce memory consumption for unique index builds with large numbers of non-unique keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48107">SERVER-48107</a> Retry replSetStepDown in rollback_test.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48514">SERVER-48514</a> Separate testing called and successful fields for serverStatus election metrics</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48532">SERVER-48532</a> [4.2] IndexBuildInterceptor::areAllWritesApplied may return false despite all records being visibly applied</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48568">SERVER-48568</a> Use nodeOptions in change_streams_multi_version_transaction.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48569">SERVER-48569</a> Add ConflictingOperationInProgress as acceptable error code to stepDown in validateCollectionsCallback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48657">SERVER-48657</a> Use evergreen module to control signal processing in perf projects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48891">SERVER-48891</a> nullptr dereference on ViewCatalog in reIndex when Database does not exist</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48907">SERVER-48907</a> Allow users to patch test changes to linkbench/linkbench2 using evergreen set-module</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49007">SERVER-49007</a> Roundtrip registration ID in metrics response in mock_http_server.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49071">SERVER-49071</a> Make ldap_fastest_host_selection.js tolerate missing LDAP servers in statistics</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49097">SERVER-49097</a> sys-perf builds differ from release builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49142">SERVER-49142</a> Validate correct field name in RoleName::parseFromBSON()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49335">SERVER-49335</a> publish_packages should use barque API key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49404">SERVER-49404</a> Enforce additional checks in $arrayToObject</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49690">SERVER-49690</a> Retry CappedPositionLost when searching for old oplog entries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-49704">SERVER-49704</a> txn_being_applied_to_secondary_cannot_be_killed.js should not allow elections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-50173">SERVER-50173</a> [v4.4] Remove explode_for_sort_collation.js from backports list of test suite sharding_multiversion</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6261">WT-6261</a> Turn off incremental backup rename testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6319">WT-6319</a> Fix for corrupted encrypted item: padded size less than actual size</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6480">WT-6480</a> Fix a bug where files without block modification information were repeatedly copied at each incremental backup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6495">WT-6495</a> Refactor test_backup16.py</li>
</ul>
</div>
</div>
<div class="section" id="id109">
<span id="id110"></span><h2>4.2.8 Changelog<a class="headerlink" href="#id109" title="Permalink to this headline"></a></h2>
<div class="section" id="id111">
<h3>Sharding<a class="headerlink" href="#id111" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40441">SERVER-40441</a> Arbiter nodes log error messages when try to create  session collection or check if it exists</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45554">SERVER-45554</a> Un-blacklist core/txns from sharding test suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47799">SERVER-47799</a> AsyncRequestsSender should update replica set monitor in between retries for InterruptedAtShutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47913">SERVER-47913</a> Redact sharding messages in split chunk and distributed lock acquisition</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48307">SERVER-48307</a> Transactions that write to exactly one shard and read from one or more other shards may incorrectly indicate failure on retry after successful commit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48491">SERVER-48491</a> Add requires_document_locking tag to sessions_collection_reaping.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48674">SERVER-48674</a> Check if replication is enabled before checking if the node is an arbiter in LogicalSessionCacheImpl</li>
</ul>
</div>
<div class="section" id="id112">
<h3>Replication<a class="headerlink" href="#id112" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46496">SERVER-46496</a> Retry on exceptions in reconfig_add_remove_arbiter.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46897">SERVER-46897</a> REMOVED node may never send heartbeat to fetch newest config</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47528">SERVER-47528</a> Presence of initialSyncStatus in replSetGetStatus consumes too much FTDC space</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47879">SERVER-47879</a> Should read from primary in rollback_reconstructs_transactions_prepared_before_stable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48101">SERVER-48101</a> Use j:true when persistence is enabled in optime.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48250">SERVER-48250</a> Wait for hang in majority write before stepping down primary in write_concern_after_stepdown_and_stepup.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48276">SERVER-48276</a> ReplSet Free Monitoring URLs inconsistent</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48371">SERVER-48371</a> transactions_during_step_down.js must abort transaction in the shell</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48541">SERVER-48541</a> Fix log output on rollback of fcv document</li>
</ul>
</div>
<div class="section" id="id113">
<h3>Query<a class="headerlink" href="#id113" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47209">SERVER-47209</a> change_streams_update_lookup_shard_metadata_missing.js should handle the node the change stream cursor was established on going through rollback</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47773">SERVER-47773</a> geoNear invariant on mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47994">SERVER-47994</a> Fix for numerical overflow in GeoHash</li>
</ul>
</div>
<div class="section" id="id114">
<h3>Storage<a class="headerlink" href="#id114" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43097">SERVER-43097</a> Improve log messaging when index builds get foregrounded because of startup recovery</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45570">SERVER-45570</a> Add a ProgressMeter to the index build startup recovery code path</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48384">SERVER-48384</a> Make PeriodicJob stop before TimestampMonitor destroy its members</li>
</ul>
</div>
<div class="section" id="id115">
<h3>Operations<a class="headerlink" href="#id115" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44051">SERVER-44051</a> getShardDistribution() does not report Collection XYZ is not sharded on dropped but previously sharded collections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46189">SERVER-46189</a> shell hang with message Missing ssl modes with a single replica set is disallowed</li>
</ul>
</div>
<div class="section" id="id116">
<h3>Build and Packaging<a class="headerlink" href="#id116" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48640">SERVER-48640</a> Update RHEL 6.2 AMI for package tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48659">SERVER-48659</a> Update SLES 12 AMI for package tests</li>
</ul>
</div>
<div class="section" id="id117">
<h3>Internals<a class="headerlink" href="#id117" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46758">SERVER-46758</a> setFCV can be interrupted before an FCV change is majority committed and rollback the FCV without running the setFCV server logic</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47187">SERVER-47187</a> Add startup warning when SeIncreaseWorkingSetPrivilege not present</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47256">SERVER-47256</a> Update listed maintainer for repo package files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47611">SERVER-47611</a> Re-work to_local_args function using argparse</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47798">SERVER-47798</a> Audit isMaster response validation for mongod and mongos</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47877">SERVER-47877</a> Some replsets tests use arrayEq without assert</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48346">SERVER-48346</a> Fix lifetime issues for barriers captured by reference</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48369">SERVER-48369</a> Fix prepare_conflict.js to use write concern majority when creating an index</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48657">SERVER-48657</a> Use evergreen module to control signal processing in perf projects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2562">TOOLS-2562</a> [v4.2] Oplog replay cant handle entries &gt; 16 MB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2586">TOOLS-2586</a> [v4.2] Write location not correctly set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6366">WT-6366</a> Off-by-one overflow in block-modification bitmaps for incremental backup</li>
</ul>
</div>
</div>
<div class="section" id="id118">
<span id="id119"></span><h2>4.2.7 Changelog<a class="headerlink" href="#id118" title="Permalink to this headline"></a></h2>
<div class="section" id="id120">
<h3>Security<a class="headerlink" href="#id120" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45514">SERVER-45514</a> [FLE] Reject document validators with encryption-related keywords if the validationAction is warn</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48039">SERVER-48039</a> Unrecognized option: net.ssl.clusterCertificateSelector in MongoDB v4.2</li>
</ul>
</div>
<div class="section" id="id121">
<h3>Sharding<a class="headerlink" href="#id121" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42632">SERVER-42632</a> Disable pinger threads that reach out to config server to make integration tests pass</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42772">SERVER-42772</a> race between TransactionCoordinatorService::joinPreviousRound and coordinator destruction can trigger invariant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43100">SERVER-43100</a> Remove CoordinateCommitReturnsNoneIfCoordinatorWasRemoved unit test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45009">SERVER-45009</a> Transaction coordinator tasks should be robust to shutdown failing to step down</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46396">SERVER-46396</a> Add metrics to track number of operations blocked behind a catalog cache refresh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46487">SERVER-46487</a> The mongos routing for scatter/gather ops can have unbounded latency</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47481">SERVER-47481</a> Set minNumChunksForSessionsCollection to 1 on the CSRS in ShardedClusterFixture-based suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47745">SERVER-47745</a> Make chunk query in ShardingCatalogManager compatible with chunks created in 3.4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47999">SERVER-47999</a> balance_repl.js should ensure writes have replicated before attempting to read them from a secondary</li>
</ul>
</div>
<div class="section" id="id122">
<h3>Replication<a class="headerlink" href="#id122" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38731">SERVER-38731</a> Ability to specify sync source read preference in initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47190">SERVER-47190</a> Shutdown command with force:true should ignore all stepdown errors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47613">SERVER-47613</a> Invariant in processReplSetRequestVotes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47622">SERVER-47622</a> replSetReconfig.js should check ismaster before running the reconfig command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47695">SERVER-47695</a> Write commands run by threads that can survive rollback can fail operationTime invariant in ServiceEntryPoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48046">SERVER-48046</a> {replSetFreeze: 0} done in RollbackTest.restartNode() should be resilient of network errors</li>
</ul>
</div>
<div class="section" id="id123">
<h3>Query<a class="headerlink" href="#id123" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46810">SERVER-46810</a> Broken E11000 duplicate key error when unique index contains collation</p>
</div>
<div class="section" id="id124">
<h3>Aggregation<a class="headerlink" href="#id124" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46819">SERVER-46819</a> Allow transactions in change stream sharded passthroughs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47581">SERVER-47581</a> mongoS does not set useNewUpsert on $mergeCursors pipelines [4.4, 4.2]</li>
</ul>
</div>
<div class="section" id="id125">
<h3>Storage<a class="headerlink" href="#id125" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44577">SERVER-44577</a> Ensure WiredTiger cursors have started a transaction before reading data</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46398">SERVER-46398</a> Suggest explicit dbpath when starting mongod on macOS and the default dbpath isnt found</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46699">SERVER-46699</a> Report the oplog visibility timestamp in FTDC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47462">SERVER-47462</a> Remove SetIndexCommitQuorum command support from mongoDB 4.2</li>
</ul>
</div>
<div class="section" id="id126">
<h3>Operations<a class="headerlink" href="#id126" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45295">SERVER-45295</a> Make sure that LDAP logs always contain context on AuthZN operation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47553">SERVER-47553</a> mongos crashes due to client disconnecting when signing keys being refreshed</li>
</ul>
</div>
<div class="section" id="id127">
<h3>Build and Packaging<a class="headerlink" href="#id127" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44072">SERVER-44072</a> Platform Support: Add Enterprise RHEL 8 PPC</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48094">SERVER-48094</a> Add RHEL 8.1 to repo_config yaml</li>
</ul>
</div>
<div class="section" id="id128">
<h3>Internals<a class="headerlink" href="#id128" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42927">SERVER-42927</a> Increase verbosity of symbol loading in hang_analyzer.py on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43468">SERVER-43468</a> Complete TODO listed in SERVER-38690</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45117">SERVER-45117</a> Guard NetworkInterfaceTL::setAlarm() more aggressively</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45624">SERVER-45624</a> Pre-split and distribute chunks of sessions collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46633">SERVER-46633</a> Windows TLS implementation may declare hostname mismatch on unrelated error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46684">SERVER-46684</a> Repackage the hang-analyzer as a resmoke subcommand</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46769">SERVER-46769</a> Migrate from optparse to argparse</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46841">SERVER-46841</a> Make PeriodicRunner interrupt blocked operations on stop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47056">SERVER-47056</a> Do not use readOnce cursors for collection scan in initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47063">SERVER-47063</a> Upgrade static OpenSSL to 1.1.1e</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47071">SERVER-47071</a> CheckReplOplogs can fail to detect a mismatch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47264">SERVER-47264</a> Backport DocumentSourceBucketAuto::optimize() function to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47351">SERVER-47351</a> Better synchronize NetworkInterfaceTL shutdown with in-flight commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47373">SERVER-47373</a> Improve handling of empty TLS packets</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47429">SERVER-47429</a> authenticationMechanisms parameter is not validated</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47475">SERVER-47475</a> Make PeriodicJob aware of cancelation at global shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47507">SERVER-47507</a> Cancel all remaining egress commands on shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47623">SERVER-47623</a> Fix use-diagnostic-latches=off on v4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47633">SERVER-47633</a> Add uses_transactions tag to index_build_yield_prepare_conflicts.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47634">SERVER-47634</a> Make metric tests in stepup.js more robust</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47668">SERVER-47668</a> Update FCV documentation links to 4.2 in feature_compatibility_version_documentation.h</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47685">SERVER-47685</a> Remove fetch_and_build_openssl.sh from master branch</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47893">SERVER-47893</a> Add test confirming that variables defined above a $graphLookup are available for use</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47919">SERVER-47919</a> Dont expose suite option in find-suites; use set_default instead</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47940">SERVER-47940</a> Add space between resmoke.py and run in powertest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-48005">SERVER-48005</a> Reduce parallelism on Ubuntu 1804 ARM</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2526">TOOLS-2526</a> [v4.2] mongorestore may incorrectly validate index name length before calling createIndexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2532">TOOLS-2532</a> [v4.2] mongorestore hangs on invalid archive</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4954">WT-4954</a> Document duplicate backup cursors</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5212">WT-5212</a> Backup data validation tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5214">WT-5214</a> Verify potential incremental failures</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5246">WT-5246</a> Update WiredTiger backup documentation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5589">WT-5589</a> force_stop on duplicate cursor open not returning error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5624">WT-5624</a> Incremental unit test should use offset/length ranges</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5695">WT-5695</a> Fixed incremental backup example to use O_CREAT in the backup range case</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5697">WT-5697</a> Dropping or renaming tables returns EBUSY in incremental backup test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5699">WT-5699</a> Refactor incremental backup RANGE code</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5719">WT-5719</a> Incremental backup metadata should quote the ID string</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5722">WT-5722</a> Incremental backup should do a name check on identifiers</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5834">WT-5834</a> Incremental backup returning too large offset</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5914">WT-5914</a> Only configure log-incremental backup if archiving is off in test/format</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5989">WT-5989</a> Support arguments in workgen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5999">WT-5999</a> Update format so its possible for it to restart on an existing database</li>
</ul>
</div>
</div>
<div class="section" id="id129">
<span id="id130"></span><h2>4.2.6 Changelog<a class="headerlink" href="#id129" title="Permalink to this headline"></a></h2>
<div class="section" id="id131">
<h3>Security<a class="headerlink" href="#id131" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45803">SERVER-45803</a> mongodecrypt needs a ServiceContext</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46834">SERVER-46834</a> Use monotonic time in UserCacheInvalidator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47113">SERVER-47113</a> LDAP connection pool acquisition state should own host list</li>
</ul>
</div>
<div class="section" id="id132">
<h3>Sharding<a class="headerlink" href="#id132" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-29153">SERVER-29153</a> Make sure replica set nodes agree on which node is primary before doing writes in ShardingTest initialization</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32871">SERVER-32871</a> ReplicaSetMonitorRemoved and ShardNotFound errors on fanout query after removing a shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41278">SERVER-41278</a> FSM killSession helper should not kill sessions being run by background hooks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41777">SERVER-41777</a> Make multi_mongos2.js awaitReplication after sharding a collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42304">SERVER-42304</a> Load causal consistency override in sharded_collections_causally_consistent_jscore_txns_passthrough</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42827">SERVER-42827</a> Allow sessions collection to return OK for creating indexes if at least one shard returns OK and others return CannotImplicitlyCreateCollection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42862">SERVER-42862</a> Prevent shard refreshes in mergeChunks command from joining earlier refreshes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43848">SERVER-43848</a> find/update/delete w/o shard key predicate under txn with snapshot read can miss documents</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44115">SERVER-44115</a> Exclude jstests/core/autocomplete.js from sharded jscore tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44463">SERVER-44463</a> insertConfigDocumentsAsRetryableWrite() incorrectly calculates BSON array overhead</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45119">SERVER-45119</a> CollectionShardingState::getCurrentShardVersionIfKnown returns collection version instead of shard version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45389">SERVER-45389</a> Add metrics tracking how often shards have inconsistent indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45910">SERVER-45910</a> Router might target wrong shard on write operation for unsharded collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46084">SERVER-46084</a> Dont use $setUnion in aggregation for finding inconsistent sharded indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46307">SERVER-46307</a> database_versioning_safe_secondary_reads.js should not set votes: 0 on the shard secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46942">SERVER-46942</a> State information can be leaked if server closes too quickly on network_interface_tl</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47436">SERVER-47436</a> Make shards validate shardKey in dataSize command</li>
</ul>
</div>
<div class="section" id="id133">
<h3>Replication<a class="headerlink" href="#id133" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33627">SERVER-33627</a> Initial syncer needs to handle exception</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35437">SERVER-35437</a> Wait for secondary state after stepdown command in multi_rs.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46517">SERVER-46517</a> Stepdown changes the underlying state of canAcceptWrites() out of RSTL X mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47109">SERVER-47109</a> Race in replset1.js from two-phase index build</li>
</ul>
</div>
<div class="section" id="id134">
<h3>Query<a class="headerlink" href="#id134" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40805">SERVER-40805</a> Indicate the reason for replanning in the log file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45147">SERVER-45147</a> Ghost timestamp must set transaction to unordered</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46872">SERVER-46872</a> yield_with_drop.js FSM workload should permit upserts to fail with NoProgressMade</li>
</ul>
</div>
<div class="section" id="id135">
<h3>Write Operations<a class="headerlink" href="#id135" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47233">SERVER-47233</a> WriteOp can be left in pending state, leading to erroneous NoProgressMade write error from mongos</p>
</div>
<div class="section" id="id136">
<h3>Aggregation<a class="headerlink" href="#id136" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44689">SERVER-44689</a> Add serverStatus counter for each use of an aggregation stage in a users request</p>
</div>
<div class="section" id="id137">
<h3>Storage<a class="headerlink" href="#id137" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44507">SERVER-44507</a> Hybrid index build is able to commit (acquire stronger mode locks) for a collection that contains prepared documents. (4.2 only)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46468">SERVER-46468</a> The validate command may generate overlong responses</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46865">SERVER-46865</a> collMod should not take database MODE_X lock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47006">SERVER-47006</a> Implement a downgrade floor between 4.4 and 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47425">SERVER-47425</a> When 4.2 discovers log version 4 records on startup, continue to write log version 4 records</li>
</ul>
</div>
<div class="section" id="id138">
<h3>Operations<a class="headerlink" href="#id138" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44892">SERVER-44892</a> getShardDistribution should use $collStats agg stage instead of collStats command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46024">SERVER-46024</a> Collect /proc/vmstat swap statistics in FTDC</li>
</ul>
</div>
<div class="section" id="id139">
<h3>Build and Packaging<a class="headerlink" href="#id139" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43231">SERVER-43231</a> Add support for releasing mqlrun artifacts for certain Ubuntu LTS versions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46996">SERVER-46996</a> all push/publish_packages tasks should run on small hosts</li>
</ul>
</div>
<div class="section" id="id140">
<h3>Internals<a class="headerlink" href="#id140" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-15902">SERVER-15902</a> use signal handling stack via sigaltstack to improve behavior on stack overflow</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38119">SERVER-38119</a> Windows dump file naming does not account for dots in directory names</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39241">SERVER-39241</a> Plan scoring incorrectly applies noFetchBonus bonus to all plans when no projection is provided</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41160">SERVER-41160</a> Add shutdown method for CatalogCacheLoader</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42278">SERVER-42278</a> Log SockAddrs produced during LDAP connection establishment with manually derived sizes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42455">SERVER-42455</a> ReplicaSetChangeNotifier::onConfirmedSet is unsafe during shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42525">SERVER-42525</a> Single-node replica sets shouldnt wait for electable caught up secondaries during shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43011">SERVER-43011</a> Add optional namespace restriction to failCommand failpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43732">SERVER-43732</a> burn_in_tests did not detect changes in core</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43889">SERVER-43889</a> Distinguish between a retryable write and a transaction when failing a command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45143">SERVER-45143</a> Missing expected field protocolVersion, but that field has a default value</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45334">SERVER-45334</a> Service Name not respected in MSI Installer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45508">SERVER-45508</a> Invariant failure in getFieldsWithStringBounds with descending point ranges</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45525">SERVER-45525</a> ReplBatcher should explicitly read at kNoTimestamp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45835">SERVER-45835</a> Add optimized Linkbench to Sys-perf as a new task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45881">SERVER-45881</a> Investigate and implement desired Flow Control throttling for multi-document transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46135">SERVER-46135</a> Create selected_tests alias</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46362">SERVER-46362</a> Make set_step_params test tolerate sporadic connections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46410">SERVER-46410</a> Validate should check for duplicate keys in unique indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46439">SERVER-46439</a> Add acceptance tests for burn_in_tags</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46501">SERVER-46501</a> Add /proc/self/mountinfo to hostInfo response</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46851">SERVER-46851</a> Decrease the number of jobs in logical session cache tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46861">SERVER-46861</a> Update perf.yml to use the updated genny invocation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46980">SERVER-46980</a> Add multiversion* expansions to Enterprise RHEL 7.0 builder in v4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47080">SERVER-47080</a> Enable verbose logging for LDAP tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47114">SERVER-47114</a> Make ldapproxy.py use IOCP on Windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47174">SERVER-47174</a> mozjs third party code folder is ignored by git</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47193">SERVER-47193</a> createIndexes command accepts commitQuorum option on 4.2 servers</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47384">SERVER-47384</a> Remove TODO comment for SERVER-41070</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47407">SERVER-47407</a> Avoid WriteUnitOfWork in index build collection scan loop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5669">WT-5669</a> Prepare support with durable history: backport data format changes to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5866">WT-5866</a> Remove history store file when downgrading to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5892">WT-5892</a> Bump log/WT version to facilitate downgrade floor for MongoDB 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5934">WT-5934</a> Stop validating timestamps read from disk in 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5966">WT-5966</a> 4.4 downgrade can result in 4.2 core dumps if cells are ignored</li>
</ul>
</div>
</div>
<div class="section" id="id141">
<span id="id142"></span><h2>4.2.5 Changelog<a class="headerlink" href="#id141" title="Permalink to this headline"></a></h2>
<div class="section" id="id143">
<h3>Sharding<a class="headerlink" href="#id143" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45770">SERVER-45770</a> Add to information contained in logfile about moveChunk.to</p>
</div>
<div class="section" id="id144">
<h3>Storage<a class="headerlink" href="#id144" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46858">SERVER-46858</a> [4.2] Start WT in read only mode if the recoverToOplogTimestamp flag is missing for queryable backup</p>
</div>
<div class="section" id="id145">
<h3>Build and Packaging<a class="headerlink" href="#id145" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46983">SERVER-46983</a> Upload repobuilding packages to correct URL</p>
</div>
<div class="section" id="id146">
<h3>Internals<a class="headerlink" href="#id146" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45043">SERVER-45043</a> Fix SSL test failure on Ubuntu</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45156">SERVER-45156</a> SockAddr constructor should take sockaddr, not sockaddr_storage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46126">SERVER-46126</a> LDAP proxy and mongod startup race in ldap_insuffcient_access_rights.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46630">SERVER-46630</a> RemoveSaver writes GCM tag to incorrect file position</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46746">SERVER-46746</a> Add sysbench large scale workload to sys-perf for durable history testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46754">SERVER-46754</a> Use new repobuilder service</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46766">SERVER-46766</a> Teardown clusters after every perf run</li>
</ul>
</div>
</div>
<div class="section" id="id147">
<span id="id148"></span><h2>4.2.4 Changelog<a class="headerlink" href="#id147" title="Permalink to this headline"></a></h2>
<div class="section" id="id149">
<h3>Sharding<a class="headerlink" href="#id149" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42617">SERVER-42617</a> Race in CloneDocumentsCatchesInsertErrors can causes it to return an unexpected error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44103">SERVER-44103</a> clear_jumbo.js should wait for balancer to be on mode: full for more than one round</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44130">SERVER-44130</a> Flip order of assert.lte arguments in logical_time_metadata.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44839">SERVER-44839</a> Frequent schema changes in mongos ftdc metrics limits retention period</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44915">SERVER-44915</a> Extend $indexStats output to include full index options and shard name</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45273">SERVER-45273</a> Remove the mongos version check in allow_partial_results.js and return_partial_shards_down.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46001">SERVER-46001</a> Move checkShardingIndex outside shardCollections read critical section on the primary shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46121">SERVER-46121</a> mongos crashes with invariant error after changing taskExecutorPoolSize</li>
</ul>
</div>
<div class="section" id="id150">
<h3>Replication<a class="headerlink" href="#id150" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34768">SERVER-34768</a> Rollback can fail if run against a lagged node that catches up</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35050">SERVER-35050</a> Dont abort collection clone due to negative document count</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38028">SERVER-38028</a> Participant with prepared transaction on session should block request for higher txn number on session rather than failing the new request</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39112">SERVER-39112</a> Primary drain mode can be unnecessarily slow</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43867">SERVER-43867</a> Work around unrecoverability of rollback via refetch in tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44260">SERVER-44260</a> Transaction can conflict with previous transaction on the session if the all committed point is held back</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45010">SERVER-45010</a> Clean shutdown after rollbackViaRefetch with eMRC=false can cause us to incorrectly overwrite unstable checkpoints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45178">SERVER-45178</a> Rollback via refetch can cause rollback to happen successfully w/o updating the rollback id.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45421">SERVER-45421</a> Fix transactions_block_ddl.js to use write concern majority for commands run as part of setup phase.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45492">SERVER-45492</a> Tag rollback_dup_ids.js with requires_persistence and requires_journaling</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45493">SERVER-45493</a> temporarily disable failing assertion in election_candidate_and_participant_metrics.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45612">SERVER-45612</a> Remove the mapReduce + prepare testing in 4.2 concurrency_simultaneous_replication suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45839">SERVER-45839</a> recoverFromOplogUpTo should not invariant if there are no oplog entries to apply between the given range</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45840">SERVER-45840</a> Blacklist tests that run emptycapped from replica_sets_kill_secondaries_jscore_passthrough</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45842">SERVER-45842</a> Remove assertion that checks whether the last applied oplog entry has the same timestamp as the requested recover timestamp in recoverFromOplogUpTo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45906">SERVER-45906</a> Initial stable checkpoint not triggered properly when enableMajorityReadConcern=false</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46050">SERVER-46050</a> Use getLastAppliedOpTime rather than getHeartbeatAppliedOpTime for checking primarys position</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46188">SERVER-46188</a> Blacklist write_conflicts_with_non_txns.js from sharded transaction passthrough suites due to maxTimeMS incompatibility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46218">SERVER-46218</a> Race between removal and shutdown in arbiter</li>
</ul>
</div>
<div class="section" id="id151">
<h3>Query<a class="headerlink" href="#id151" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32903">SERVER-32903</a> Ambiguous field name error should be ignored during initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45279">SERVER-45279</a> GranularityRounder can get stuck in loop when rounding infinity</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45363">SERVER-45363</a> Issue with mongodb text indexes and weights when using wildcard specifier</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45927">SERVER-45927</a> Alias for Atlas FTS</li>
</ul>
</div>
<div class="section" id="id152">
<h3>Write Operations<a class="headerlink" href="#id152" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45611">SERVER-45611</a> Lazily enforce that persisted collection validators are well formed</p>
</div>
<div class="section" id="id153">
<h3>Aggregation<a class="headerlink" href="#id153" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40603">SERVER-40603</a> Perform more thorough review/audit of new mongohouse DocumentSources</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44942">SERVER-44942</a> $out will hit invariant if temp collection is dropped before indexes are copied from source collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45418">SERVER-45418</a> DocumentSourceCursor batching memory accounting does not account for empty documents, leads to unbounded memory use for count-like aggregates</li>
</ul>
</div>
<div class="section" id="id154">
<h3>Catalog<a class="headerlink" href="#id154" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45137">SERVER-45137</a> Increasing memory allocation in Top::record with high rate of collection creates and drops</p>
</div>
<div class="section" id="id155">
<h3>Storage<a class="headerlink" href="#id155" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41968">SERVER-41968</a> IndexBuildTest.getIndexBuildOpId() not selective enough when IndexBuildsCoordinator is enabled</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42830">SERVER-42830</a> Applying a rename operation can result in multiple WT transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43794">SERVER-43794</a> Change MongoDB backup cursor API to include offset/length ranges</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44370">SERVER-44370</a> Have openBackupCursor accept inputs for incremental backup requests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44406">SERVER-44406</a> Add $backupCursor API to forcefully disable incremental backups</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44407">SERVER-44407</a> Connect the incremental backup cursor pipes with WT output.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44410">SERVER-44410</a> Change backup cursor results to include a filesize</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44426">SERVER-44426</a> Have queryable backup mode forward FS write calls to the backend API</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44433">SERVER-44433</a> Have queryable backup mode forward file opening/creation calls to the backend API</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44438">SERVER-44438</a> Have queryableBackupMode open WT in read/write mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44442">SERVER-44442</a> Allow queryableBackupMode to perform replication recovery</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45006">SERVER-45006</a> LockerImpl::wasGlobalLockTaken() always returns true</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45007">SERVER-45007</a> PBWM acquisition in GlobalLock constructor ignores deadline</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45288">SERVER-45288</a> switch Idempotency tests to use WiredTiger instead of ephemeralForTest</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45289">SERVER-45289</a> Conditional jump or move depends on uninitialised value(s) in validate_adaptor.cpp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45374">SERVER-45374</a> Unique index that gets rebuilt as part of startup recovery/repair is using data format version as 6 or 8 and NOT 11 or 12.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45481">SERVER-45481</a> Change the backup API to return the blocks to copy for incremental backup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45581">SERVER-45581</a> Change the incremental backup API to allow block size granularity to be specified</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45660">SERVER-45660</a> Remove blockSize from queryable backup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45663">SERVER-45663</a> Implement file renaming for queryableBackupMode and fix file size tracking</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45821">SERVER-45821</a> Re-enable disabled incremental backup cursor tests and add additional tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46010">SERVER-46010</a> Incremental backups should remain viable across replication rollback on the backup source</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46366">SERVER-46366</a> Append the backup cursors user arguments to the metadata document</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46375">SERVER-46375</a> Include the offset, length pair for files as part of the first full backup for incremental</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46488">SERVER-46488</a> queryableBackupMode should recover from the journal files on startup using the recovery timestamp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46565">SERVER-46565</a> Extend ESE backup tests to use $extendBackupCursor</li>
</ul>
</div>
<div class="section" id="id156">
<h3>Operations<a class="headerlink" href="#id156" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45662">SERVER-45662</a> Flow Control currentOp timeAcquiringMicros stat is no longer updated</p>
</div>
<div class="section" id="id157">
<h3>Build and Packaging<a class="headerlink" href="#id157" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45713">SERVER-45713</a> Run rhel7 push and publish tasks on large rhel70 distro</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45732">SERVER-45732</a> Filter flags from net-snmp-config invocation more aggressively</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45879">SERVER-45879</a> No Builds Produced for s390x Ubuntu 18.04 for 4.2.3</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45922">SERVER-45922</a> Build failure in overflow_arithmetic.h: constexpr function never produces a constant expression</li>
</ul>
</div>
<div class="section" id="tools">
<h3>Tools<a class="headerlink" href="#tools" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2430">TOOLS-2430</a> mongorestore: in dotted index keys, replace hashed with 1</p>
</div>
<div class="section" id="id158">
<h3>Internals<a class="headerlink" href="#id158" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37148">SERVER-37148</a> Remove mr_shard_version.js and mr_during_migrate.js in favor of MR FSM test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41872">SERVER-41872</a> PlanEnumerator AndAssignment::choices ordering not stable and is relevant to set of plans generated</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42930">SERVER-42930</a> ConnectionPool controller updates must batch across hosts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43308">SERVER-43308</a> Invariant failure in mqlrun: doc.value().isOwned()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43339">SERVER-43339</a> PBWM locks acquired part of GlobalLock::GlobalLock() should be interruptible. Else, it wont respect MaxTimeMS.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43470">SERVER-43470</a> Complete TODO listed in SERVER-35156</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43726">SERVER-43726</a> Make ssl_alert_reporting.js tolerate LEGACY crypto policy on RHEL8</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43763">SERVER-43763</a> Figure out if global LDAP synchronization can be disabled when libldap is built with OpenSSL.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43971">SERVER-43971</a> MQLRUN crashes if pipeline is specified in file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44325">SERVER-44325</a> Add polyfill for certificate chain verification</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44435">SERVER-44435</a> Allow x509 authorization to be selectively enabled based on the CA</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44620">SERVER-44620</a> Fix sslProviderSupports helpers on Debian 10</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44853">SERVER-44853</a> MSI Should skip install MongoD service dialog when mongod is not selected to be installed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44904">SERVER-44904</a> Startup recovery should not delete corrupt documents while rebuilding unfinished indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45261">SERVER-45261</a> create more state in NiTL ctor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45486">SERVER-45486</a> Add information to debug index key count mismatch issue  in hashed_index_bad_keys_cleanup.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45544">SERVER-45544</a> burn_in_tests for certain tests can time out regardless of what changed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45546">SERVER-45546</a> Do not create HostPools for passive members</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45644">SERVER-45644</a> Reevaluate timeouts used by burn_in_test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45726">SERVER-45726</a> Allow empty firstBatch with TaskExecutorCursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45748">SERVER-45748</a> burn_in_tags_bypass_compile is not looking at the correct task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45764">SERVER-45764</a> Generate resmoke tasks need to take setup time into account when setting timeouts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45766">SERVER-45766</a> Remove requires from the server yaml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45825">SERVER-45825</a> Disable tool_replset for ephemeralForTest storage engine</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45867">SERVER-45867</a> Use latest version of signal processing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46003">SERVER-46003</a> Send search internally from mongod to mongot instead of searchBeta</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46082">SERVER-46082</a> Use bin/analysis.py for performance projects</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46174">SERVER-46174</a> Free peer certificate in SSL_get0_verified_chain polyfill</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-46197">SERVER-46197</a> Make build flag to disable diagnostic latches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2461">TOOLS-2461</a> Backport mongorestore hashed index fix to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4886">WT-4886</a> Avoid depending on particular error message text for test_bug018</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4968">WT-4968</a> Remove all_committed timestamp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4999">WT-4999</a> Migrate Jenkins wiredtiger-test-format-stress-zseries job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5003">WT-5003</a> Migrate Jenkins wiredtiger-test-race-condition-stress-sanitizer job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5024">WT-5024</a> Migrate Jenkins wiredtiger-compatibility job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5041">WT-5041</a> Distribute modifications properly in test_calc_modify.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5081">WT-5081</a> Add support for ASan builds in the Python test suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5119">WT-5119</a> Birthmark records can be read as normal updates if reads race with checkpoints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5159">WT-5159</a> Make wiredtiger work with SWIG 4.0.0 beyond</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5165">WT-5165</a> Add cursor copy debug mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5192">WT-5192</a> Dont allow checkpoints to evict without a snapshot</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5199">WT-5199</a> Adding correctness tasks into rhel80 Evergreen build variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5206">WT-5206</a> Return the correct checkpoint-modified list of blocks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5235">WT-5235</a> Craft a workload to show lookaside contention</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5255">WT-5255</a> Turn off external programs if direct I/O is configured for test/format</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5261">WT-5261</a> coverage-report task timed out in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5334">WT-5334</a> Add testing coverage for static wt build</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5366">WT-5366</a> read-committed and read-uncommitted transactions can stall eviction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5371">WT-5371</a> Fix test_stat08.py assertion failure</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5372">WT-5372</a> Skip known errors for long-running format stress sanitizer tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5376">WT-5376</a> WT_UPDATE.type field can race with visibility checks when returning key/value pairs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5377">WT-5377</a> variable-length column store insert locking in format test program can stall eviction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5379">WT-5379</a> Missing varargs cleanup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5380">WT-5380</a> Stat clear is not clearing the proper lookaside cursor stats</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5383">WT-5383</a> Update WiredTiger source code to include 2020 copyright notices</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5387">WT-5387</a> Prepared transaction resolution can stall eviction on active pages</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5393">WT-5393</a> Prepared transaction rollback and API error handling fixes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5395">WT-5395</a> Fix a bug in the read lock implementation when there is a lot of contention</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5398">WT-5398</a> Adding more correctness tasks into rhel80 Evergreen build variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5405">WT-5405</a> Make format LSM test a separate Evergreen task</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5410">WT-5410</a> WiredTiger formatted timestamp string buffer size is too small</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5437">WT-5437</a> Salvages excessive consumption of cache memory causing eviction to stall</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5440">WT-5440</a> __wt_txn_clear_read_timestamp() has an unnecessary serialization point</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5442">WT-5442</a> Fix failure in test_shared_cache01.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5443">WT-5443</a> Disable PPC format tests in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5444">WT-5444</a> Re-enable PPC format tests in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5445">WT-5445</a> Handle relative home directories in format.sh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5449">WT-5449</a> Increase contention in history store stress workload</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5450">WT-5450</a> Support timeout setting for long-running operations in test/format</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5458">WT-5458</a> Fix Evergreen timeout failures in linux-directio test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5460">WT-5460</a> Buffer alignment failure captured by linux-directio test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5468">WT-5468</a> Improve documentation for wt load</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5480">WT-5480</a> Dont take threads resolving prepared transactions to assist with eviction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5488">WT-5488</a> Dump the failing CONFIG for Evergreen test/format tasks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5521">WT-5521</a> Cache stuck during format initial load, configured with library checkpoints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5534">WT-5534</a> Incremental backup needs to accept older metadata</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5536">WT-5536</a> Add zstd as a builtin compressor for WiredTiger Python package</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5537">WT-5537</a> Use correct WT_ITEM fields per memory sanitizer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5538">WT-5538</a> Change format to ignore Evergreen timestamps in configuration files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5553">WT-5553</a> Return error if primary cursor is not an incremental source</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5554">WT-5554</a> Account for logpath when retrieving file size in incremental backup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5564">WT-5564</a> Buffer not extended properly when incremental bitstring grows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5584">WT-5584</a> Change format to ignore Evergreen timestamps in configuration files</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5587">WT-5587</a> Limit how many checkpoints are dropped by a subsequent checkpoint</li>
</ul>
</div>
</div>
<div class="section" id="id159">
<span id="id160"></span><h2>4.2.3 Changelog<a class="headerlink" href="#id159" title="Permalink to this headline"></a></h2>
<div class="section" id="id161">
<h3>Security<a class="headerlink" href="#id161" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44922">SERVER-44922</a> User acquisition shouldnt increment cache generation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45309">SERVER-45309</a> Ensure bind credentials live longer than LDAP operations</li>
</ul>
</div>
<div class="section" id="id162">
<h3>Sharding<a class="headerlink" href="#id162" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33597">SERVER-33597</a> Make allow_partial_results.js, return_partial_shards_down.js start shards as replica sets</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40435">SERVER-40435</a> A clearJumboChunk command to clear the jumbo flag</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42914">SERVER-42914</a> Implement random chunk selection policy for balancer for use in concurrency_*_with_balancer workloads</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43195">SERVER-43195</a> Add namespace to ChunkManager ShardKeyNotFound failure in order to better diagnose failures.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43960">SERVER-43960</a> sharding_balance4.js should wait for ongoing chunk splits between updates</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44341">SERVER-44341</a> Do not choose only first shard of all shards associated with a zone when pre-splitting during shard collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44598">SERVER-44598</a> Shards do not treat the IGNORED version as intended sharded</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45100">SERVER-45100</a> Make the BatchWriteExecutor retry multi-writes only against unsuccessful shards</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45272">SERVER-45272</a> Remove assertions about the last-stable behavior in allow_partial_results.js and return_partial_shards_down.js</li>
</ul>
</div>
<div class="section" id="id163">
<h3>Replication<a class="headerlink" href="#id163" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-35407">SERVER-35407</a> ReplicationCoordinatorExternalState and data replication must not be started after shutdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37390">SERVER-37390</a> RollbackTestFixture doesnt need to wait for a new primary if it didnt shut down the current primary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42825">SERVER-42825</a> Log metrics.repl.stepDown counters after stopped killing user operations as part of state transition (step up/ step down).</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43875">SERVER-43875</a> Initial sync may crash due to missing oplog entries of running transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43978">SERVER-43978</a> Stable timestamp is not being recalculated after aborting oplog holes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44061">SERVER-44061</a> Race while setting replication maintenance mode.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44503">SERVER-44503</a> Race in replsets/auth2.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45155">SERVER-45155</a> Write the temp file of rollback file dump in the tests db directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45270">SERVER-45270</a> Increased vulnerability to slow DNS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45350">SERVER-45350</a> Use awaitMajorityCommitted in standalone_replication_recovery_idempotent.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45396">SERVER-45396</a> fix the me field in isMaster responses when using splithorizon</li>
</ul>
</div>
<div class="section" id="id164">
<h3>Query<a class="headerlink" href="#id164" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-32567">SERVER-32567</a> Replace queryoptimizer3.js with FSM test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41263">SERVER-41263</a> Disallow the empty string as an index key type</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42565">SERVER-42565</a> Aggregations and find commands sort missing fields differently</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44977">SERVER-44977</a> Allow change stream with updateLookup to run directly against a shard mongoD in a sharded cluster</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44984">SERVER-44984</a> Reduce index thread pool size and reduce memory used per build</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45152">SERVER-45152</a> Negation of inequality on array can trip invariant</li>
</ul>
</div>
<div class="section" id="id165">
<h3>Aggregation<a class="headerlink" href="#id165" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43764">SERVER-43764</a> Add more testing for special values in DoubleDoubleSummation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44174">SERVER-44174</a> $push and $addToSet should restrict memory usage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44733">SERVER-44733</a> Explicitly return a stream-fatal error in cases where a change stream cannot be automatically resumed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44869">SERVER-44869</a> Add query knob to control memory limit for $push and $addToSet</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45177">SERVER-45177</a> Not-equal ($ne) in query for mapReduce causes segmentation fault</li>
</ul>
</div>
<div class="section" id="id166">
<h3>Storage<a class="headerlink" href="#id166" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28977">SERVER-28977</a> Coverity analysis defect 101508: Data race condition</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42183">SERVER-42183</a> Check for duplicate namespaces when dumping catalog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43018">SERVER-43018</a> Formalize contract for safely accessing the catalog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43910">SERVER-43910</a> include Client/OpCtx information in LockManager::dump() output</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44619">SERVER-44619</a> BtreeKeyGenerator::_extractNextElement() uassert message exceeds 16mb BSON document limit when added to a command result</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44796">SERVER-44796</a> Adjust nojournal startup warning to be more compelling</li>
</ul>
<div class="section" id="wiredtiger">
<h4>WiredTiger<a class="headerlink" href="#wiredtiger" title="Permalink to this headline"></a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44991">SERVER-44991</a> Performance regression in indexes with keys with common prefixes</li>
</ul>
</div>
</div>
<div class="section" id="id167">
<h3>Operations<a class="headerlink" href="#id167" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44044">SERVER-44044</a> Remove unused second parameter from KeyVault.createDataKey()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45290">SERVER-45290</a> Remove upstream metadata from v4.2s third party library manifest</li>
</ul>
</div>
<div class="section" id="id168">
<h3>Build and Packaging<a class="headerlink" href="#id168" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44546">SERVER-44546</a> Remove mobile specific build and code artifacts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44550">SERVER-44550</a> Remove mobile specific embedded commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44557">SERVER-44557</a> Set an explicit default for the SCons MSVC_VERSION flag</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45346">SERVER-45346</a> Ubuntu 18.04 package testing task fails to install openssl</li>
</ul>
</div>
<div class="section" id="id169">
<h3>Tools<a class="headerlink" href="#id169" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-1952">TOOLS-1952</a> Use forceTableScan by default when running against WiredTiger nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2422">TOOLS-2422</a> admin.tempusers is not dropped by mongorestore</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2423">TOOLS-2423</a> mongorestore does not drop admin.tempusers if it exists in the dump</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2425">TOOLS-2425</a> Backport TOOLS-2403 mongorestore hang while replaying last oplog failed in archive mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2436">TOOLS-2436</a> Backport TOOLS-2422 and TOOLS-2423</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2451">TOOLS-2451</a> Backport TOOLS-1952 to 4.2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2453">TOOLS-2453</a> Index keys not escaped correctly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2454">TOOLS-2454</a> Backport TOOLS-2453</li>
</ul>
</div>
<div class="section" id="id170">
<h3>Internals<a class="headerlink" href="#id170" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-34844">SERVER-34844</a> Relax expectations in apply_batches_totalMillis</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42573">SERVER-42573</a> Only warn about readConcernMajority enabled in primary-secondary-arbiter configuration</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42631">SERVER-42631</a> Blacklist tests that use Mongo.logout() from stepdown suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42697">SERVER-42697</a> Expose tcmalloc_release_rate via setParameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43210">SERVER-43210</a> jstests/sharding/kill_sessions.js doesnt wait for operation to be killed.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43246">SERVER-43246</a> Add a log line for when a cursor is reaped due to logical session cleanup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43310">SERVER-43310</a> mongos tries to connect to the secondary to create the index if <cite>rs.slaveOk()</cite> is set.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43324">SERVER-43324</a> Add BasicLockableAdaptor for cleaner function APIs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43349">SERVER-43349</a> Incorrect serialization for $elemMatch $not $ne</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43623">SERVER-43623</a> Stop catching exceptions in NetworkInterfaceASIO</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44430">SERVER-44430</a> Fix tls_enumerators.py from BF-14793</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44464">SERVER-44464</a> Add new one-click genny workload tasks to system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44477">SERVER-44477</a> Map reduce with mode merge to an existing sharded collection may drop and recreate the target if no docs exist on the primary shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44527">SERVER-44527</a> Map reduce to an existing sharded collection can incorrectly create new collections on target shards</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44568">SERVER-44568</a> Update the embedded version of the servers timezone data file to tzdb-2019c</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44595">SERVER-44595</a> Linux shutdown of mongod sometimes never completes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44775">SERVER-44775</a> Make FailPoint::pauseWhileSet increment _timesEntered once</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44828">SERVER-44828</a> Correct logic to re-compute dependencies after absorbing a $sort into query layer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44964">SERVER-44964</a> [4.2] Calculate index build memory usage per key based on BSONObj buffer capacity, not size</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45050">SERVER-45050</a> Change Windows Kerberos client to use default credentials when no password is specified</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45180">SERVER-45180</a> Use longer retry for kms service</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45320">SERVER-45320</a> Remove evergreen client from buildscripts</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45472">SERVER-45472</a> Ensure RoleGraph can serialize authentication restrictions to BSON</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-45698">SERVER-45698</a> Remove Jasper smoke tests from sys-perf</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2424">TOOLS-2424</a> Backport TOOLS-1826 mongorestore panic in archive mode when replay oplog failed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4919">WT-4919</a> Add debug mode which allocates exact amount of memory in __wt_realloc_def</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4921">WT-4921</a> Add debug mode option that slows checkpoint creation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4969">WT-4969</a> Remove lsm_merge configuration option</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4996">WT-4996</a> Migrate Jenkins wiredtiger-test-check-long job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4997">WT-4997</a> Migrate Jenkins wiredtiger-test-format-stress job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4998">WT-4998</a> Migrate Jenkins wiredtiger-test-format-stress-ppc job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5000">WT-5000</a> Migrate Jenkins wiredtiger-test-format-stress-sanitizer job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5004">WT-5004</a> Migrate Jenkins wiredtiger-test-checkpoint-stress job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5005">WT-5005</a> Migrate Jenkins wiredtiger-test-recovery-stress job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5006">WT-5006</a> Migrate Jenkins wiredtiger-test-split-stress job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5037">WT-5037</a> Move Application Developer Resources documentation in github to WT documentation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5044">WT-5044</a> Log more information when timestamp usage issue is encountered</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5047">WT-5047</a> Always return WT_TRY_SALVAGE for corrupted log</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5077">WT-5077</a> Handle ENOENT without failure when copying the directory</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5082">WT-5082</a> Application threads are tasked with eviction even when pinning the oldest transaction ID</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5090">WT-5090</a> Log a message when rolling a thread back because it holds the oldest timestamp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5112">WT-5112</a>  Handling goto labels with multiple words in s_goto.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5120">WT-5120</a> Checkpoint hangs when reconciliation doesnt release the eviction generation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5139">WT-5139</a> WiredTiger incremental backup API</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5221">WT-5221</a> Bypass test_wt2853_perf in Evergreen make-check-msan-test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5232">WT-5232</a> Create a wrapper script to support format stress tests in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5257">WT-5257</a> Coverity analysis bug: 113971 Dereference after null check</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5263">WT-5263</a> Prepared updates written to the lookaside file are not always read as needed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5274">WT-5274</a> format.sh must handle core-dump signals and gdb attach build mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5276">WT-5276</a> test/format needs to move the oldest timestamp forward during bulk load</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5277">WT-5277</a> Cursor key out-of-order detected in the lookaside file</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5288">WT-5288</a> format.sh must distinguish format timeouts and kill child processes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5305">WT-5305</a> format.sh must handle formats use of the wt utility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5309">WT-5309</a> Update format.sh script to add prefix command argument</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5311">WT-5311</a> Format timestamps identically to MongoDB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5312">WT-5312</a> Add thread doing random cursor operations to formats cache size calculation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5314">WT-5314</a> Avoid loading extensions that have blank name for Python tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5319">WT-5319</a> Avoid clearing the saved last-key when no instantiated key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5324">WT-5324</a> WiredTiger API error handling fixes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5327">WT-5327</a> Backup cursor API can fail to restore WT_SESSION name information</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5330">WT-5330</a> Read-only transactions are being rolled back in MongoDB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5360">WT-5360</a> Add a template for building a glossary in developer docs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5365">WT-5365</a> Remove formats long-running transaction support</li>
</ul>
</div>
</div>
<div class="section" id="id171">
<span id="id172"></span><h2>4.2.2 Changelog<a class="headerlink" href="#id171" title="Permalink to this headline"></a></h2>
<div class="section" id="id173">
<h3>Security<a class="headerlink" href="#id173" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43090">SERVER-43090</a> Fix LDAP connection health tests with Okta</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43640">SERVER-43640</a> The user cache invalidator invarianting in its dtor decreases debuggability</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43653">SERVER-43653</a> Upgrade static OpenSSL to 1.1.1d</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44320">SERVER-44320</a> Allow zoned sharding commands to be authorized via actiontypes</li>
</ul>
</div>
<div class="section" id="id174">
<h3>Sharding<a class="headerlink" href="#id174" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-31083">SERVER-31083</a> Allow passing primary shard to enableSharding command for a new database</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39332">SERVER-39332</a> Prevent test from dropping collections directly against a shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41480">SERVER-41480</a> Increment collection major version on chunk splits/merges</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42737">SERVER-42737</a> MongoDB stuck on update metadata</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42769">SERVER-42769</a> ShardingTest should call awaitLastOpCommitted after enableAutoSplit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43337">SERVER-43337</a> handle errors that occur on the shard when findAndModify is converted to a transaction.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44113">SERVER-44113</a> Refresh metadata for correct namespace in transactions_reject_writes_for_moved_chunks.js hashed case</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44261">SERVER-44261</a> Replace waitForFailpoint function with waitForFailPoint command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44289">SERVER-44289</a> Retryable writes that change shard key value and owning shard that include write concern fail with InvalidOptions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44476">SERVER-44476</a> Include number of jumbo chunks remaining in output of removeShard</li>
</ul>
</div>
<div class="section" id="id175">
<h3>Replication<a class="headerlink" href="#id175" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40372">SERVER-40372</a> Track transaction size on 4.2+</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41512">SERVER-41512</a> Track metrics associated with a node voting in an election</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41513">SERVER-41513</a> Track the time the new term oplog entry was written by the primary and applied by secondary in replSetStatus on all nodes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42025">SERVER-42025</a> Prevent Oldest timestamp from advancing in prepare_transaction_read_at_cluster_time.js.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42366">SERVER-42366</a> When EMRC=false we may set the stable timestamp ahead during rollback after forcing it back to the common point</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42925">SERVER-42925</a> idempotency tests have oplog visiblity issues</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43239">SERVER-43239</a> numCatchUpOps in repSetGetStatus is incorrect</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43703">SERVER-43703</a> Race when disabling rsSyncApplyStop failpoint and stopping server</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43729">SERVER-43729</a> replSetFreeze done part of RollbackTest.transitionToSyncSourceOperationsDuringRollback Should be resilient of errors.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43972">SERVER-43972</a> initial_sync_capped_index.js should check SECONDARY state before running validate</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44259">SERVER-44259</a> rollback_after_enabling_majority_reads.js test should wait for restarted node to be in SECONDARY state before running stepUp command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44373">SERVER-44373</a> recover_multiple_prepared_transactions_startup.js test should wait for majority commit point to advance before committing a prepared transaction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44457">SERVER-44457</a> Update backports_required_for_multiversion.yml  on v4.2 with completed list of multiversion test suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44643">SERVER-44643</a> Use awaitSecondaryNodes in rollback_after_enabling_majority_reads.js instead of waitForState</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44675">SERVER-44675</a> server_status_metrics.js fails due to racy repl.buffer.count metric in serverStatus</li>
</ul>
</div>
<div class="section" id="id176">
<h3>Query<a class="headerlink" href="#id176" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43338">SERVER-43338</a> [4.2] Dropping an admin.system.* index in FCV 4.0 can invariant on startup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44026">SERVER-44026</a> Remove global X lock for reIndex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44050">SERVER-44050</a> Arrays along hashed index key path are not correctly rejected</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44269">SERVER-44269</a> Modernize max_time_ms.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44377">SERVER-44377</a> Invariant failure on indexed inequality to null</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44571">SERVER-44571</a> Documents involved in SERVER-44050 corruption scenario cannot be updated or deleted after upgrade</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44617">SERVER-44617</a> $regexFind crash when one of the capture group doesnt match the input but pattern matches</li>
</ul>
</div>
<div class="section" id="id177">
<h3>Aggregation<a class="headerlink" href="#id177" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43034">SERVER-43034</a> Special values handling is inconsistent in DoubleDoubleSummation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43860">SERVER-43860</a> Pipeline style update in $merge can produce unexpected result</li>
</ul>
</div>
<div class="section" id="id178">
<h3>Catalog<a class="headerlink" href="#id178" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43402">SERVER-43402</a> Secondary oplog can have entry to create a same name but different capitalized database before dropping the old one</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43880">SERVER-43880</a> renameCollection across DBs uses unowned RecordData after cursor has been yielded</li>
</ul>
</div>
<div class="section" id="id179">
<h3>Storage<a class="headerlink" href="#id179" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33272">SERVER-33272</a> The DatabaseHolder::close() function no longer requires a global write lock and neither does the dropDatabase command.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43152">SERVER-43152</a> remove twoPhaseCreateIndexes test command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43882">SERVER-43882</a> Building indexes for startup recovery uses unowned RecordData after yielding its cursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43908">SERVER-43908</a> Modify IndexConsistency hash-map keys to avoid hitting an invariant on duplicate index keys in KeyString form for different indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44239">SERVER-44239</a> Ensure the parallel shell in lock_stats.js finishes successfully to record the server status properly</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44612">SERVER-44612</a> recoverFromOplogAsStandalone with takeUnstableCheckpointOnShutdown should succeed if retried after a successful attempt</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44744">SERVER-44744</a> Remove antiquated code from queryable_mmapv1 days.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44755">SERVER-44755</a> Change assertion number in wt_missing_file_errors.js</li>
</ul>
</div>
<div class="section" id="id180">
<h3>Operations<a class="headerlink" href="#id180" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42886">SERVER-42886</a> Fix <cite>bypassAutoDecrypt</cite> settings in shell</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43265">SERVER-43265</a> Mongo Shell exits with InvalidOptions error when using URI compressors parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43884">SERVER-43884</a> Improve Error Formatting for mongocryptd-origin errors</li>
</ul>
</div>
<div class="section" id="id181">
<h3>Build and Packaging<a class="headerlink" href="#id181" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44177">SERVER-44177</a> Reduce frequency of exotic build variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44392">SERVER-44392</a> Platform Support: Remove zSeries ubuntu 16.04</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44398">SERVER-44398</a> Disable multiversion tests on Suse 15</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44545">SERVER-44545</a> Remove builders for Embedded SDKs on Mobile Platforms</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44579">SERVER-44579</a> Pin pywin32 python module</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44687">SERVER-44687</a> error: operator delete is unavailable: introduced in macOS 10.12</li>
</ul>
</div>
<div class="section" id="id182">
<h3>Tools<a class="headerlink" href="#id182" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/TOOLS-2380">TOOLS-2380</a> mongodump fails against hidden node with authentication enabled</p>
</div>
<div class="section" id="id183">
<h3>Internals<a class="headerlink" href="#id183" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39165">SERVER-39165</a> Add waitForFailpoint command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39993">SERVER-39993</a> Add kill and terminate versions of concurrency step down suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40667">SERVER-40667</a> MongoD Storage watchdog should treat unexpected interruption as process-fatal</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41140">SERVER-41140</a> All usages of MultiIndexBlock should ensure callers check for duplicate key constraints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42393">SERVER-42393</a> Race in setting failpoint during wt_file_helper.js assertStartInReplSet</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42576">SERVER-42576</a> Decrease the number of concurrent jobs from 4 to 2 in the logical_session_cache_* suites</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42688">SERVER-42688</a> M/R Agg: Fix performance tests to run with valid options on new mapReduce</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42748">SERVER-42748</a> M/R Agg: Support using stored procedures (system.js) in map/reduce arguments</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42790">SERVER-42790</a> Change ConnectionPools kDiagnosticLogLevel from 3 to 4</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42818">SERVER-42818</a> M/R Agg: ensure mapReduce on a non-materialized view fails with a sensible error message</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42961">SERVER-42961</a> Fix Split Horizon testing on SLES</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43079">SERVER-43079</a> failpoint triggered by LogicalSessionCacheRefresh</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43085">SERVER-43085</a> Regenerate all testing certificates with SHA-256 instead of SHA-1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43151">SERVER-43151</a> Error in aggregation assertion at value.cpp:1368</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43213">SERVER-43213</a> agg_out_interrupt_cleanup.js shouldnt use inherited query state</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43319">SERVER-43319</a> Increase cursor timeout for concurrency_simultaneous fixtures</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43576">SERVER-43576</a> DBClientRS does not propagate applicationName</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43577">SERVER-43577</a> Ensure ssl exceptions that terminate connections are logged.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43579">SERVER-43579</a> AWS KMS support needs to be robust to KMS availability</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43693">SERVER-43693</a> Reduce probability of collMods in create_index_background_unique_collmod* workloads</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43749">SERVER-43749</a> Modernize mapReduce tests in core other than those covered by SERVER-42690</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43843">SERVER-43843</a> Skip validate during the rollback fuzzer restartNode command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43900">SERVER-43900</a> Set max_hosts to 1 for stitch_support_lib_build_and_test and embedded_sdk_build_and_test  task groups</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43987">SERVER-43987</a> Require predicates with OperationContext::waitForConditionOrInterrupt()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44006">SERVER-44006</a> Change Packaging License from AGPL to SSPL</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44009">SERVER-44009</a> Upload pip freeze output for sys-perf and microbenchmarks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44027">SERVER-44027</a> Remove global X lock for renameCollection between DBs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44028">SERVER-44028</a> Remove global X lock for Cloner</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44029">SERVER-44029</a> Remove global X lock for replSetResizeOplog</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44064">SERVER-44064</a> Perform explicit cast on MessageCompressorManager parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44119">SERVER-44119</a> Fix string coersion in default SetParameter::set(BSONElement) handler</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44183">SERVER-44183</a> Failure to listen on an asio socket should be fatal</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44287">SERVER-44287</a> MR Agg: Relax mapReduce IDL to ignore jsMode option and change mapReduce parser to allow nonAtomic: true and disallow out.sharded: false</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44310">SERVER-44310</a> Make waitForFailPoint command require maxTimeMS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44312">SERVER-44312</a> Specify evergreen auth in performance tests for signal processing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44319">SERVER-44319</a> Skip keyfile check in replica_sets/auth1.js on windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44578">SERVER-44578</a> Remove unused db_raii and server_status libs from storage_wiredtiger_cores LIBDEPS_PRIVATE</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44651">SERVER-44651</a> Update signal processing version</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44721">SERVER-44721</a> Shell KMS AWS support cannot decrypt responses</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44727">SERVER-44727</a> detect-changes should not be called via run-dsi</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-44868">SERVER-44868</a> Initialsync logkeeper and logkeeper-short tests should pass snapshot ID and dataset link respectively to dsi(sys-perf)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4486">WT-4486</a> Number of syncs did not increase in dirty max test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4565">WT-4565</a> Fix tree walk code with read-no-wait flag set</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4702">WT-4702</a> Switch to ubuntu1804-test Evergreen distro</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4715">WT-4715</a> Workloads will stall if old transaction or timestamp pinned by thread co-opted for eviction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4961">WT-4961</a> Checkpoints with cache overflow must keep history for reads</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4976">WT-4976</a> Migrate Jenkins wiredtiger-pull-request-builds job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4983">WT-4983</a> Migrate Jenkins wiredtiger job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4987">WT-4987</a> Migrate Jenkins wiredtiger-test-checkpoint job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4988">WT-4988</a> Migrate Jenkins wiredtiger-test-unit job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4989">WT-4989</a> Migrate Jenkins wiredtiger-test-unit-long job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4990">WT-4990</a> Migrate Jenkins wiredtiger-test-unit-ppc job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4991">WT-4991</a> Migrate Jenkins wiredtiger-test-unit-zseries job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4994">WT-4994</a> Migrate Jenkins wiredtiger-test-spinlock job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-4995">WT-4995</a> Migrate Jenkins wiredtiger-test-wtperf job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5033">WT-5033</a> Migrate Jenkins wiredtiger-test-time-shift-sensitivity job to Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5042">WT-5042</a> Reduce configuration parsing overhead from checkpoints</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5048">WT-5048</a> wiredtiger_open with a corrupted meta file should always return WT_TRY_SALVAGE</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5083">WT-5083</a> Add mips64el support</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5106">WT-5106</a> Remove temporary files in clang-format script</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5118">WT-5118</a> Remove incorrect assert that there are no hazard references to discarded WT_REF</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5122">WT-5122</a> Shut down the sweep server before doing the final checkpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5123">WT-5123</a> Fill multi-paragraph comments</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5125">WT-5125</a> Adding new stats for eviction target strategy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5126">WT-5126</a> Fix incorrect assertion regarding prepared update resolution</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5128">WT-5128</a> Add script to run wtperf with XRay profiling</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5134">WT-5134</a> Fix leaf-page only search and search-near operations</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5135">WT-5135</a> Change lookaside file inserts to use cursor.insert</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5140">WT-5140</a> Fix where a cursor returning random items can use an uninitialized buffer</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5142">WT-5142</a> Dont create huge root pages when rebalancing or bulk-loading objects with overflow keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5143">WT-5143</a> Fix typo in error message</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5145">WT-5145</a> Fix the race condition in accessing pinned_timestamp and connection state</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5149">WT-5149</a> Clear the debugging field value so it cannot get stale</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5150">WT-5150</a> LAS sweep is not removing the entries that are no longer required</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5156">WT-5156</a> Lookaside table cursors not operating at isolation level WT_ISO_READ_UNCOMMITTED</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5157">WT-5157</a> Fix atomics usage in spinlock implementation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5160">WT-5160</a> Stop requiring a checkpoint before calling rollback_to_stable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5163">WT-5163</a> Fix ignored failure return in WT_CURSOR.next when random retrieval configured</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5164">WT-5164</a> Fix inconsistent underscore/dash output</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5169">WT-5169</a> WT_REF_LIMBO pages cannot support fast (leaf-page only) searches</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5174">WT-5174</a> Truncation rollback locking is insufficient</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5176">WT-5176</a> Group pull request tasks using Evergreen task tags</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5187">WT-5187</a> Checkpoint error path can attempt to release a hazard pointer that isnt held</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5189">WT-5189</a> Python2: handle errors that occur under the concurrent test option (-j)</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5193">WT-5193</a> Revert LAS dropped table change from WT-5150</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5195">WT-5195</a> Reduce Python unit test build time for Evergreen Windows build variant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5196">WT-5196</a> Data mismatch failures with test/checkpoint after enabling LAS sweep</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5197">WT-5197</a> Fix sanitizer runtime flags in Evergreen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5204">WT-5204</a> Add diagnostic logging code to the generation drain function</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5207">WT-5207</a> Minimize WT-5043 diagnostic tests to exclude time other than eviction itself</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5211">WT-5211</a> Print mismatch information before dumping page and LAS</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5218">WT-5218</a> Improve eviction to differentiate between clean and dirty pages with WT_CACHE_EVICT_NOKEEP readgen</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5220">WT-5220</a> Re-enable LAS dropped table change from WT-5150</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5239">WT-5239</a> Fix syscall failure about metadata file open</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5247">WT-5247</a> Ensure that only idempotent modify operations are logged</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5251">WT-5251</a> Increase frequency for Linux syscall test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-5252">WT-5252</a> Fix Ubuntu 18.04 PPC and zSeries unit-test failure in Evergreen</li>
</ul>
</div>
</div>
<div class="section" id="id184">
<span id="id185"></span><h2>4.2.1 Changelog<a class="headerlink" href="#id184" title="Permalink to this headline"></a></h2>
<div class="section" id="id186">
<h3>Security<a class="headerlink" href="#id186" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-28011">SERVER-28011</a> Support multiple KMIP hosts in the kmipServerName parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41277">SERVER-41277</a> Create FLE Data Framing Classes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42351">SERVER-42351</a> RHEL8 TLS 1.0 and TLS 1.1 protocols are disabled in the DEFAULT system-wide cryptographic policy level</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43243">SERVER-43243</a> Reintroduce unused repairDatabase ActionType</li>
</ul>
</div>
<div class="section" id="id187">
<h3>Sharding<a class="headerlink" href="#id187" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-10456">SERVER-10456</a> get cursor logic used to find docs to clone (in migration) is not same as in removeRange</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-11328">SERVER-11328</a> Allow concurrent draining shards</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-33973">SERVER-33973</a> Commands to force cleanup of partial data that might have remained after failed collection/database drop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36222">SERVER-36222</a> call to ReplSetTest.restart in shard_identity_rollback.js is racy</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36315">SERVER-36315</a> After stepdown the CSRS dist lock manager keeps trying to unlock locks</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39573">SERVER-39573</a> Add unique ID to log label TransactionCoordinator</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39763">SERVER-39763</a> transactions_target_at_point_in_time.js should disable expiring old chunk history</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40258">SERVER-40258</a> Relax locking requirements for sharding metadata refresh on shards</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40496">SERVER-40496</a> transactions_snapshot_errors_subsequent_statements.js and transactions_writes_not_retryable.js should not use mode {times: 1} for failpoint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40852">SERVER-40852</a> mongod_returns_no_cluster_time_without_keys.js should wait for shard primary to load cluster time keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40983">SERVER-40983</a> Track and log relevant single transaction metrics on mongos for currentOp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41374">SERVER-41374</a> Add currentOpen, currentActive, and currentInactive to mongos transactions serverStatus output</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41376">SERVER-41376</a> Track time transactions on mongos are active and inactive and include in slow txn logging</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41615">SERVER-41615</a> Transaction coordinator diagnostics should handle coordinator failover</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41758">SERVER-41758</a> Dropping config.shards is allowed and can cause mongos to crash in aggregation code</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42006">SERVER-42006</a> Add transaction tags to prepared_txn_metadata_refresh.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42234">SERVER-42234</a> Make txn_two_phase_commit_failover.js robust to all replica nodes running for election at the same time</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42335">SERVER-42335</a> ShutdownShouldCancelQueuedRequests cpp test can ignore kill signal</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42338">SERVER-42338</a> transaction_coordinator_test can self deadlock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42457">SERVER-42457</a> Check if cluster time has been set on TransactionRouter before observing from an external thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42559">SERVER-42559</a> Race in WaitWithOpTimeEarlierThanLowestQueued causes it to fail</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42610">SERVER-42610</a> Flip order of assert.lte arguments in shards_and_config_return_last_committed_optime.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42751">SERVER-42751</a> Take CSRLock when observing transaction commit for migration</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42809">SERVER-42809</a> Track and log relevant single two phase commit metrics for transaction coordinator on mongod for currentOp</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42842">SERVER-42842</a> Unable to drop collection in admin database of sharded cluster</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42856">SERVER-42856</a> Transactions with write can be sent to the wrong shard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42907">SERVER-42907</a> Add timeActiveMicros and timeInactiveMicros for transactions in mongos currentOp output</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42963">SERVER-42963</a> For active sessions only set transaction stats in TransactionRouter::Observer::_reportState()</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43196">SERVER-43196</a> Blacklist update_where.js from sharded concurrency suites with balancer on and no txn override</li>
</ul>
</div>
<div class="section" id="id188">
<h3>Replication<a class="headerlink" href="#id188" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-7019">SERVER-7019</a> rs.status needs to show initial sync happening</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-7681">SERVER-7681</a> Report majority number in ReplSetGetStatus/isMaster</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36570">SERVER-36570</a> Make OplogEntry mutable</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-38356">SERVER-38356</a> Forbid dropping oplog when replset config is present</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39576">SERVER-39576</a> Remove doTxn test command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39610">SERVER-39610</a> Reformat TransactionParticipant comments and remove last references to the metrics mutex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39613">SERVER-39613</a> Remove kCommittingWithPrepare and kCommittingWithoutPrepare from TransactionState</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39614">SERVER-39614</a> Remove inActiveOrKilledMultiDocumentTransaction() from TransactionParticipant</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40466">SERVER-40466</a> Unify checks for inMultiDocumentTransaction and friends</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41221">SERVER-41221</a> rollback_after_enabling_majority_reads.js test should make sure the final rollback occurs on node 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41457">SERVER-41457</a> Unify the different ways the TransactionParticipant offers for aborting a transaction</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41465">SERVER-41465</a> fassert when applying operations for transactions on secondaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41481">SERVER-41481</a> Return dbResponse object stored with exhaustNS and exhaustCursorId in receivedCommands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41482">SERVER-41482</a> makeExhaustMessage should no longer call OpMsg::parse</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41497">SERVER-41497</a> Create IDL types for ElectionMetrics, ElectionCandidateMetrics and ElectionParticipant Metrics</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41498">SERVER-41498</a> Create ReplicationMetrics class</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41499">SERVER-41499</a> Track number of elections called for each reason in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41500">SERVER-41500</a> Track number of successful elections for each reason in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41501">SERVER-41501</a> Track the number of elections that require primary catchup in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41502">SERVER-41502</a> Track the number of times primary catchup concludes for each reason in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41503">SERVER-41503</a> Track the target opTime for catchup in replSetStatus on primaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41504">SERVER-41504</a> Track the number of ops during catchup in replSetStatus on primaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41505">SERVER-41505</a> Track the average number of catchup ops in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41506">SERVER-41506</a> Track metrics associated with a node calling an election</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41507">SERVER-41507</a> Track the time the new term oplog entry was written in replSetStatus on primaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41508">SERVER-41508</a> Track the time the new term oplog entry was majority committed in replSetStatus on primaries</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41509">SERVER-41509</a> Track the number of attempted stepDowns in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41510">SERVER-41510</a> Track the number of failed stepDowns in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41511">SERVER-41511</a> Track the number of stepdowns caused by seeing a higher term in serverStatus</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41580">SERVER-41580</a> Dont run transactions suites on the No Journal builder</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41788">SERVER-41788</a> Add OplogApplication::Mode to options in the OplogApplier</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41918">SERVER-41918</a> CollectionBulkLoader does not anticipate exceptions from MultiIndexBlock</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41955">SERVER-41955</a> Add test for replicating prepare oplog entries that were received during initial sync</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41956">SERVER-41956</a> Add integration tests for killOp of commit and abort of prepared transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41957">SERVER-41957</a> Add integration tests for killSessions of a session with a prepared transaction on it</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41958">SERVER-41958</a> Add a test for rolling back prepare and then trying to retry prepare</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41959">SERVER-41959</a> Test running transaction commands through the applyOps command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42129">SERVER-42129</a> Modify test to account for the ephemeralForTest storage engines missing oplog after restart</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42155">SERVER-42155</a> Indicate term mismatches when readConcern times out</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42219">SERVER-42219</a> Oplog buffer not always empty when primary exits drain mode</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42453">SERVER-42453</a> ensure current clusterTime is greater than afterClusterTime value for read in step_down_on_secondary.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42454">SERVER-42454</a> Wait for node to find appropriate sync source before disabling failpoint in do_not_advance_commit_point_beyond_last_applied_term.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42478">SERVER-42478</a> Remove DB MODE_X locks from oplog application of create/createIndexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42484">SERVER-42484</a> May not be inside required WriteUnitOfWork when writing multikey index keys during initial sync data cloning</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42523">SERVER-42523</a> Add more logging to oplog_rollover.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42534">SERVER-42534</a> Step down primary for less time in freeze_timeout.js and increase electionTimeoutMillis</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42562">SERVER-42562</a> Increase election timeout for recover_prepared_transactions_startup_secondary_application.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42602">SERVER-42602</a> Guarantee that unconditional step down will not happen due to slow node restarts in  rollback_fuzzer_[un]clean_shutdowns suites.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42613">SERVER-42613</a> getHashes should default to liveSlaves, not _slaves in replsettest.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42714">SERVER-42714</a> Log replication recovery oplog application completion at level 0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42750">SERVER-42750</a> OperationContext::inMultiDocumentTransaction() doesnt return true when applying operations for prepared transaction during recovery</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42755">SERVER-42755</a> recover_prepared_txn_with_multikey_write.js should make sure no prepare conflicts are generated on catalog object after restarting node</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42767">SERVER-42767</a> Improve logging in ReplSetTest.stopSet</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42910">SERVER-42910</a> Oplog query with higher timestamp but lower term than the sync source shouldnt time out due to afterClusterTime</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43016">SERVER-43016</a> Fix typo in timestamped_reads_wait_for_prepare_oplog_visibility.js and check that nModified = 1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43230">SERVER-43230</a> Fix race in catchup_takeover_two_nodes_ahead.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43237">SERVER-43237</a> replSetFreeze and replSetStepDown cmd done part of restartNode()/transitionToSteadyStateOperations() in rollback test should be resilient of network error.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43330">SERVER-43330</a> ReplicationStateTransitionLockGuard::_unlock doesnt work with its move constructor</li>
</ul>
</div>
<div class="section" id="id189">
<h3>Query<a class="headerlink" href="#id189" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37690">SERVER-37690</a> countDocuments throws an error when matching 0 document</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40110">SERVER-40110</a> ClusterCursorManager::CursorEntry::isKillPending() should not call checkForInterrupt</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40382">SERVER-40382</a> Add a serverStatus metric to report plan cache memory consumption</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41863">SERVER-41863</a> Make sleep command check that server clock has advanced before returning</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41996">SERVER-41996</a> Improve PlanExecutor error logging</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42399">SERVER-42399</a> max_time_ms.js test should always disable failpoints if an exception is thrown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42514">SERVER-42514</a> wait for all nodes to finish index builds in text_index_limits.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42518">SERVER-42518</a> Wildcard index plans miss results when the query path has multiple subsequent array indexes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42744">SERVER-42744</a> Fix transaction history iterator to not return unowned BSON that may be left dangling</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42749">SERVER-42749</a> Ban server_status_with_timeout_cursors from transaction passthroughs</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42864">SERVER-42864</a> change index build initial write timestamp logic</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43074">SERVER-43074</a> Do not use a global variable to encode multikeyPath information when writing out catalog documents</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43202">SERVER-43202</a> Aggregation system can continue trying to execute a query plan after being interrupted, leading to server-fatal invariant failure</li>
</ul>
</div>
<div class="section" id="id190">
<h3>Aggregation<a class="headerlink" href="#id190" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41770">SERVER-41770</a> Multiversion test for change stream support of large transactions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42756">SERVER-42756</a> $multiply operator may return with or w/o an error depending on whether pipeline optimisation is enabled</li>
</ul>
</div>
<div class="section" id="id191">
<h3>Catalog<a class="headerlink" href="#id191" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42567">SERVER-42567</a> Remove magic from CollectionImpl and IndexCatalogImpl</p>
</div>
<div class="section" id="id192">
<h3>Storage<a class="headerlink" href="#id192" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39708">SERVER-39708</a> Fastpath no-ops to multikey updates in IndexBuildInterceptor::sideWrite to avoid mutex acquisition</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41533">SERVER-41533</a> Remove unnecessary IndexConsistency::_classMutex</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41534">SERVER-41534</a> Reuse KeyString in RecordStoreValidateAdaptor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41535">SERVER-41535</a> Use vector instead of map for IndexConsistency::_indexesInfo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41536">SERVER-41536</a> Use vector instead of map for IndexConsistency hash buckets</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41537">SERVER-41537</a> Use 64K hash buckets instead of 4M for index validation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41538">SERVER-41538</a> Remove indirection through indexNumber in IndexConsistency</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41539">SERVER-41539</a> Cache key ordering in IndexInfo</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41540">SERVER-41540</a> Fix  _indexNsResultsMap usage</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41909">SERVER-41909</a> Add the ValidateCmd Genny workload to system_perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41937">SERVER-41937</a> Add a try-catch block in TimestampMonitor::startup() or notifyAll() to suppress exceptions</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41947">SERVER-41947</a> Disallow using the system.views collection name as the source or target names in the rename command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42060">SERVER-42060</a> Limit maximum recursion depth for KeyString _appendBsonValue and toBsonValue</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42205">SERVER-42205</a> Raise the snapshot windows cache pressure threshold from 50 to 95</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42373">SERVER-42373</a> Prevent invalid view definition error while dropping nonexistent collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42441">SERVER-42441</a> renameCollectionForApplyOps should always rename the target out of the way if it exists</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42652">SERVER-42652</a> Fix issue with rename collection</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42718">SERVER-42718</a> dropDatabase commands can be run concurrently, leading to an invalid state</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42799">SERVER-42799</a> obtain timestamp for cleaning up index build without noop write</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42800">SERVER-42800</a> skip size adjustments on temporary record stores for index builds</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42803">SERVER-42803</a> Remove no except in the TimestampMonitor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42824">SERVER-42824</a> do not lock RSTL for index build cleanup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42869">SERVER-42869</a> IndexBuildInterceptor rollback handler access _sideWritesCounter field after interceptor is destroyed</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42915">SERVER-42915</a> New style repairs catalog corrections are often false positives, aggressively marking repl nodes as corrupted</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43019">SERVER-43019</a> IndexBuildsCoordinator removes interrupted index build at shutdown on secondary</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43025">SERVER-43025</a> rollback should ignore no-op startIndexBuild oplog entry</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43075">SERVER-43075</a> MongoDB 4.2 cannot use storage.journal.commitIntervalMs param in yaml config file.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43322">SERVER-43322</a> Add tracking tools for measuring OplogStones performance</li>
</ul>
<div class="section" id="id193">
<h4>WiredTiger<a class="headerlink" href="#id193" title="Permalink to this headline"></a></h4>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39004">SERVER-39004</a> Introduce a quota mechanism for the overflow file</li>
</ul>
</div>
</div>
<div class="section" id="id194">
<h3>Operations<a class="headerlink" href="#id194" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41874">SERVER-41874</a> Never kill cursors in shell garbage collection in concurrency_simultaneous_replication</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42599">SERVER-42599</a> Regression prevents use of show collections without listCollections privilege</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42969">SERVER-42969</a> Handle non-ascii characters in`USERPROFILE` environment variable.</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43005">SERVER-43005</a> getKeyVault.createKey() should return the created data key</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43039">SERVER-43039</a> db.collection.bulkWrite doesnt support hint with replaceOne</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43265">SERVER-43265</a> Mongo Shell exits with InvalidOptions error when using URI compressors parameter</li>
</ul>
</div>
<div class="section" id="id195">
<h3>Build and Packaging<a class="headerlink" href="#id195" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37768">SERVER-37768</a> Platform Support: Add Community &amp; Enterprise Debian 10 x64</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-37772">SERVER-37772</a> Platform Support: Add Community &amp; Enterprise RHEL 8 x64</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41232">SERVER-41232</a> Update man pages</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41431">SERVER-41431</a> Platform Support: Re-enable SUSE 15 build variants</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41570">SERVER-41570</a> Xcode 11 generates new warnings</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42778">SERVER-42778</a> hot_backups should use RHEL 7 large</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42787">SERVER-42787</a> 4.2.0 regression (vs 4.0.12): Build failure with various system packages</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42911">SERVER-42911</a> Rebuild mongodb by building.md and failed to build due to ModuleNotFoundError: No module named Cheetah with MSVC on windows</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43046">SERVER-43046</a> Use toolchain python binary to create virtual environments</li>
</ul>
</div>
<div class="section" id="id196">
<h3>Internals<a class="headerlink" href="#id196" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-25025">SERVER-25025</a> Improve startup time when there are tens of thousands of collections/indexes on WiredTiger</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-36816">SERVER-36816</a> Avoid reloading the view catalog on the primary and secondaries during the dbhash check</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-39776">SERVER-39776</a> Initial sync and replication threads simultaneous startup and shutdown races</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-40004">SERVER-40004</a> Change the signature of AtomicWord::compareAndSwap to mimic the implementation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41466">SERVER-41466</a> Blacklist mongos_no_detect_sharding from sharding_csrs_continuous_config_stepdown</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41492">SERVER-41492</a> Disable WiredTiger cursor caching and introduce more aggressive file handle sweeps in testing</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41585">SERVER-41585</a> background_thread_clock_source_test shouldnt assume we can schedule the background thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41622">SERVER-41622</a> Reduce noisiness in flow_control_replica_set.js</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41802">SERVER-41802</a> generate_resmoke_tasks doesnt apply max_sub_suites option</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-41939">SERVER-41939</a> Connect to fastest LDAP server first</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42067">SERVER-42067</a> Ensure key Ordering offset does not exceed the maximum number of compound index keys</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42069">SERVER-42069</a> uassert when decimal type is encoded in KeyString V0</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42075">SERVER-42075</a> Add DSI module to perf.yml</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42178">SERVER-42178</a> Disable Split Horizon HOSTALIAS testing on SLES</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42210">SERVER-42210</a> Modify changestream tests on multiple databases to support interleaving</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42216">SERVER-42216</a> Ensure pin_getmore_cursor.js waits for server to finish killing cursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42303">SERVER-42303</a> NetworkInterfaceTL should schedule out-of-line immediately and never again</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42305">SERVER-42305</a> Need to ensure replication is finished initializing before advancing commit point in heartbeats</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42310">SERVER-42310</a> Specify mode for NamedTemporaryFile in hang_analyzer.py</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42356">SERVER-42356</a> teardown(finished=True) isnt ever called for the NoOpFixture</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42400">SERVER-42400</a> Add new task in system_perf.yml for million documents in transaction workload</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42419">SERVER-42419</a> Ban whole_cluster_metadata_notifications test from running with majority read concern off</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42424">SERVER-42424</a> Blacklist max_doc_size.js and mr_bigobject.js from Periodic Kill Secondaries suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42440">SERVER-42440</a> burn_in_test should run tasks on the distro they are normally run</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42452">SERVER-42452</a> failNonIntentLocksIfWaitNeeded failpoint interrupts lock requests in UninterruptibleLockGuard</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42461">SERVER-42461</a> Allow errors in aggregates_during_balancing.js pending work in SERVER-29446</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42469">SERVER-42469</a> Increase initial sync passthrough timeout to 24 hours</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42476">SERVER-42476</a> Improve free monitoring tests</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42520">SERVER-42520</a> Auto encryption of a $changeStream aggregation fails with obscure error</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42561">SERVER-42561</a> search_beta_* tests fail on testing only changes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42571">SERVER-42571</a> Collect Windows event logs on remote machine during powercycle</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42608">SERVER-42608</a> Allow updateOne and updateMany in shell helper to accept hint</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42615">SERVER-42615</a> Run chkdsk command on Windows after each powercycle loop</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42622">SERVER-42622</a> resmoke.py doesnt attempt to tear the fixture down if setting it up raises an exception</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42623">SERVER-42623</a> sched module in Python 3 causes close() event to mistakenly be canceled, leading to resmoke.py hang</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42837">SERVER-42837</a> Allow the waitInFindBeforeBatch FailPoint to take a data.nss parameter</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42866">SERVER-42866</a> Trigger a logical session cache refresh on all shards in the ShardedCluster test fixture before running test</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42888">SERVER-42888</a> Deprecate CodeWScope for use within the mapReduce command</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42917">SERVER-42917</a> Flow Control should disregard faulty wall clock time readings during lag calculation</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42946">SERVER-42946</a> Setting 4.2 FCV in standalone with existing transaction table crashes MongoDB</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-42953">SERVER-42953</a> ttl_repl_secondary_disabled.js should prevent elections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43004">SERVER-43004</a> Turn on archive for zbigMapReduce in sharding suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43022">SERVER-43022</a> Allow compile to be run independently on rhel 62</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43081">SERVER-43081</a> validate should report when an indexs multikeyPaths are set but the multikey flag is false</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43093">SERVER-43093</a> Concurrent calls to ShardingReplicaSetChangeListener::onConfirmedSet can cause starvation in the fixed executor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43166">SERVER-43166</a> auditFormat BSON writes incomplete bson</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43186">SERVER-43186</a> Limit the number of tests added to a generated suite</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43200">SERVER-43200</a> Make auth/mongoURIAuth.js robust to slow commands</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-43288">SERVER-43288</a> Update fallback values for generated tasks</li>
</ul>
</div>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="4.2-downgrade-sharded-cluster.html" title="Previous Section: Downgrade 4.2 Sharded Cluster to 4.0"><span>Downgrade 4.2 Sharded Cluster to 4.0</span></a>
      <a class="btn-next-text" href="4.0.html" title="Next Section: Release Notes for MongoDB 4.0"><span>Release Notes for MongoDB 4.0</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id='mongodb-docs-1'>
   <script type='text/javascript'>
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops='{"links": [{"url": "https://www.mongodb.com/docs/manual/","text": "Server","active": true},{"url": "https://www.mongodb.com/docs/drivers/","text": "Drivers"},{"url": "https://www.mongodb.com/docs/cloud/","text": "Cloud"},{"url": "https://www.mongodb.com/docs/tools/","text": "Tools"},{"url": "https://www.mongodb.com/docs/guides/","text": "Guides"}], "baseUrl": "https://www.mongodb.com/docs"}'></div>

  

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = ['/administration', '/administration/production-checklist', '/administration/indexes-management', '/aggregation', '/applications/geospatial-indexes', '/applications/indexes', '/contributors/getting-started', '/core/2d', '/core/2dsphere', '/core/auditing', '/core/authentication', '/core/authorization', '/core/backups', '/core/read-isolation-consistency-recency', '/core/databases-and-collections', '/core/geohaystack', '/core/index-single', '/core/index-compound', '/core/index-creation', '/core/index-hashed', '/core/index-multikey', '/core/index-partial', '/core/index-sparse', '/core/index-text', '/core/index-ttl', '/core/index-unique', '/core/index-wildcard', '/core/journaling', '/core/kerberos', '/core/map-reduce', '/core/operational-segregation', '/core/query-optimization', '/core/read-preference', '/core/replica-set-architectures', '/core/replica-set-high-availability', '/core/replica-set-members', '/core/replica-set-secondary', '/core/transactions', '/geospatial-queries', '/replication', '/core/sharded-cluster-components', '/core/wiredtiger', '/core/write-operations-atomicity', '/crud', '/indexes', '/installation', '/introduction', '/mongo', '/products/bi-connector', '/reference/command', '/reference/collation', '/text-search', '/tutorial/manage-the-database-profiler', '/core/index-text', '/reference/bson-types', '/reference/configuration-options', '/reference/indexes', '/reference/method', '/reference/operator/aggregation', '/reference/operator/query', '/reference/operator/query-modifier', '/reference/operator/update', '/reference/replication', '/reference/read-concern', '/reference/security', '/reference/sharding', '/reference/write-concern', '/release-notes/2.4', '/release-notes/2.6', '/release-notes/2.8', '/release-notes/3.0', '/release-notes/3.2', '/release-notes/3.4', '/release-notes/3.6', '/release-notes/4.0', '/release-notes/4.2', '/security', '/sharding', '/changeStreams', '/core/zone-sharding', '/core/hashed-sharding', '/core/ranged-sharding', '/storage', '/tutorial/change-sharded-cluster-wiredtiger', '/tutorial/insert-documents', '/tutorial/query-documents', '/tutorial/remove-documents', '/tutorial/update-documents', '/tutorial/enable-authentication', '/tutorial/install-mongodb-on-ubuntu', '/tutorial/install-mongodb-on-windows', '/tutorial/install-mongodb-on-red-hat', '/tutorial/install-mongodb-on-debian', '/tutorial/install-mongodb-on-suse', '/tutorial/install-mongodb-on-amazon', '/tutorial/install-mongodb-enterprise-on-ubuntu', '/tutorial/install-mongodb-enterprise-on-windows', '/tutorial/install-mongodb-enterprise-on-red-hat', '/tutorial/install-mongodb-enterprise-on-debian', '/tutorial/install-mongodb-enterprise-on-suse', '/tutorial/install-mongodb-enterprise-on-amazon', '/tutorial/install-mongodb-on-os-x'];
  </script></body>
</html>